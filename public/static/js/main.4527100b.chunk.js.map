{"version":3,"sources":["Contexts/reducers.js","Contexts/actions.js","config.js","utils/getValuesFromUrl.js","utils/getValuesFormatted.js","utils/getUrl.js","api/APIHandler.js","Contexts/GlobalContext.jsx","components/Theme.jsx","components/simulateur/SimulatorProgressBar.jsx","components/simulateur/SimulatorCategory.jsx","components/simulateur/SimulatorParameterList.jsx","components/simulateur/SimulatorInformationBox.jsx","components/simulateur/SimulatorParameterSlider.jsx","components/simulateur/SimulatorSettings.jsx","components/simulateur/SimulatorIcon.jsx","components/simulateur/SimulatorNavigationLink.jsx","components/simulateur/SimulatorNavigationMenu.jsx","components/simulateur/SimulatorNavigation.jsx","components/Checkbox.jsx","components/simulateur/OptionsBox.jsx","components/simulateur/ResultsIndicator.jsx","components/resultats/compoChart.jsx","components/partials/Modal.jsx","components/Workshops/ModalVSWorkshopType.jsx","utils/getDataToExport.js","components/Workshops/ModalVSConfigureScenario.jsx","utils/getKeys.js","components/Workshops/ModalVSGeneralConfirmation.jsx","components/Workshops/ModalVSConfirmationSent.jsx","components/simulateur/ModalSimValidation.jsx","components/simulateur/ResultsSample.jsx","components/simulateur/SimulatorLoader.jsx","views/Simulator.jsx","hooks/useVisibility.jsx","components/simulateur/SimulatorResultsAreaChart.jsx","components/simulateur/SunburstChart.jsx","components/resultats/resGenLinearChart.jsx","components/resultats/ChartContainer.jsx","views/Results.jsx","components/Workshops/ModalCreateWorkshop.jsx","components/Workshops/ModalWorkshopInfos.jsx","views/Workshops.jsx","components/partials/IndicatorMain.jsx","components/partials/ParametersDistributionChart.jsx","components/partials/ParametersDistributionBox.jsx","components/partials/WSTable.jsx","components/partials/ParametersTables.jsx","components/Workshops/ModalOptionsWorkshop.jsx","components/Workshops/ModalDeleteWorkshop.jsx","utils/average.js","components/Workshops/Participants.jsx","utils/computeData.js","utils/median.js","utils/standardDeviation.js","views/WorkshopInfos.jsx","views/NotFound.jsx","components/GlobalSimulator.jsx","components/partials/ModalAbout.jsx","components/partials/ModalHelp.jsx","components/partials/Header.jsx","App.jsx","index.js"],"names":["globalReducer","state","action","type","value","index","newValues","values","updateOneValue","results","RESULTS_SAMPLE_DISPLAY","key","subtitle","title","graphType","priority","graphYMaximum","indicatorObjectives","getValuesFromUrl","vals","paramValPair","split","params","forEach","p","i","param","jsonFile","parameters","possibleValues","push","getValuesFormatted","units","map","val","toString","replace","getUrl","url","window","location","origin","length","indexOf","this","name","api","axios","create","baseURL","process","withCredentials","route","config","Error","err","console","error","payload","checkRoute","post","query","queryString","count","keyCount","Object","keys","get","patch","put","id","delete","initialData","categories","GlobalContext","React","createContext","ValuesProvider","props","children","useLocation","useReducer","globalState","dispatch","useEffect","a","valuesURL","idSheet","localStorage","getItem","log","pathname","includes","response","data","startIndex","substr","setItem","options","vInit","initDatas","removeItem","valuesFormatted","unit","then","res","resTemp","catch","Provider","theme","createMuiTheme","palette","background","default","secondary","toto","Theme","ThemeProvider","Marker","position","classes","useMarkerStyles","className","marker","makeStyles","backgroundColor","success","main","height","width","left","zIndex","SimulatorProgressBar","progressBarColor","max","ranges","m1","markers","m2","jaugeStart","measures","parentRef","createRef","ref","style","border","Math","round","borderRadius","transition","SimulatorCategory","margin1","margin2","display","colorHover","bottom","top","visibility","marginLeft","SimParametreList","setOneValue","cat","useState","defaultValue","setDefaultValue","infosClass","setInfoClass","componentClass","setComponentClass","expert","handleChange","event","target","expanded","onClick","componentClassSt","icon","faQuestionCircle","faTimesCircle","description","onChange","checked","htmlFor","color","infoCalcul","tendance","coBenefices","contraintes","SimulatorInformationBox","useStyles","root","margin","useToolTipStyles","tooltip","fontSize","arrow","useSliderStyles","thumb","marginTop","boxShadow","active","valueLabel","track","rail","mark","SimParametreSlide","category","sliderClasses","classesToolTip","sliderStep","step","CustomValueLabel","useMemo","forwardRef","restProps","valueLabelFormat","valueLabelDisplay","Tooltip","enterTouchDelay","placement","Slider","aria-labelledby","min","marks","label","splice","getMarks","scale","x","ValueLabelComponent","onChangeCommitted","_","SimulatorParameter","slider","list","rest","SimulatorParameterList","SimulatorParameterSlider","container","SimulatorSettings","modeExpert","useContext","handleValue","jaugeDatas","displayed","Boolean","Cross","viewBox","fill","xmlns","fillRule","clipRule","d","Énergie","Agriculture","Industrie","clipPath","transform","Tertiaire","Transports","Options","Logement","QuestionCircle","clip-path","withRouter","onMouseOver","onMouseLeave","iconList","Default","questionCircle","Habitat","Trajectoire","Paramètres","Icon","SimulatorNavigationLink","href","SimulatorNavigationMenu","hoveredItem","setHoveredItem","currentHash","hash","handleMouserOver","catId","handleMouseLeave","Fragment","SimulatorNav","leftNavData","showOptions","isActiveOptions","scope","CheckboxOutlinedEmpty","CheckboxOutlinedFull","OptionsBox","hideOptions","handleInitValues","handleModeExpert","PurpleSwitch","withStyles","padding","switchBase","Switch","CustomFormLabel","labelPlacementStart","FormControlLabel","CustomCheckBox","Checkbox","e","disableRipple","checkedIcon","control","labelPlacement","LightTooltip","common","white","shadows","ResultsIndicator","indicator","infos","parse","compoChart","datas","isXAxis","isYAxis","reversedDatas","graphDatas","reverse","stackOffsetDiverging","right","stroke","strokeDasharray","dataKey","interval","hide","domain","tickFormatter","content","annualEmi","handleTooltipTitle","yTitle","area","y","fillOpacity","stackId","dot","strokeWidth","handleGraphType","Modal","isOpen","closeModal","okButton","cancelButton","ModalVSWorkshopType","setWorkshopType","getDataToExport","json","jsonFileTemp","JSON","stringify","parameter","dateCreated","Date","now","ModalVSConfigureScenario","setModalVSConfirmationSent","isLoading","setIsLoading","workshop_code","user_email","group_name","setValues","Tous","checkboxValues","setCheckBoxValues","checkboxValuesTemp","handleSubmit","preventDefault","entries","getKeys","onSubmit","FormControl","InputLabel","Input","required","FormHelperText","FormGroup","disabled","ModalVSGeneralConfirmation","idWorkshopsGnl","lysed","rel","to","ResultsSample","modalVSWorkshopType","setModalVSWorkshopType","modalVSConfigureScenario","setModalVSConfigureScenario","modalVSGeneralConfirmation","setModalVSGeneralConfirmation","modalVSConfirmationSent","modalSimValidation","setModalSimValidation","innerWidth","handleIndicatorColor","objective","objReached","Array","isArray","ModalVSConfirmationSent","ModalSimValidation","item","indicators","graphs","SimulatorLoader","Simulator","setModeExpert","initialState","isVisible","setIsVisible","show","useVisibility","Helmet","charSet","faCog","nav","initMode","valuesTemp","init","vMin","bau","vMax","reload","SimulatorResultsAreaChart","xOffset","yOffset","areaDatas","SunburstChart","data01","outerRadius","entry","data02","innerRadius","toolTipContent","resGenLinearChart","line","dat","dotWidth","dotHeight","Graph","Component","Sunburst","Line","LineChart","CompoChart","AreaChart","ChartContainer","graphData","graphText","legendData","sourceData","handleInnerHTML","text","__html","dangerouslySetInnerHTML","subText","Results","arrowVisibility","setArrowVisibility","setResults","climate","energy","air","obj","addEventListener","scrollY","innerHeight","faAngleUp","completeResults","intro","graph","ModalCreateWorkshop","setWorkshopInfos","setModalWorkshopInfos","workshop_name","admin_name","participants_nb","admin_email","ModalWorkshopInfos","workshopInfos","admin_code","Workshops","modalCreateWorkshop","setModalCreateWorkshop","modalWorkshopInfos","src","alt","IndicatorMain","findI","array","diffs","abs","ParametersDistributionChart","median","average","stdev","uniqueKey","toLowerCase","sd1","sd2","medClosest","barDatas","self","nbValues","filter","v","nb","handleData","wsValues","x1","y1","x2","y2","offset","stopColor","stopOpacity","textAnchor","angle","handleFill","ParametersDistributionBox","WSTable","table","numberDisplayed","titles","cell","j","ParametersTables","isViewAll","setIsViewAll","table2","ModalOptionsWorkshop","openDelete","faLink","faTrash","ModalDeleteWorkshop","handleDeleteWS","reduce","sum","Participants","medianParams","computedDatas","WSResults","setWSResults","detailsTable","setDetailsTable","ws","workshops","w","resultsTemp","r","workshop_code_id","indexDisplayed","result","paramTemp","devToMedian","nbModifs","nbResults","tableTemp","LocalDateWS","toLocaleDateString","computeData","wsData","jsonData","uniqueCategories","isComplete","finalDatas","wsParams","sort","b","half","floor","avg","avgSquareDiff","diff","sqrt","standardDeviation","stdevRel","nbModif","setTableDatas","tableRev","tableData","nbModifTable","nbModifRevTable","consensusTable","consensusRevTable","aggregatorInfos","front","back","spreadsheetId","lysed_prod_heroku","national","WorkshopInfos","workshopData","setWorkshopDataData","setJsonFile","setComputedDatas","setIndicators","setMedianParams","missionClimatVersion","setMissionClimatVersion","setUrl","page","setPage","sector","setSector","sectorTable","setSectorTable","modalOptionsWS","setModalOptionsWS","modalDeleteWS","setModalDeleteWS","match","aggregator","version","computedDatasTemp","medianParamsWithinAllData","medianParamsComplete","finalValues","counter","addNonDisplayedValues","indicatorsTemps","degree","stdDev","toFixed","faUser","impactGnl","impactGnlTable","impactLcl","faLongArrowAltUp","faLongArrowAltDown","titlesFinal","sectorData","dataFinal","handleSectorsDetailTable","sectorsDetailTable","NotFound","GlobalSimulator","year","setYear","evolution","setEvolution","dataH","dataS","setDataS","emissionsCumulated","setEmissionsCumulated","sliderEvolution","sliderYear","dataTemp","getEmissions","emissionsTemp","cumul","emissions","total","getTotalEmissions","getReduction","firstEmissions","pow","getEmissionsOfYear","setDataFromDataToMatchBudgetLOL","budget","from","dataTab","emiDeviationMin","iMin","emi","emiDeviation","reduction2030","reduction2050","Button","variant","ModalAbout","ModalHelp","openAbout","setOpenAbout","openHelp","setOpenHelp","hostname","ReactGA","initialize","pageview","search","screen","App","deleteSheet","Mobile","Desktop","open","setOpen","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"09jIAQaA,EAAgB,SAACC,EAAOC,GACnC,OAAQA,EAAOC,MACb,ICVwB,eDWtB,OATiB,SAACC,EAAOC,EAAOJ,GACpC,IAAMK,EAAS,YAAOL,EAAMM,QAE5B,OADAD,EAAUD,GAAO,GAAKD,EACf,eAAKH,EAAZ,CAAmBM,OAAQD,IAMhBE,CAAeN,EAAOE,MAAOF,EAAOG,MAAOJ,GAEpD,ICX0B,iBDYxB,OAAO,eAAKA,EAAZ,CAAmBQ,QAASP,EAAOO,UAErC,ICfuB,cDgBrB,OAAO,eAAKR,EAAZ,CAAmBM,OAAQL,EAAOK,SAEpC,QACE,OAAON,I,QEfAS,EAAyB,CACpC,CACEC,IAAK,UACLC,SAAU,uBACVC,MAAO,SACPC,UAAW,QACXC,SAAU,OACVC,cAAe,IACfC,qBAAsB,IAExB,CACEN,IAAK,SACLC,SAAU,eACVC,MAAO,UACPC,UAAW,QACXC,SAAU,OACVC,cAAe,IACfC,qBAAsB,IAExB,CAAEN,IAAK,MAAOE,MAAO,kDAA6CC,UAAW,KAAMC,SAAU,YAAaE,oBAAqB,EAAE,IAAK,IAAK,MCrBtI,SAASC,EAAiBC,GAC/B,IAAMC,EAAeD,EAAKE,MAAM,MAC5BC,EAAS,GAYb,OAXAF,EAAaG,SAAQ,SAACC,EAAGC,GACvB,IAAIC,EAAQC,EAASC,WAAWH,GAEhC,GAAmB,SAAfC,EAAMvB,KAAiB,CACzB,IAAII,EAASmB,EAAMG,eAAeR,MAAM,MACxCC,EAAOQ,KAAK,CAACvB,EAAOiB,EAAEH,MAAM,KAAK,WAEjCC,EAAOQ,KAAK,CAACN,EAAEH,MAAM,KAAK,QAIvBC,ECjBF,SAASS,EAAmBZ,EAAMa,GASvC,OARgBb,EAAKc,KAAI,SAACC,EAAKT,GAM7B,MALiB,MAAbO,EAAMP,KACRS,GAAO,KAIF,CAFKA,EAAIC,WACOC,QAAQ,IAAK,SCNjC,SAASC,EAAO9B,EAAQqB,GAE7B,IADA,IAAIU,EAAMC,OAAOC,SAASC,OAAS,wBAC1BhB,EAAI,EAAGA,EAAIG,EAAWc,OAAQjB,IAAK,CAC1C,IAAIC,EAAQE,EAAWH,GAGvB,GAFAa,GAAO,IAAMb,EAAI,IAEE,WAAfC,EAAMvB,KACRmC,GAAO/B,EAAOkB,GAAG,QACZ,GAAmB,SAAfC,EAAMvB,KAAiB,CAEhCmC,GADqBZ,EAAMG,eAAeR,MAAM,MAC1BsB,QAAQpC,EAAOkB,GAAG,IAEtCA,EAAIG,EAAWc,OAAS,IAC1BJ,GAAO,MAGX,OAAOA,E,gDC6DM,M,WA1Eb,aAAe,oBACbM,KAAKC,KAAO,aAGZD,KAAKE,IAAMC,IAAMC,OAAO,CACtBC,QAASC,qCAETC,iBAAiB,I,uDAIVC,EAAOC,GAChB,IACE,IAAKD,EAAO,MAAM,IAAIE,MAAM,6CAC5B,GAAID,GAA4B,kBAAXA,EAAqB,MAAM,IAAIC,MAAM,4BAC1D,MAAOC,GACP,OAAOC,QAAQC,MAAMF,M,2BAIpBH,EAAOM,EAASL,GAEnB,GADAT,KAAKe,WAAWP,EAAOC,GACnBK,GAA8B,kBAAZA,EACpB,MAAM,IAAIJ,MAAJ,UAAaV,KAAKC,KAAlB,mEACR,OAAOD,KAAKE,IAAIc,KAAKR,EAAOM,EAASL,K,0BAGnCD,EAAOS,EAAOR,GAChBT,KAAKe,WAAWP,EAAOC,GACvB,IAAIS,EAAc,GAClB,GAAID,EAAO,CACT,GAAqB,kBAAVA,EACT,MAAM,IAAIP,MAAJ,UAAaV,KAAKC,KAAlB,gEACR,IAAIkB,EAAQ,EACRC,EAAWC,OAAOC,KAAKL,GAC3B,IAAK,IAAIlD,KAAOkD,EACTE,IAAOD,GAAe,KACvBC,GAASA,EAAQC,IAAUF,GAAe,KAC9CA,GAAW,UAAOnD,EAAP,YAAckD,EAAMlD,IAC/BoD,IAIJ,OAAOnB,KAAKE,IAAIqB,IAAIf,GAASU,GAAe,IAAKT,K,4BAG7CD,EAAOM,EAASL,GAEpB,GADAT,KAAKe,WAAWP,EAAOC,IAClBK,GAA8B,kBAAZA,EACrB,MAAM,IAAIJ,MAAJ,UACDV,KAAKC,KADJ,oEAGR,OAAOD,KAAKE,IAAIsB,MAAMhB,EAAOM,EAASL,K,8BAGhCD,EAAOM,EAASL,GAEtB,GADAT,KAAKe,WAAWP,EAAOC,IAClBK,GAA8B,kBAAZA,EACrB,MAAM,IAAIJ,MAAJ,UACDV,KAAKC,KADJ,sEAGR,OAAOD,KAAKE,IAAIuB,IAAIjB,EAAOM,EAASL,K,6BAG/BD,EAAOkB,EAAIjB,GAEhB,GADAT,KAAKe,WAAWP,EAAOC,IAClBiB,EACH,MAAM,IAAIhB,MAAJ,UACDV,KAAKC,KADJ,6EAGR,OAAOD,KAAKE,IAAIyB,OAAT,UAAmBnB,EAAnB,YAA4BkB,Q,MC9DjCE,EAAc,CAClBjE,OAAQ,KACRkE,WAAY9C,EAAS8C,WACrBhE,QAAS,MAGEiE,EAAgBC,IAAMC,gBA4GpBC,EA1GQ,SAACC,GAAW,IACzBC,EAAaD,EAAbC,SACFvC,EAAWwC,cAFe,EAGAC,qBAAWjF,EAAewE,GAH1B,mBAGzBU,EAHyB,KAGZC,EAHY,KA8FhC,OAlFAC,qBAAU,WAAM,4CACd,4CAAAC,EAAA,yDACMC,EAAY,KAEVC,EAAUC,aAAaC,QLnCR,kBKgCvB,oBAMIjC,QAAQkC,IAAI,6BAA8BH,GAErC/C,EAASmD,SAASC,SAAS,aARpC,iCAS6B9C,EAAIqB,IAAI,iBAAmBoB,GATxD,OASYM,EATZ,OAUMV,EAAS,CACPhF,KN1Ce,cM2CfI,OAAQsF,EAASC,KAAKvF,SAZ9B,wBAgBYwF,EAAavD,EAASmD,SAAShD,QAAQ,OACvCL,EAAME,EAASmD,SAASK,OAAOD,GACrCT,EAAYpE,EAAiBoB,GAC7B6C,EAAS,CACPhF,KNnDe,cMoDfI,OAAQ+E,IArBhB,iDA2B2BxC,EAAIqB,IAAI,WA3BnC,QA2BU0B,EA3BV,OA4BUN,EAAUM,EAASC,KAAKxB,GAC9BkB,aAAaS,QAAQ,gBAAiBV,GACtC/B,QAAQkC,IAAI,qBAAsBH,GAG9B/C,EAASmD,SAASC,SAAS,cACvBG,EAAavD,EAASmD,SAAShD,QAAQ,OACvCL,EAAME,EAASmD,SAASK,OAAOD,GACrCT,EAAYpE,EAAiBoB,GAC7B6C,EAAS,CACPhF,KNrEe,cMsEfI,OAAQ+E,KAKVH,EAAS,CACPhF,KN5Ee,cM6EfI,OAAQoB,EAASuE,QAAQC,QA9CjC,6CADc,uBAAC,WAAD,wBAqDdC,GAGIZ,aAAaC,QAAQ,YACvBD,aAAaa,WAAW,aAEzB,CAAC7D,EAASmD,WAIbP,qBAAU,WACR,GAAKF,EAAY3E,OAAjB,CAEA,IAAMgF,EAAUC,aAAaC,QAAQ,iBAC/Ba,EAAkBvE,EAAmBmD,EAAY3E,OAAQoB,EAASuE,QAAQK,MAC5EhB,GACFzC,EACGsB,MAAM,iBAAmBmB,EAAS,CAAEhF,OAAQ+F,IAC5CE,MAAK,SAACC,GACL,IAAMC,EAAUD,EAAIX,KAAKrF,QACzBiG,EAAQpE,IAAMD,EAAO6C,EAAY3E,OAAQoB,EAASC,YAGlDuD,EAAS,CAAEhF,KNzGS,iBMyGqBM,QAASiG,OAEnDC,OAAM,SAACpD,GAAD,OAASC,QAAQkC,IAAInC,SAE/B,CAAC2B,EAAY3E,SAGd,kBAACmE,EAAckC,SAAf,CACExG,MAAO,CACL8E,cACAC,aAGDJ,I,kBCnHD8B,EAAQC,YAAe,CAC3BC,QAAS,CACPC,WAAY,CAEVC,QAAS,UACTC,UAAW,UACXC,KAAM,cAWGC,EAND,SAACtC,GAAW,IAChBC,EAAaD,EAAbC,SAER,OAAO,kBAACsC,EAAA,EAAD,CAAeR,MAAOA,GAAQ9B,I,kDChBjCuC,EAAS,SAACxC,GAAW,IACjByC,EAAmBzC,EAAnByC,SAAUpH,EAAS2E,EAAT3E,KAEZqH,EAAUC,EAAgB,CAAEtH,OAAMoH,aAExC,OAAO,yBAAKG,UAAWF,EAAQG,UAkE3BF,EAAkBG,aAAW,SAACf,GAAD,MAAY,CAC7Cc,OAAQ,CACNE,gBAAiB,SAAC/C,GAAD,MACA,YAAfA,EAAM3E,KAAqB0G,EAAME,QAAQe,QAAQC,KAAOlB,EAAME,QAAQtD,MAAMsE,MAC9EC,OAAQ,SACRC,MAAO,MACPV,SAAU,WACVW,KAAM,SAACpD,GAAD,gBAAcA,EAAMyC,WAC1BY,OAAQ,OAIGC,EA3Ec,SAAC,GAAmC,IAAjC3H,EAAgC,EAAhCA,QAAS4H,EAAuB,EAAvBA,iBACjCvC,EAAOrF,EAAQ,GACf6H,EAAMxC,EAAKyC,OAAO,GAClBC,EAAM1C,EAAK2C,QAAQ,GAAKH,EAAO,IAAM,IAAO,IAC5CI,EAAM5C,EAAK2C,QAAQ,GAAKH,EAAO,IAAM,IAAO,IAC5CK,GAAe7C,EAAK2C,QAAQ,GAAKH,EAAO,IAAM,GAAM,IACpDlI,EAAS0F,EAAK8C,SAAS,GAAKN,EAAO,IACnCO,EAAYlE,IAAMmE,UAAU,MAkBlC,OACE,yBACEpB,UAAU,YACVqB,IAAKF,EACLG,MAAO,CACLhB,OAAQ,OACRC,MAAO,OACPJ,gBAAiB,QACjBoB,OAAQ,oBACR1B,SAAU,aAGZ,kBAAC,EAAD,CAAQpH,KAAK,UAAUoH,SAAUiB,IACjC,kBAAC,EAAD,CAAQrI,KAAK,UAAUoH,SAAUmB,IACjC,yBACEhB,UAAU,kCACVsB,MAAO,CACLd,KAAK,QAAD,OAAU9H,EAAQ,IAAM,IAAMA,EAA9B,QAGN,0CAAgB8I,KAAKC,MAAM1I,EAAQ,GAAGmI,SAAS,IAA/C,YAEF,yBACElB,UA1BG5B,EAAK8C,SAAS,IAAM9C,EAAKyC,OAAO,GAAK,GAAK,gBAAkB,YA2B/DS,MAAO,CACLI,aAAc,OACdpB,OAAQ,SACRC,MAAM,GAAD,OAAK7H,EAAQ,IAAM,IAAMA,EAAzB,KACLmH,SAAU,WACVW,KAAK,GAAD,OAAKS,EAAL,MACJU,WAAY,KACZxB,gBAAiBQ,OCqBZiB,EArFW,SAAC,GAA8B,IAA5BxD,EAA2B,EAA3BA,KAAMrF,EAAqB,EAArBA,QAAqB,EAAZJ,MAE1C,GAAII,EAAS,CACX,IAAM6H,EAAM7H,EAAQ,GAAG8H,OAAO,GACxBC,EAAM/H,EAAQ,GAAGgI,QAAQ,GAAKH,EAAO,IACrCI,EAAMjI,EAAQ,GAAGgI,QAAQ,GAAKH,EAAO,IAEvCiB,EAAU,EAEZA,EADEf,EAAK,GACG,KAEAA,EAAK,GAAK,IAGtB,IAAIgB,EAAU,EAEZA,EADEd,EAAKF,EAAK,GACF,KACDE,EAAK,GACJ,GAAKF,EAAK,GAAK,IAEfE,EAAKF,EAAK,GAAK,IAI7B,OACE,yBAAKlE,GAAI,MAAQwB,EAAKzF,MAAOqH,UAAU,2BACrC,6BACE,wBACEsB,MAAO,CAAEzB,SAAU,WAAYkC,QAAS,QAASxB,MAAO,eACxDP,UAAU,sBAET5B,EAAKjD,KACN,0BACEmG,MAAO,CACLzB,SAAU,WACVS,OAAQ,MACRH,gBAAiB/B,EAAK4D,WACtBxB,KAAM,EACNyB,OAAQ,EACRC,IAAK,OACL3B,MAAO,WAMdxH,GAAWqF,EAAKjD,OAASpC,EAAQ,GAAGoC,MACnC,yBAAK6E,UAAU,yBACb,uBAAGsB,MAAO,CAAEa,WAAY,UAAYnC,UAAU,2BAA9C,eACewB,KAAKC,MAAM1I,EAAQ,GAAGmI,SAAS,IAD9C,WAIA,yBAAKlB,UAAU,aACZjH,GAAWqF,EAAKjD,OAASpC,EAAQ,GAAGoC,MACnC,kBAAC,EAAD,CAAsBwF,iBAAkBvC,EAAK4D,WAAYjJ,QAASA,KAGtE,yBAAKiH,UAAU,mCACb,yBAAKsB,MAAO,CAAEzB,SAAU,WAAYuC,WAAW,GAAD,OAAKP,KACjD,6BACE,sCAEF,6BACE,uBAAG7B,UAAU,sBACVwB,KAAKC,MAAM1I,EAAQ,GAAGgI,QAAQ,IADjC,IACsC,2CAI1C,yBAAKO,MAAO,CAAEzB,SAAU,WAAYuC,WAAW,GAAD,OAAKN,KACjD,6BACE,oCAEF,6BACE,uBAAG9B,UAAU,sBACVwB,KAAKC,MAAM1I,EAAQ,GAAGgI,QAAQ,IADjC,IACsC,+CCoBvCsB,G,OA1FU,SAAC,GAAuC,IAArCjE,EAAoC,EAApCA,KAAM1F,EAA8B,EAA9BA,MAAO4J,EAAuB,EAAvBA,YAAaC,EAAU,EAAVA,IAAU,EACtBC,mBAAS9J,EAAM,IADO,mBACvD+J,EADuD,KACzCC,EADyC,KAExDvI,EAAiBiE,EAAKjE,eAAeR,MAAM,MAFa,EAG3B6I,mBAAS,+BAHkB,mBAGvDG,EAHuD,KAG3CC,EAH2C,OAIlBJ,mBAAS,IAJS,mBAIvDK,EAJuD,KAIvCC,EAJuC,KAM9DpF,qBAAU,WACJU,EAAK2E,OACPD,EAAkB,sCACbA,EAAkB,4BACxB,CAAC1E,EAAK2E,SAET,IAAMC,EAAe,SAACC,GACpBP,EAAgBO,EAAMC,OAAOtG,IAC7B0F,EAAYW,EAAMC,OAAOtG,GAAIwB,EAAKzF,QAepC,IAAMwK,EAAWN,EAAe3E,SAAS,YAEzC,OACE,yBAAK8B,UAAW6C,GACd,yBAAKjG,GAAE,eAAYwB,EAAKzF,QACtB,yBAAKqH,UAAU,wCACb,wBAAIA,UAAU,sBAAsB5B,EAAKjD,MACzC,4BAAQ1C,KAAK,SAASuH,UAAU,sCAAsCoD,QAnB9E,WACE,IAAIC,EAAmB,GACnBjF,EAAK2E,SAAQM,GAAoB,eACjCR,EAAe3E,SAAS,2BAC1B4E,EAAkB,GAAD,OAAIO,EAAJ,8BACjBT,EAAa,4CAEbE,EAAkB,GAAD,OAAIO,EAAJ,4BACjBT,EAAa,mCAYLO,GAAY,kBAAC,IAAD,CAAiBG,KAAMC,MACpCJ,GAAY,kBAAC,IAAD,CAAiBG,KAAME,QAGvCpF,EAAKqF,aAAe,uBAAGzD,UAAU,oBAAoB5B,EAAKqF,aAE3D,8BACE,yBAAKzD,UAAU,aACZ7F,EAAeI,KAAI,SAACC,EAAKT,GAAN,OAClB,yBAAKd,IAAKc,EAAGiG,UAAU,mBACrB,2BACEvH,KAAK,QACLQ,IAAKc,EACL6C,GAAIpC,EACJW,KAAMpB,EACN2J,SAAUV,EACVW,QAASnJ,IAAQiI,IAEnB,2BAAOzC,UAAU,mBAAmB/G,IAAG,aAAUc,GAAK6J,QAASpJ,GAC5DA,UAQb,yBAAKwF,UAAW2C,EAAYrB,MAAO,CAAEnB,gBAAiBoC,EAAIsB,QACxD,yBAAK7D,UAAU,aACb,6BACE,uDACA,2BAAI5B,EAAK0F,aAEX,6BACE,yCACA,2BAAI1F,EAAK2F,YAGb,6BACE,6BACE,kDACA,2BAAI3F,EAAK4F,cAEX,6BACE,2CACA,2BAAI5F,EAAK6F,mB,0BC5DNC,EA3BiB,SAAC,GAAc,IAAZ9F,EAAW,EAAXA,KACjC,OACE,yBAAK4B,UAAS,0CACZ,yBAAKA,UAAU,aACb,6BACE,uDACA,2BAAI5B,EAAK0F,aAEX,6BACE,yCACA,2BAAI1F,EAAK2F,YAGb,6BACE,6BACE,kDACA,2BAAI3F,EAAK4F,cAEX,6BACE,2CACA,2BAAI5F,EAAK6F,iBCuGbE,EAAYjE,aAAW,SAACf,GAAD,MAAY,CACvCiF,KAAM,CACJ7D,MAAO,QAET8D,OAAQ,CACN/D,OAAQ,OAINgE,EAAmBpE,aAAW,SAACf,GAAD,MAAY,CAC9CoF,QAAS,CACPV,MAAO,QACPW,SAAU,QACVrE,gBAAiB,SAAC/C,GAAD,OAAWA,EAAM+C,kBAEpCsE,MAAO,CACLZ,MAAO,SAACzG,GAAD,OAAWA,EAAM+C,sBAItBuE,EAAkBxE,YAAW,CACjCkE,KAAM,CACJP,MAAO,UACPvD,OAAQ,GAEVqE,MAAO,CACLrE,OAAQ,GACRC,MAAO,GACPmB,aAAc,EACdH,OAAO,kBACPpB,gBAAiB,SAAC/C,GAAD,OAAWA,EAAM+C,iBAClCyE,WAAY,EACZxC,YAAa,EACb,2BAA4B,CAC1ByC,UAAW,YAGfC,OAAQ,GACRC,WAAY,GACZC,MAAO,CACL1E,OAAQ,EACRoB,aAAc,EACdmC,MAAO,WAEToB,KAAM,CACJ3E,OAAQ,EACRoB,aAAc,GAEhBwD,KAAM,CACJ/E,gBAAiB,UACjBG,OAAQ,GACRC,MAAO,EACPqE,WAAY,OAIDO,EAzKW,SAAC,GAA4C,IAA1C/G,EAAyC,EAAzCA,KAAM1F,EAAmC,EAAnCA,MAAO4J,EAA4B,EAA5BA,YAAa8C,EAAe,EAAfA,SAAe,EACxB5C,mBAAS,IADe,mBAC7DK,EAD6D,KAC7CC,EAD6C,KAI9DuC,EAAgBX,EAAgB,CAAEvE,gBAAiBiF,EAASpD,aAC5DsD,EAAiBhB,EAAiB,CAAEnE,gBAAiBiF,EAASpD,aAEpEtE,qBAAU,WACJU,EAAK2E,OACPD,EAAkB,sCACbA,EAAkB,4BACxB,CAAC1E,EAAK2E,SAEQ3E,EAATS,KAb4D,IAc9D0G,EAAanH,EAAKoH,KAClB1F,EAAUqE,IACVhB,EAAWN,EAAe3E,SAAS,YAkCzC,IAAMuH,EAAmBxI,IAAMyI,SAAQ,WACrC,OAAOzI,IAAM0I,YACX,WAAyEtE,GAAS,IAA/EhE,EAA8E,EAA9EA,SAAU3E,EAAoE,EAApEA,MAA+CkN,GAAqB,EAA7DC,iBAA6D,EAA3CC,kBAA2C,4EAC/E,OACE,kBAACC,EAAA,EAAD,iBACMH,EADN,CAEE9F,QAASwF,EACTjE,IAAKA,EACL2E,gBAAiB,EACjBC,UAAU,MACV9M,MAAOT,EACP+L,OAAK,IAEJpH,QAKR,IAEH,OACE,yBAAK2C,UAAW6C,EAAgB5J,IAAKmF,EAAKzF,OACxC,yBAAKqH,UAAU,wCACb,wBAAIA,UAAU,sBAAsB5B,EAAKjD,MAEzC,4BAAQ1C,KAAK,SAASuH,UAAU,sCAAsCoD,QAvC5E,WACE,IAAIC,EAAmB,GACnBjF,EAAK2E,SAAQM,GAAoB,eACjCR,EAAe3E,SAAS,0BAC1B4E,EAAkB,GAAD,OAAIO,EAAJ,8BAEjBP,EAAkB,GAAD,OAAIO,EAAJ,+BAkCXF,GAAY,kBAAC,IAAD,CAAiBG,KAAMC,MACpCJ,GAAY,kBAAC,IAAD,CAAiBG,KAAME,QAGvCpF,EAAKqF,aAAe,uBAAGzD,UAAU,oBAAoB5B,EAAKqF,aAE3D,yBAAKzD,UAAWF,EAAQsE,MACtB,yBAAKpE,UAAWF,EAAQuE,SACxB,kBAAC6B,EAAA,EAAD,CACEjN,IAAKmF,EAAKzF,MACVmH,QAAS,CACPsE,KAAMiB,EAAcjB,KACpBO,MAAOU,EAAcV,MACrBK,MAAOK,EAAcL,MACrBC,KAAMI,EAAcJ,KACpBC,KAAMG,EAAcH,MAEtBzC,aAAc/J,EAAM,GACpByN,kBAAgB,yBAChBC,IAAKhI,EAAKgI,IACVxF,IAAKxC,EAAKwC,IACV4E,KAAMD,EACNc,MAhFS,WACf,IAAMxN,EAAS,CACb,CAAEH,MAAO0F,EAAKgI,IAAKE,MAAM,GAAD,OAAKlI,EAAKgI,KAAV,OAAgBhI,EAAKS,OAC7C,CAAEnG,MAAO0F,EAAK1F,OACd,CAAEA,MAAO0F,EAAKwC,IAAK0F,MAAM,GAAD,OAAKlI,EAAKwC,KAAV,OAAgBxC,EAAKS,QAO/C,OAJIT,EAAKgI,MAAQhI,EAAK1F,OAAS0F,EAAKwC,MAAQxC,EAAK1F,OAC/CG,EAAO0N,OAAO,EAAG,GAGZ1N,EAqEM2N,GACPC,MAAO,SAACC,GAAD,OAAOA,EAAItI,EAAKS,MACvB8H,oBAAqBlB,EACrBK,kBAAkB,OAClBc,kBAtEa,SAACC,EAAGrM,GACvB8H,EAAY9H,EAAK4D,EAAKzF,QAsEhBqM,MAAM,YAIT7B,GAAY,kBAAC,EAAD,CAAyB/E,KAAMA,MC9G5C0I,EAAqB,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,KAASC,EAAW,iCACxD,OAAID,EACK,kBAACE,EAA2BD,GAEjCF,EACK,kBAACI,EAA6BF,GAEhC,MAmDH9C,EAAYjE,aAAW,SAACf,GAAD,MAAY,CACvCiI,UAAW,CACTjH,gBAAiBhB,EAAME,QAAQC,WAAWE,UAC1C,qBAAsB,CACpBW,gBAAiBhB,EAAME,QAAQC,WAAWC,cAKjC8H,GAzDW,SAAC,GAAmB,EAAjBC,WAAkB,IACvCxH,EAAUqE,IAD4B,EAGVoD,qBAAWvK,GAArCQ,EAHoC,EAGpCA,YAAaC,EAHuB,EAGvBA,SAEf5E,EAAS2E,EAAY3E,OACrBE,EAAUyE,EAAYzE,QACtBgE,EAAaS,EAAYT,WAEzByK,EAAc,SAAC9O,EAAOC,GAC1B8E,EAAS,CACPhF,Kb9BsB,ea+BtBC,QACAC,WAIJ,OAAOoE,EAAWxC,KAAI,SAAC6K,EAAUrL,GAC/B,OACE,yBAAKd,IAAKmM,EAAShH,KAAKzF,MAAOqH,UAAS,6BAAwBF,EAAQsH,YACtE,kBAAC,EAAD,CACEnO,IAAKmM,EAAShH,KAAKzF,MACnByF,KAAMgH,EAAShH,KACfzF,MAAOoB,EACPhB,QAASA,EAAQ0O,WAAW1N,KAE9B,yBAAKiG,UAAU,2BACZoF,EAASlL,WAAWK,KACnB,SAACP,GAAD,OACEA,EAAMoE,KAAKsJ,UACT,kBAAC,EAAD,CACEzO,IAAKe,EAAMoE,KAAKzF,MAChB2J,YAAakF,EACbT,OAAQY,QAAQ3N,EAAMvB,KAAKsO,QAC3BC,KAAMW,QAAQ3N,EAAMvB,KAAKuO,MACzBtO,MAAOG,EAAOmB,EAAMoE,KAAKzF,OACzByM,SAAUA,EAAShH,KACnBA,KAAMpE,EAAMoE,OAGhB,8CCzBRwJ,GAAQ,SAAC,GAAwB,IAAtB/D,EAAqB,EAArBA,MAAUoD,EAAW,yBACpC,OACE,yCACMA,EADN,CAEE1G,MAAM,KACND,OAAO,KACPuH,QAAQ,YACRC,KAAK,OACLC,MAAM,+BAEN,0BAAMxH,MAAM,KAAKD,OAAO,KAAKwH,KAAK,SAClC,0BACEE,SAAS,UACTC,SAAS,UACTC,EAAE,8gBACFJ,KAAMjE,GAAS,YAMjBsE,GAAU,SAAC,GAAwB,IAAtBtE,EAAqB,EAArBA,MAAUoD,EAAW,yBACtC,OACE,yCACMA,EADN,CAEE1G,MAAM,KACND,OAAO,KACPuH,QAAQ,YACRC,KAAK,OACLC,MAAM,+BAEN,0BACEG,EAAE,q3BACFJ,KAAMjE,IAER,0BACEqE,EAAE,6UACFJ,KAAMjE,IAER,0BACEqE,EAAE,0iBACFJ,KAAMjE,IAER,0BACEqE,EAAE,ukBACFJ,KAAMjE,MAMRuE,GAAc,SAAC,GAAwB,IAAtBvE,EAAqB,EAArBA,MAAUoD,EAAW,yBAC1C,OACE,yCACMA,EADN,CAEE1G,MAAM,KACND,OAAO,KACPuH,QAAQ,YACRC,KAAK,OACLC,MAAM,+BAER,0BAAMG,EAAE,q3GACNJ,KAAMjE,MAMNwE,GAAY,SAAC,GAAwB,IAAtBxE,EAAqB,EAArBA,MAAUoD,EAAW,yBACxC,OACE,yCACMA,EADN,CAEE1G,MAAM,KACND,OAAO,KACPuH,QAAQ,YACRC,KAAK,OACLC,MAAM,+BAEN,uBAAGO,SAAS,eACV,0BACEJ,EAAE,4oDACFJ,KAAMjE,IAER,0BACEqE,EAAE,qSACFJ,KAAMjE,IAER,0BACEqE,EAAE,qSACFJ,KAAMjE,IAER,0BACEqE,EAAE,mSACFJ,KAAMjE,IAER,0BACEqE,EAAE,qSACFJ,KAAMjE,IAER,0BACEqE,EAAE,2RACFJ,KAAMjE,IAER,0BACEqE,EAAE,qSACFJ,KAAMjE,IAER,0BACEqE,EAAE,qSACFJ,KAAMjE,IAER,0BACEqE,EAAE,mSACFJ,KAAMjE,IAER,0BACEqE,EAAE,qSACFJ,KAAMjE,IAER,0BACEqE,EAAE,2RACFJ,KAAMjE,IAER,0BACEqE,EAAE,ojCACFJ,KAAMjE,IAER,0BACEqE,EAAE,glCACFJ,KAAMjE,IAER,0BACEqE,EAAE,skCACFJ,KAAMjE,KAGV,8BACE,8BAAUjH,GAAG,SACX,0BAAM2D,MAAM,KAAKD,OAAO,KAAKwH,KAAK,QAAQS,UAAU,yBAOxDC,GAAY,SAAC,GAAwB,IAAtB3E,EAAqB,EAArBA,MAAUoD,EAAW,yBACxC,OACE,yCACMA,EADN,CAEE1G,MAAM,KACND,OAAO,KACPuH,QAAQ,YACRC,KAAK,OACLC,MAAM,+BAEN,0BACEG,EAAE,qFACFJ,KAAMjE,IAER,0BACEqE,EAAE,qMACFJ,KAAMjE,IAER,0BACEqE,EAAE,mFACFJ,KAAMjE,IAER,0BAAMqE,EAAE,oDAAoDJ,KAAMjE,IAClE,0BAAMqE,EAAE,oDAAoDJ,KAAMjE,IAClE,0BAAMqE,EAAE,kDAAkDJ,KAAMjE,IAChE,0BAAMqE,EAAE,6CAA6CJ,KAAMjE,IAC3D,0BAAMqE,EAAE,8CAA8CJ,KAAMjE,IAC5D,0BAAMqE,EAAE,iDAAiDJ,KAAMjE,IAC/D,0BAAMqE,EAAE,kDAAkDJ,KAAMjE,IAChE,0BAAMqE,EAAE,mDAAmDJ,KAAMjE,IACjE,0BAAMqE,EAAE,oDAAoDJ,KAAMjE,IAClE,0BAAMqE,EAAE,mDAAmDJ,KAAMjE,IACjE,0BAAMqE,EAAE,oDAAoDJ,KAAMjE,IAClE,0BAAMqE,EAAE,mDAAmDJ,KAAMjE,IACjE,0BAAMqE,EAAE,oDAAoDJ,KAAMjE,IAClE,0BAAMqE,EAAE,mDAAmDJ,KAAMjE,IACjE,0BAAMqE,EAAE,oDAAoDJ,KAAMjE,IAClE,0BACEqE,EAAE,sdACFJ,KAAMjE,MAMR4E,GAAa,SAAC,GAAwB,IAAtB5E,EAAqB,EAArBA,MAAUoD,EAAW,yBACzC,OACE,yCACMA,EADN,CAEE1G,MAAM,KACND,OAAO,KACPuH,QAAQ,YACRC,KAAK,OACLC,MAAM,+BAEN,0BACEG,EAAE,i2GACFJ,KAAMjE,MAMR6E,GAAU,SAAC,GAAwB,IAAtB7E,EAAqB,EAArBA,MAAUoD,EAAW,yBACtC,OACE,yCACMA,EADN,CAEE1G,MAAM,KACND,OAAO,KACPuH,QAAQ,YACRC,KAAK,OACLC,MAAM,+BAEN,0BACEG,EAAE,2xGACFJ,KAAMjE,IAER,0BACEqE,EAAE,08BACFJ,KAAMjE,IAER,0BACEqE,EAAE,u/HACFJ,KAAMjE,IAER,0BACEqE,EAAE,gaACFJ,KAAMjE,MAMR8E,GAAW,SAAC,GAAwB,IAAtB9E,EAAqB,EAArBA,MAAUoD,EAAW,yBACvC,OACE,yCACMA,EADN,CAEE1G,MAAM,KACND,OAAO,KACPuH,QAAQ,YACRC,KAAK,OACLC,MAAM,+BAEN,0BACEG,EAAE,yxCACFJ,KAAMjE,IAER,0BACEmE,SAAS,UACTC,SAAS,UACTC,EAAE,u4BACFJ,KAAMjE,IAER,0BACEmE,SAAS,UACTC,SAAS,UACTC,EAAE,8/BACFJ,KAAMjE,IAER,0BACEmE,SAAS,UACTC,SAAS,UACTC,EAAE,+YACFJ,KAAMjE,IAER,0BACEmE,SAAS,UACTC,SAAS,UACTC,EAAE,saACFJ,KAAMjE,IAER,0BACEmE,SAAS,UACTC,SAAS,UACTC,EAAE,8hBACFJ,KAAMjE,IAER,0BACEmE,SAAS,UACTC,SAAS,UACTC,EAAE,4ZACFJ,KAAMjE,MAMR+E,GAAiB,SAACxL,GACtB,OACE,yBAAKmD,MAAM,KAAKD,OAAO,KAAKuH,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAChE,uBAAGc,YAAU,eACX,0BACEX,EAAE,g7BACFJ,KAAK,UAEP,0BACEI,EAAE,muCACFJ,KAAK,UAEP,0BACEI,EAAE,8MACFJ,KAAK,WAGT,8BACE,8BAAUlL,GAAG,SACX,0BAAM2D,MAAM,KAAKD,OAAO,KAAKwH,KAAK,cAO7BgB,gBA7VO,SAAC,GAAoD,IAAlDxF,EAAiD,EAAjDA,KAAMO,EAA2C,EAA3CA,MAAOjH,EAAoC,EAApCA,GAAImM,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,aAC/CC,EAAW,CACfC,QAAStB,GACTuB,eAAgBP,GAChBQ,QAAST,GACTF,WAAYA,GACZL,YAAaA,GACbI,UAAWA,GACXH,UAAWA,GACXF,aAASA,GACTO,QAASA,GACTd,MAAOA,GACPyB,YAAa,0BACbC,gBAAY,mCAGRC,EAAOhN,OAAOC,KAAKyM,GAAU/K,SAASoF,GAAQ2F,EAAS3F,GAAQ2F,EAAQ,QAE7E,OAAKF,EAGE,kBAACQ,EAAD,CACG1F,MAAOA,EACPkF,YAAa,kBAAMA,EAAYnM,IAC/BoM,aAAcA,IALf,kBAACO,EAAD,CAAM1F,MAAOA,OCXT2F,GATiB,SAAC,GAAmC,IAAjC5M,EAAgC,EAAhCA,GAAIiH,EAA4B,EAA5BA,MAAO1I,EAAqB,EAArBA,KAAMkC,EAAe,EAAfA,SAClD,OACE,uBAAGiE,MAAO,CAAEuC,MAAOA,GAAS4F,KAAI,WAAM7M,GAAMzD,MAAOgC,GAChDkC,EACD,2BAAIlC,KCqCKuO,GAtCiB,SAAC,GAAc,IAAZtL,EAAW,EAAXA,KAAW,EACNoE,mBAAS,MADH,mBACrCmH,EADqC,KACxBC,EADwB,KAItCC,EAFWvM,cAEYwM,KAEvBC,EAAmB,SAACC,GACxBJ,EAAeI,IAGXC,EAAmB,WACvBL,EAAe,OAGjB,OACE,kBAAC,IAAMM,SAAP,KACG9L,EAAKrB,WAAWxC,KAAI,SAACgI,GAAD,OACnB,kBAAC,GAAD,CACEtJ,IAAKsJ,EAAI3F,GACTiH,MAAOgG,IAAW,WAAStH,EAAI3F,KAAQ2F,EAAI3F,KAAO+M,EAAcpH,EAAIP,WAAa,QACjF7G,KAAMoH,EAAIpH,KACVyB,GAAI2F,EAAI3F,IAER,kBAAC,GAAD,CACEmM,YAAagB,EACbf,aAAciB,EACdrN,GAAI2F,EAAI3F,GACR0G,KAAMf,EAAIpH,KACV0I,MACEgG,IAAW,WAAStH,EAAI3F,KAAQ2F,EAAI3F,KAAO+M,EAAcpH,EAAIP,WAAa,gBCCzEmI,I,OA3BM,SAAC,GAA0D,IAAxDC,EAAuD,EAAvDA,YAA0B9I,GAA6B,EAA1C+I,YAA0C,EAA7B/I,OAA6B,KAAtBgJ,gBAErB9H,oBAAS,IAFkC,6BAgB7E,OACE,yBAAK5F,GAAG,sBAAsB0E,MAAOA,GACnC,wBAAItB,UAAU,SAASoK,EAAYG,OAEnC,yBAAKvK,UAAU,SACb,kBAAC,GAAD,CAAyB5B,KAAMgM,Q,uCC1B1BI,I,OAAwB,WACnC,OAAO,yBAAK5N,GAAG,WAAWoD,UAAU,eAGzByK,GAAuB,WAClC,OACE,yBAAK7N,GAAG,WAAWoD,UAAU,YAC3B,yBAAKA,UAAU,aC8GN0K,I,OA5GI,SAAC,GAAqE,IAAnEC,EAAkE,EAAlEA,YAAarD,EAAqD,EAArDA,WAAYsD,EAAyC,EAAzCA,iBAAkBC,EAAuB,EAAvBA,iBAGzDC,EAAeC,aAAW,CAC9B3G,KAAM,CACJ4G,QAAS,MACT5I,WAAY,QAEd6I,WAAY,CACVpH,MAAO,OACPnC,aAAc,EACdsJ,QAAS,OACT,qBAAsB,CACpB7K,gBAAiB,YAGrBwD,QAAS,GACTqB,MAAO,CACLtD,aAAc,OAEhB4E,MAAO,CACLjC,OAAQ,IAlBS0G,CAoBlBG,MAEGC,EAAkBJ,aAAW,CACjCK,oBAAqB,CACnB/G,OAAQ,IAFY0G,CAIrBM,MAEGC,EAAiBP,aAAW,CAChC3G,KAAM,CACJ4G,QAAS,IAFUD,CAIpBQ,MAEH,OACE,yBAAK3O,GAAG,cACN,yBAAKoD,UAAU,QAAQoD,QAASuH,GAC9B,kBAAC,GAAD,CAAerH,KAAK,QAAQO,MAAM,WAGpC,wBAAI7D,UAAU,cAAd,WAEA,6BACE,wBAAIA,UAAU,cAAd,oCACA,uBAAGA,UAAU,eAAb,8GAMA,0BAAMA,UAAU,4BAA4B0D,SAAU,SAAC8H,GAAD,OAAOZ,EAAiBY,KAC5E,yBAAKxL,UAAU,WACb,kBAACsL,EAAD,CACEG,eAAa,EACb/S,MAAM,MACN4K,KAAM,kBAAC,GAAD,MACNoI,YAAa,kBAAC,GAAD,QAEf,qDAEF,yBAAK1L,UAAU,WACb,kBAACsL,EAAD,CACEG,eAAa,EACb/S,MAAM,UACN4K,KAAM,kBAAC,GAAD,MACNoI,YAAa,kBAAC,GAAD,QAEf,gDAEF,yBAAK1L,UAAU,WACb,kBAACsL,EAAD,CACEG,eAAa,EACb/S,MAAM,OACN4K,KAAM,kBAAC,GAAD,MACNoI,YAAa,kBAAC,GAAD,QAEf,+CAIN,6BACE,wBAAI1L,UAAU,cAAd,eACA,uBAAGA,UAAU,eAAb,2IAIA,kBAACmL,EAAD,CACEnL,UAAU,gBACV0D,SAAU,SAAC8H,GAAD,OAAOX,EAAiBW,EAAEtI,OAAOS,UAC3CgI,QACE,kBAACb,EAAD,CACEW,eAAa,EACbnI,KAAM,kBAAC,GAAD,MACNoI,YAAa,kBAAC,GAAD,QAGjBpF,MAAM,UACNsF,eAAe,QACfjI,QAAS2D,Q,qBC1GbuE,GAAed,cAAW,SAAC5L,GAAD,MAAY,CAC1CoF,QAAS,CACPpE,gBAAiBhB,EAAME,QAAQyM,OAAOC,MACtClI,MAAO,sBACPgB,UAAW1F,EAAM6M,QAAQ,GACzBxH,SAAU,OALOuG,CAOjBhF,KAyBWkG,GAvBU,SAAC,GAAqD,IAAnDC,EAAkD,EAAlDA,UAAWnS,EAAuC,EAAvCA,EAAGoG,EAAoC,EAApCA,gBAAiB0D,EAAmB,EAAnBA,MAAOtD,EAAY,EAAZA,MAChE,OACE,yBAAKtH,IAAKc,EAAGiG,UAAU,YAAYsB,MAAO,CAAEf,MAAOA,IACjD,uBAAGP,UAAU,iBAAiBkM,EAAU/Q,MAExC,yBACE6E,UAAU,2BACVsB,MAAO,CAAEnB,gBAAiBA,EAAiB0D,MAAOA,IAEjDqI,EAAUxT,MACVwT,EAAUrN,KACVqN,EAAUC,OACT,kBAACN,GAAD,CAAc1S,MAAO,kBAAC,IAAM+Q,SAAP,KAAiBkC,KAAMF,EAAUC,SACpD,0BAAMnM,UAAU,qBACd,kBAAC,IAAD,CAAiBsD,KAAMC,W,QC+DtB8I,GAjFI,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,MAAOC,EAAsC,EAAtCA,QAASC,EAA6B,EAA7BA,QAASlT,EAAoB,EAApBA,cAEvC8E,EAAOkO,EAAMlO,KAAKA,KAElBqO,EAAa,YAAOH,EAAMI,WAAWC,WAuD3C,OAtDAL,EAAMI,WAAWC,UAuDf,kBAAC,KAAD,CAAqBrM,OAAO,OAAOC,MAAM,QACvC,kBAAC,KAAD,CACEnC,KAAMA,EACNwO,sBAAoB,EACpBvI,OAAQ,CACNnC,IAAK,EACL2K,MAAO,EACP5K,OAAQ,EACRzB,KAAM,IAGR,kBAAC,KAAD,CAAesM,OAAO,UAAUC,gBAAgB,QAC/CR,GAAW,kBAAC,KAAD,CAAOS,QAAQ,OAAOF,OAAO,kBAAkBG,SAAS,qBACpE,kBAAC,KAAD,CAAOC,MAAOV,EAASM,OAAO,kBAAkBrU,KAAK,SAAS0U,OAAQ,CAAC,EAAG7T,GAAgB8T,cAlChG,SAAwB1U,GACtB,OAAO8I,KAAKC,MAAM/I,MAkCd,kBAAC,KAAD,CAAS2U,QA3Df,YAA6C,IAAnBrR,EAAkB,EAAlBA,QACxB,OAD0C,EAATsK,MAE/B,yBACE1J,GAAG,eACHoD,UAAU,sCACVsB,MAAO,CAAEnB,gBAAiB,QAASI,MAAO,UAE1C,wBAAIe,MAAO,CAAEuC,MAAO,YAf1B,SAA4B7H,EAAS6C,GACnC,IAAIyO,EAAY,EAIhB,OAHAtR,EAAQnC,SAAQ,SAACuE,GACC,aAAZA,EAAKjD,OAAqBmS,GAAalP,EAAK1F,UAE3CsD,EAAQ,GAAR,qBAAwBA,EAAQ,GAAGA,QAAQb,KAA3C,oCAA2EqG,KAAKC,MAAM6L,GAAtF,YAAoGzO,GAAS,GAU9E0O,CAAmBvR,EAAQsQ,EAAMlO,KAAKoP,SACvExR,EAAQ2Q,UAAUpS,KAAI,SAACkT,EAAM1T,GAAP,OACrB,yBAAKd,IAAKc,EAAGiG,UAAU,aACrB,yBACE/G,IAAK,IAAMc,EACXiG,UAAU,eACVsB,MAAO,CAAEnB,gBAAiBsN,EAAK5J,SAEjC,uBAAG5K,IAAK,IAAMc,EAAGuH,MAAO,CAAEuC,MAAO,YAC9B4J,EAAKtS,KADR,MACiBqG,KAAKC,MAAMgM,EAAK/U,OADjC,IAC0C4T,EAAMlO,KAAKoP,cA2CvB3N,SAAU,CAAE6G,EAAG,IAAKgH,GAAI,MACzDjB,EAAclS,KAAI,SAAC6D,GAAD,OAhCzB,SAAyBA,GACvB,IAAMhB,EAAQ,CACZnE,IAAKmF,EAAK4O,QACVA,QAAS5O,EAAK4O,QACdF,OAAQ1O,EAAKyF,OAKf,GAAkB,SAAdzF,EAAK3F,KAAiB,CACxB,IAAMkV,EAA6B,YAAfvP,EAAKyF,MAAsB,IAAM,IACrD,OAAO,kBAAC,KAAD,eAAM8J,YAAaA,EAAa7F,KAAM1J,EAAKyF,OAAWzG,EAAtD,CAA6DwQ,QAAQ,OAE9E,GAAkB,SAAdxP,EAAK3F,KAAiB,OAAO,kBAAC,KAAD,iBAAU2E,EAAV,CAAiB2P,gBAAgB,MAAMc,KAAK,EAAOC,YAAY,OAmB/DC,CAAgB3P,SC5DtC4P,I,cAvBD,SAAC,GAA8D,IAA5DC,EAA2D,EAA3DA,OAAQC,EAAmD,EAAnDA,WAAY7Q,EAAuC,EAAvCA,SAAU8Q,EAA6B,EAA7BA,SAAUC,EAAmB,EAAnBA,aAEvD,OAAKH,EAGH,yBAAKjO,UAAU,0CACb,yBAAKA,UAAU,qCACZ3C,EACA8Q,GACC,4BAAQ1V,KAAK,SAASuH,UAAU,4BAA4BoD,QAAS8K,GAArE,MAIDE,GACC,4BAAQ3V,KAAK,SAASuH,UAAU,8BAA8BoD,QAAS8K,GAAvE,aAZY,OCkBPG,GAtBa,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,gBAAiBJ,EAAiB,EAAjBA,WAC9C,OACE,yBAAKlO,UAAU,4BACb,wBAAIA,UAAU,mBAAd,2BAEA,4BAAQA,UAAU,kBAAkBvH,KAAK,SAAS2K,QAAS,kBAAMkL,EAAgB,cAAjF,sCAGA,oGAEA,4BAAQtO,UAAU,kBAAkBvH,KAAK,SAAS2K,QAAS,kBAAMkL,EAAgB,aAAjF,oCAGA,gGAEA,4BAAQtO,UAAU,8BAA8BvH,KAAK,SAAS2K,QAAS,kBAAM8K,MAA7E,a,wFCjBC,SAASK,GAAgBC,EAAM3V,EAAQE,EAASyD,GAInD,IAJyD,EAIrDiS,EAAeC,KAAKtC,MAAMsC,KAAKC,UAAUH,IACzCtU,EAAa,GALwC,eAOlCuU,EAAa1R,YAPqB,yBAO9CqI,EAP8C,QAQrDA,EAASlL,WAAWK,KAAI,SAAAqU,IACT,QAAPpS,GAAgBA,EAAK0B,SAASkH,EAAShH,KAAKjD,QAChDjB,EAAWE,KAAK,CACZ,MAASvB,EAAO+V,EAAUxQ,KAAKzF,OAAO,GACtC,SAAYyM,EAAShH,KAAKjD,KAC1B,MAASyT,EAAUxQ,KAAKzF,MACxB,KAAQiW,EAAUxQ,KAAKjD,WAPnC,2BAAiD,IAPQ,8BAyBzD,MANiB,CACbjB,aACAU,IAAK7B,EAAQ6B,IACbiU,YAAaC,KAAKC,OCP1B,IAkIeC,GAlIkB,SAAC,GAM3B,IALLd,EAKI,EALJA,WACAnV,EAII,EAJJA,QACAyB,EAGI,EAHJA,IACAP,EAEI,EAFJA,SACAgV,EACI,EADJA,2BACI,EAC8BzM,oBAAS,GADvC,mBACG0M,EADH,KACcC,EADd,OAEwB3M,mBAAS,CACnC4M,cAAe,GACfC,WAAY,GACZC,WAAY,KALV,mBAEGzW,EAFH,KAEW0W,EAFX,OAQwC/M,mBAAS,CAAEgN,MAAM,IARzD,mBAQGC,EARH,KAQmBC,EARnB,KAWJhS,qBAAU,WACR,IAAMiS,EAAqBF,EAC3BxV,EAAS8C,WAAWxC,KAAI,SAAC6K,GACvBuK,EAAmBvK,EAAShH,KAAKjD,OAAQ,KAE3CuU,EAAkBC,KACjB,IAEH,IAAM3M,EAAe,SAACwI,GACE,SAAlBA,EAAEtI,OAAOzK,KACX8W,EAAU,eAAK1W,EAAN,gBAAe2S,EAAEtI,OAAOtG,GAAK4O,EAAEtI,OAAOxK,SACpB,aAAlB8S,EAAEtI,OAAOzK,MAClBiX,EAAkB,eAAKD,EAAN,gBAAuBjE,EAAEtI,OAAO/H,KAAOqQ,EAAEtI,OAAOS,YAI/DiM,EAAe,SAACpE,GACpBA,EAAEqE,iBACFV,GAAa,GACb,IAAM3S,ECnDH,SAAiBiT,GACpB,GAAIA,EAAc,KACd,MAAO,MAGX,IADA,IAAIjT,EAAO,GACX,MAA2BD,OAAOuT,QAAQL,GAA1C,eAA2D,CAAC,IAAD,sBAA/CxW,EAA+C,WAC3CuD,EAAKpC,KAAKnB,GAE1B,OAAOuD,ED2CMuT,CAAQN,GACfrR,EAAOmQ,GAAgBtU,EAAUO,EAAKzB,EAASyD,GAErDpB,EACGc,KAAK,sBADR,eACoCrD,EADpC,CAC4CuF,UACzCU,MAAK,SAACC,GACLoQ,GAAa,GACbjB,IACAe,GAA2B,MAE5BhQ,OAAM,SAACpD,GAAD,OAASC,QAAQkC,IAAInC,OAGhC,OACE,yBAAKmE,UAAU,4BACZkP,GACC,yBAAKtS,GAAG,aAAaoD,UAAU,gBAC7B,yBAAKpD,GAAG,qBAAqBoD,UAAU,iBACrC,kBAAC,KAAD,CAAQvH,KAAK,OAAOoL,MAAM,UAAUvD,OAAQ,IAAKC,MAAO,QAK9D,wBAAIP,UAAU,mBAAd,qBAEA,oGAEA,0BAAMA,UAAU,mBAAmBgQ,SAAU,SAACxE,GAAD,OAAOoE,EAAapE,KAC/D,yBAAKxL,UAAU,aACb,yBAAKA,UAAU,WACb,kBAACiQ,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAYtM,QAAQ,cAApB,+BACA,kBAACuM,GAAA,EAAD,CAAOvT,GAAG,aAAa8G,SAAU,SAAC8H,GAAD,OAAOxI,EAAawI,IAAI4E,UAAQ,KAGnE,kBAACH,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAYtM,QAAQ,iBAApB,qBACA,kBAACuM,GAAA,EAAD,CAAOvT,GAAG,gBAAgB8G,SAAU,SAAC8H,GAAD,OAAOxI,EAAawI,IAAI4E,UAAQ,IACpE,kBAACC,GAAA,EAAD,wDAIJ,kBAACJ,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAYtM,QAAQ,cAApB,kCACA,kBAACuM,GAAA,EAAD,CAAOvT,GAAG,aAAa8G,SAAU,SAAC8H,GAAD,OAAOxI,EAAawI,MACrD,kBAAC6E,GAAA,EAAD,iEAGF,yBAAKrQ,UAAU,SACb,kBAACsQ,GAAA,EAAD,KACE,kBAACJ,GAAA,EAAD,CAAYtM,QAAQ,WAApB,kCAEA,yBAAK5D,UAAU,SACb,kBAACqL,GAAA,EAAD,CACEM,QACE,kBAACJ,GAAA,EAAD,CACE5H,QAAS8L,EAAc,KACvB/L,SAAUV,EACV7H,KAAK,SAGTmL,MAAM,SAEPrM,EAAS8C,WAAWxC,KAAI,SAAC6K,GAAD,OACvB,kBAACiG,GAAA,EAAD,CACEM,QACE,kBAACJ,GAAA,EAAD,CACE5H,QAAS8L,EAAerK,EAAShH,KAAKjD,MACtCuI,SAAUV,EACV7H,KAAMiK,EAAShH,KAAKjD,OAGxBmL,MAAOlB,EAAShH,KAAKjD,KACrBoV,UAAqC,IAA3Bd,EAAc,cAQpC,yBAAKzP,UAAU,wBACb,4BAAQA,UAAU,oBAAoBvH,KAAK,SAAS2K,QAAS,kBAAM8K,MAAnE,WAGA,4BAAQlO,UAAU,kBAAkBvH,KAAK,UAAzC,UEpFK+X,GA/CoB,SAAC,GAA4C,IAA1CtC,EAAyC,EAAzCA,WAAYnV,EAA6B,EAA7BA,QAASyB,EAAoB,EAApBA,IAAKP,EAAe,EAAfA,SAE9DyD,qBAAU,WACR,IAAMU,EAAOmQ,GAAgBtU,EAAUO,EAAKzB,EAAS,OASrDqC,EACGc,KAAK,sBADR,eANgB,CACdkT,cAAe,SACfC,WAAY,+BACZC,WAAY,OAGd,CAC6ClR,UAC1CU,MAAK,SAACC,GAAD,OAASjD,QAAQkC,IAAIe,MAC1BE,OAAM,SAACpD,GAAD,OAASC,QAAQkC,IAAInC,QAC7B,IAGH,IACM4U,EAAiB/B,KAAKtC,MAAM5Q,kDAElC,OACE,yBAAKwE,UAAU,uDACb,wBAAIA,UAAU,mBAAd,2BAEA,2EACA,4EAEA,yBAAKA,UAAU,wBACb,4BAAQA,UAAU,oBAAoBvH,KAAK,SAAS2K,QAAS,kBAAM8K,MAAnE,wBAIA,uBACElO,UAAU,kBACVyJ,KAjBejO,kCAiBQiV,EAAeC,MACtCxN,OAAO,SACPyN,IAAI,cAJN,yCCzBO3B,GAZkB,SAAC,GAAoB,IAAlBd,EAAiB,EAAjBA,WAClC,OACE,yBAAKlO,UAAU,uDACb,wBAAIA,UAAU,mBAAd,2BAEA,0GAEA,4BAAQA,UAAU,kBAAkBvH,KAAK,SAAS2K,QAAS,kBAAM8K,MAAjE,QC6BSG,GAnCa,SAAC,GAAsC,IAApCH,EAAmC,EAAnCA,WAAY9K,EAAuB,EAAvBA,QAASrK,EAAc,EAAdA,QAClD,OACE,yBAAKiH,UAAU,wCACb,wBAAIA,UAAU,mBAAd,2BAEA,kBAAC,IAAD,CAAMA,UAAU,kBAAkB4Q,GAAI,CAAE3S,SAAU,WAAY1F,MAAO,CAAEQ,aAAvE,kCAIA,4BACEN,KAAK,SACLuH,UAAU,kBACVoD,QAAS,WACP8K,IACA9K,MALJ,0BAWA,4BACE3K,KAAK,SACLuH,UAAU,kBACVoD,QAAQ,IAHV,4BAQA,4BAAQpD,UAAU,8BAA8BvH,KAAK,SAAS2K,QAAS,kBAAM8K,MAA7E,aC8VS2C,GAxWO,SAAC,GAAkB,IAAhB5W,EAAe,EAAfA,SACfuD,EAAgB+J,qBAAWvK,GAA3BQ,YAEFzE,EAAUyE,EAAYzE,QACtBF,EAAS2E,EAAY3E,OAJW,EAMZ2J,mBAAS,IANG,gCAQgBA,oBAAS,IARzB,mBAQ/BsO,EAR+B,KAQVC,EARU,OAS0BvO,oBAAS,GATnC,mBAS/BwO,EAT+B,KASLC,EATK,OAU8BzO,oBAAS,GAVvC,mBAU/B0O,EAV+B,KAUHC,EAVG,OAWwB3O,oBAAS,GAXjC,mBAW/B4O,EAX+B,KAWNnC,EAXM,OAYczM,oBAAS,GAZvB,mBAY/B6O,EAZ+B,KAYXC,EAZW,KAchC/Q,EAAQ1F,OAAO0W,WAyBrB,SAASC,EAAqBpT,EAAMqT,GAClC,IAEMC,EAActT,GAFRuT,MAAMC,QAAQH,GAAaA,EAAU,GAAKA,GAEpB,IAClC,OAAOC,GAAc,IACjB,UACAA,GAAc,IAAMA,EAAa,IACjC,UACA,UASN,GAFA5V,QAAQkC,IAAIjF,GAERwH,EAAQ,IACV,OACE,6BAASP,UAAU,mBACjB,kBAAC,GAAD,CACEiO,OAAQ6C,EACR5C,WAAY,kBAAM6C,GAAuB,IACzC5C,UAAU,GAEV,kBAAC,GAAD,CACED,WAAY,kBAAM6C,GAAuB,IACzCzC,gBA7Cc,SAAC7V,GAGX,YAARA,IACFsY,GAAuB,GACvBE,GAA4B,IAElB,WAARxY,IACFsY,GAAuB,GACvBI,GAA8B,QAwC5B,kBAAC,GAAD,CACElD,OAAQiD,EACRhD,WAAY,kBAAMiD,GAA8B,IAChDhD,UAAU,GAEV,kBAAC,GAAD,CACED,WAAY,kBAAMiD,GAA8B,IAChDpY,QAASA,EACTyB,IAAK3B,EACLoB,SAAUA,KAId,kBAAC,GAAD,CACEgU,OAAQ+C,EACR9C,WAAY,kBAAM+C,GAA4B,IAC9C9C,UAAU,GAEV,kBAAC,GAAD,CACEpV,QAASA,EACTyB,IAAK3B,EACLoB,SAAUA,EACViU,WAAY,kBAAM+C,GAA4B,IAC9ChC,2BAA4BA,KAIhC,kBAAC,GAAD,CACEhB,OAAQmD,EACRlD,WAAY,kBAAMe,GAA2B,IAC7Cd,UAAU,GAEV,kBAAC0D,GAAD,CAAyB3D,WAAY,kBAAMe,GAA2B,OAGxE,kBAAC,GAAD,CACEhB,OAAQoD,EACRnD,WAAY,kBAAMoD,GAAsB,IACxCnD,UAAU,GAEV,kBAAC2D,GAAD,CACE5D,WAAY,kBAAMoD,GAAsB,IACxClO,QA9EqB,WAE7B2N,GAAuB,IA6EfhY,QAASA,KAIb,yBAAK6D,GAAG,kBAAkBoD,UAAU,SAClC,4B7BxImB,qC6B2IpBhH,EAAuBuB,KAAI,SAACwX,GAC3B,IAAM5Y,EAAQ4Y,EAAK5Y,MACbD,EAAW6Y,EAAK7Y,SAChB8Y,EAAajZ,EAAQiZ,WACrBC,EAASlZ,EAAQkZ,OAAOF,EAAK9Y,KAC7BK,EAAgByY,EAAKzY,cACrBC,EAAsBwY,EAAKxY,oBAEjC,OACE,yBAAKN,IAAK8Y,EAAK9Y,IAAK2D,GAAG,qBAAqBoD,UAAU,yBACpD,4BAAK7G,GACL,yBAAK6G,UAAU,uBACb,yBAAKA,UAAU,aACZ9G,GAAY,2BAAIA,GACjB,yBAAK8G,UAAU,eACZ+R,EAAK3Y,WAAa,kBAAC,GAAD,CAAYkT,MAAO2F,EAAQ3Y,cAAeA,MAGjE,yBAAK0G,UAAU,kBACZgS,EAAWD,EAAK9Y,KAAKoH,MACpB,yBAAKL,UAAU,uBACb,kBAAC,GAAD,CACEkM,UAAW8F,EAAWD,EAAK9Y,KAAKoH,KAAK,GACrCF,gBAAiBqR,EACfQ,EAAWD,EAAK9Y,KAAKoH,KAAK,GAAG3H,MAC7Ba,GAEFsK,MAnIJ,QAoIItD,MAAM,UAKZ,yBAAKP,UAAU,4BACZgS,EAAWD,EAAK9Y,KAAKuG,UAAUjF,KAAI,SAAC2R,EAAWnS,GAC9C,OACE,kBAAC,GAAD,CACEd,IAAKiT,EAAU/Q,KACfpB,EAAGA,EACHmS,UAAWA,EACX/L,gBACoB,cAAlB4R,EAAK1Y,SACDmY,EACEtF,EAAUxT,MACVa,EAAoBQ,IArJ7B,mBAyJC8J,MAxJN,QAyJMtD,OAxHMvF,EAwHsBgX,EAAWD,EAAK9Y,KAAKuG,UAAUxE,OAvH3E,QAAN,OAAe,IAAMA,EAArB,eAAkD,IAAdA,EAAS,GAAW,EAAxD,SADF,IAA8BA,YAmIxB,4BAAQvC,KAAK,SAASuH,UAAU,+BAA+BoD,QAAS,kBAAMkO,GAAsB,KAApG,6BC3LOY,GAZS,WACtB,OACE,yBAAKtV,GAAG,UACN,kBAAC,KAAD,CAAQnE,KAAK,eAAeoL,MAAM,QAAQvD,OAAQ,IAAKC,MAAO,MAC9D,yBAAKP,UAAU,UAAf,MACA,8CACA,wBAAIA,UAAU,cAAd,qDACA,wBAAIA,UAAU,cAAd,wDC0GSmS,I,cAxFG,SAAC/U,GAAU,MAGSoF,oBAAS,GAHlB,mBAGpB8E,EAHoB,KAGR8K,EAHQ,OC1BA,WAA2B,IAA1BC,EAAyB,0DACnB7P,mBAAS6P,GADU,mBAC9CC,EAD8C,KACnCC,EADmC,KAGrD,SAASC,EAAKvP,GAEZA,EAAM4M,iBACN0C,GAAa,GAGf,SAASrF,EAAKjK,GAEZA,EAAM4M,iBACN0C,GAAa,GAGf,MAAO,CAACC,EAAMtF,EAAMoF,GDe0BG,EAAc,GAJjC,mBAIpBpI,EAJoB,KAIPM,EAJO,KAIM2H,EAJN,KAKnB9U,E1B+FD+J,qBAAWvK,G0B/FVQ,YACAzE,EAAoByE,EAApBzE,QAkCR,OAlC4ByE,EAAX3E,QAkCDE,EAKd,oCACE,kBAAC2Z,EAAA,EAAD,KACE,0BAAMC,QAAQ,UACd,8DACA,0BAAMxX,KAAK,cAAckS,QAAQ,kEACjC,0BAAMsD,IAAI,YAAYlH,KAAK,yCAG7B,yBAAKzJ,UAAU,sBACb,6BAASA,UAAU,qBACjB,yBAAKpD,GAAG,YAAYoD,UAAU,SAC5B,gEAEA,4BAAQA,UAAU,6BAA6BvH,KAAK,UAClD,kBAAC,IAAD,CAAiB6K,KAAMsP,MACvB,0BAAMxP,QAASiH,GAAf,aAGJ,kBAAC,GAAD,CACED,YAAanQ,EAAS4Y,IAAI,GAC1BxI,YAAaA,EACbC,gBAAiBgI,IAGnB,yBAAKtS,UAAU,gBACZsS,GACC,kBAAC,GAAD,CACEhL,WAAYA,EACZqD,YAAaA,EACbC,iBAlEd,SAA0BY,GACxB,IAQMsH,EAAWtH,EAAEtI,OAAOxK,MACpBqa,EAAa9Y,EAASuE,QATb,CACbwU,KAAM,QACNC,KAAM,OACN,UAAW,MACXC,IAAK,OACLC,KAAM,QAImCL,IAErCjV,EAAUC,aAAaC,QAAQ,iBAC/Ba,EAAkBvE,EAAmB0Y,EAAY9Y,EAASuE,QAAQK,MAExEzD,EACGsB,MAAM,qBAAuBmB,EAAS,CAAEhF,OAAQ+F,IAChDE,MAAK,SAACC,GACLlE,OAAOC,SAASsY,YAEjBnU,OAAM,SAACpD,GAAD,OAASC,QAAQkC,IAAInC,OA+ClBgP,iBAvCW,SAACnS,GACxB0Z,EAAc1Z,MA0CN,kBAAC,GAAD,CAAmB4O,WAAYA,MAInC,kBAAC,GAAD,CAAerN,SAAUA,MA1CtB,kBAAC,GAAD,QELIoZ,GArDmB,SAAC,GAAiC,IAA/B/G,EAA8B,EAA9BA,MAAOgH,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QAC7CnV,EAAOkO,EAAMlO,KAAKA,KA8BxB,OACE,kBAAC,KAAD,CAAqBkC,OAAO,OAAOC,MAAM,QACvC,kBAAC,KAAD,CAAWnC,KAAMA,GACf,kBAAC,KAAD,CAAe2O,gBAAgB,QAC/B,kBAAC,KAAD,CAAOC,QAAQ,OAAOF,OAAO,UAC7B,kBAAC,KAAD,CAAOA,OAAO,UACd,kBAAC,KAAD,CAASO,QAlCf,YAA6C,IAAnBrR,EAAkB,EAAlBA,QAASsK,EAAS,EAATA,MAC7BgH,EAAY,EAEhB,OADAtR,EAAQnC,SAAQ,SAACuE,GAAD,OAAWkP,GAAalP,EAAK1F,SAE3C,yBACEkE,GAAG,eACHoD,UAAU,sCACVsB,MAAO,CAAEnB,gBAAiB,UAE1B,wBAAImB,MAAO,CAAEuC,MAAO,YAApB,cACWyC,EADX,MACqB9E,KAAKC,MAAM6L,GADhC,IAC6ChB,EAAMlO,KAAKoP,QAEvDxR,EAAQ2Q,UAAUpS,KAAI,SAACkT,EAAM1T,GAAP,OACrB,yBAAKd,IAAKc,EAAGiG,UAAU,aACrB,yBACE/G,IAAK,IAAMc,EACXiG,UAAU,eACVsB,MAAO,CAAEnB,gBAAiBsN,EAAK5J,SAEjC,uBAAG5K,IAAK,IAAMc,EAAGuH,MAAO,CAAEuC,MAAO,YAC9B4J,EAAKtS,KADR,MACiBsS,EAAK/U,MADtB,IAC8B4T,EAAMlO,KAAKoP,cAcX3N,SAAU,CAAE6G,EAAG4M,EAAS5F,EAAG6F,KAC5DjH,EAAMkH,UAAUjZ,KAAI,SAACkT,EAAM1T,GAAP,OACnB,kBAAC,KAAD,CACEd,IAAKc,EACL4T,YAAY,IACZX,QAASS,EAAKT,QACdY,QAAQ,IACRd,OAAQW,EAAK5J,MACbiE,KAAM2F,EAAK5J,cCdR4P,GAvCOxW,IAAM0I,YAAW,WAAYtE,GAAS,IAAlBiL,EAAiB,EAAjBA,MAaxC,OACE,kBAAC,KAAD,CAAqB/L,MAAM,OAAOD,OAAO,QACvC,kBAAC,KAAD,KACE,kBAAC,KAAD,CAAKlC,KAAMkO,EAAMoH,OAAQ1G,QAAQ,QAAQ2G,YAAa,MAAO7G,OAAO,QACjER,EAAMoH,OAAOnZ,KAAI,SAACqZ,EAAOjb,GAAR,OAChB,kBAAC,KAAD,CAAMM,IAAG,eAAUN,GAASmP,KAAM8L,EAAM/P,YAG5C,kBAAC,KAAD,CACEzF,KAAMkO,EAAMuH,OACZ7G,QAAQ,QACR8G,YAAa,MACbH,YAAa,OACb7G,OAAO,QAENR,EAAMuH,OAAOtZ,KAAI,SAACqZ,EAAOjb,GAAR,OAChB,kBAAC,KAAD,CAAMM,IAAG,eAAUN,GAASmP,KAAM8L,EAAM/P,WAE1C,kBAAC,KAAD,CAAOmJ,QAAQ,QAAQnN,SAAS,aAElC,kBAAC,KAAD,CAASwN,QAAS,SAAC7B,GAAD,OAhCxB,SAAwBA,GACtB,OAAOA,EAAExP,QAAQ,GACf,uBAAGgE,UAAU,gBAAgBsB,MAAO,CAAEnB,gBAAiB,QAAS0D,MAAO,YACpE2H,EAAExP,QAAQ,GAAGb,KADhB,MACyBqG,KAAKC,MAAM+J,EAAExP,QAAQ,GAAGtD,OADjD,UAIA,GA0B2Bqb,CAAevI,WCuBjCwI,GA/CW,SAAC,GAAe,IAAb1H,EAAY,EAAZA,MAyB3B,OACE,kBAAC,KAAD,CAAqBhM,OAAO,OAAOC,MAAM,QACvC,kBAAC,KAAD,CAAWnC,KAAMkO,EAAMlO,KAAMiG,OAAQ,CAAEnC,IAAK,EAAG2K,MAAO,GAAI5K,OAAQ,EAAGzB,KAAM,IACxE8L,EAAM2H,KAAK1Z,KAAI,SAAC2Z,EAAKna,GAAN,OACd,kBAAC,KAAD,CACEd,IAAKc,EACLiT,QAASkH,EAAIlH,QACbF,OAAQoH,EAAIrQ,MACZsQ,SAAU,GACVC,UAAW,GACXtG,YAAa,OAGjB,kBAAC,KAAD,CAAehB,OAAO,OAAOC,gBAAgB,MAC7C,kBAAC,KAAD,CAAOC,QAAQ,OAAOF,OAAO,UAC7B,kBAAC,KAAD,CAAOA,OAAO,UACd,kBAAC,KAAD,CAASO,QAAS,SAAC7B,GAAD,OAxCxB,SAAwBA,GACtB,OACE,yBACE5O,GAAG,eACHoD,UAAU,sCACVsB,MAAO,CAAEnB,gBAAiB,UAE1B,wBAAImB,MAAO,CAAEuC,MAAO,YAApB,cAA0C2H,EAAElF,OAC3CkF,EAAExP,QAAQ2Q,UAAUpS,KAAI,SAACkT,EAAM1T,GAAP,OACvB,yBAAKd,IAAKc,EAAGiG,UAAU,aACrB,yBACE/G,IAAK,IAAMc,EACXiG,UAAU,eACVsB,MAAO,CAAEnB,gBAAiBsN,EAAK5J,SAEjC,uBAAG5K,IAAK,IAAMc,EAAGuH,MAAO,CAAEuC,MAAO,YAC9B4J,EAAKtS,KADR,MACiBsS,EAAK/U,MADtB,IAC8B4T,EAAMkB,aAwBfuG,CAAevI,SC9C1C6I,GAAQ,SAAC,GAAqB,IAAnB5b,EAAkB,EAAlBA,KAAM6T,EAAY,EAAZA,MAQfgI,EAPQ,CACZC,YACAC,KAAMC,GACNC,cACAC,UAAWtB,IAGW5a,GAExB,OAAO,kBAAC6b,EAAD,CAAWhI,MAAOA,EAAOC,SAAO,EAACC,SAAO,KAmDlCoI,GAhDQ,SAAC,GAQjB,IAPLzb,EAOI,EAPJA,MACAD,EAMI,EANJA,SACA2b,EAKI,EALJA,UACAzb,EAII,EAJJA,UACA0b,EAGI,EAHJA,UACAC,EAEI,EAFJA,WACAC,EACI,EADJA,WAEA,SAASC,EAAgBC,GACvB,MAAO,CAAEC,OAAQD,GAEnB,OACE,yBAAKlV,UAAU,wCACb,wBAAIoV,wBAAyBH,EAAgB9b,KAE7C,uBAAGic,wBAAyBH,EAAgB/b,KAE5C,yBAAK8G,UAAU,uBACb,yBAAKA,UAAU,uCACb,yBAAKA,UAAU,yBACb,kBAAC,GAAD,CAAOvH,KAAMW,EAAWkT,MAAOuI,KAGjC,yBAAK7U,UAAU,+BACb,uBAAGoV,wBAAyBH,EAAgBH,KAE5C,uBAAG9U,UAAU,mBAAmBoV,wBAAyBH,EAAgBD,OAI7E,yBAAKhV,UAAU,sCACZ+U,EAAWxa,KAAI,SAAC6D,EAAMrE,GAAP,OACd,yBAAKd,IAAKc,EAAGiG,UAAU,aACrB,yBAAKA,UAAU,eAAesB,MAAO,CAAEnB,gBAAiB/B,EAAKyF,SAE7D,6BACE,2BAAIzF,EAAK4O,SACT,2BAAI5O,EAAKiX,kBC8KVC,I,6EAzNC,SAAClY,GACftB,QAAQkC,IAAIZ,GADa,MAEqBoF,mBAAS,UAF9B,mBAElB+S,EAFkB,KAEDC,EAFC,OAGKhT,mBAAS,MAHd,mBAGlBzJ,EAHkB,KAGT0c,EAHS,KAKnBlc,EAAsB,CAAEmc,SAAU,GAAIC,QAAS,GAAIC,IAAK,EAAE,IAAK,KAcrE,SAASpE,EAAqBpT,EAAMyX,GAClC,IAAMnE,EAActT,EAAOyX,EAAO,IAClC,OAAOnE,GAAc,IACjB,UACAA,GAAc,IAAMA,EAAa,IACjC,UACA,UAiGN,OAnHAhU,qBAAU,WACR,IAAI3E,EAAU,KACV+E,aAAaC,QAAQ,YACvBhF,EAAU2V,KAAKtC,MAAMtO,aAAaC,QAAQ,YAC1C0X,EAAW1c,KAEXA,EAAUqE,EAAMtC,SAASvC,MAAMQ,QAC/B+E,aAAaS,QAAQ,UAAWmQ,KAAKC,UAAU5V,IAC/C0c,EAAWrY,EAAMtC,SAASvC,MAAMQ,YAEjC,IAiGH8B,OAAOib,iBAAiB,UAExB,WACEjb,OAAOkb,QAAUlb,OAAOmb,YAAc,EAClCR,EAAmB,WACnBA,EAAmB,aAGpBzc,EAGH,yBAAKiH,UAAU,4CACb,kBAAC0S,EAAA,EAAD,KACE,0BAAMC,QAAQ,UACd,gEACA,0BAAMxX,KAAK,cAAckS,QAAQ,6DACjC,0BAAMsD,IAAI,YAAYlH,KAAK,uCAG7B,4BAAQhR,KAAK,SAASuH,UAAU,mBAAmBsB,MAAO,CAAEa,WAAYoT,IACtE,uBAAG9L,KAAK,iBACN,kBAAC,IAAD,CAAiBnG,KAAM2S,QAI3B,6BAASjW,UAAU,kBACjB,wBAAIA,UAAU,mBAAd,gBACA,sLAMF,6BAASpD,GAAG,eAAeoD,UAAU,8BACnC,wBAAIA,UAAU,mBAAd,eAEA,yBAAKA,UAAU,qBACb,kBAAC,GAAD,CACEkM,UAAWnT,EAAQiZ,WAAW0D,QAAQrV,KAAK,GAC3CwD,MAAO2N,EACLzY,EAAQiZ,WAAW0D,QAAQrV,KAAK,GAAG3H,MACnCa,EAAoBmc,WAIxB,kBAAC,GAAD,CACExJ,UAAWnT,EAAQiZ,WAAW2D,OAAOtV,KAAK,GAC1CwD,MAAO2N,EACLzY,EAAQiZ,WAAW2D,OAAOtV,KAAK,GAAG3H,MAClCa,EAAoBoc,UAIvB5c,EAAQiZ,WAAW4D,IAAIpW,UAAUjF,KAAI,SAAC2R,EAAWnS,GAAZ,OACpC,kBAAC,GAAD,CACEmS,UAAWA,EACXrI,MAAO2N,EAAqBtF,EAAUxT,MAAOa,EAAoBqc,IAAI7b,WA8B7E,yBAAK6C,GAAG,cACLL,OAAOC,KAAKzD,EAAQmd,iBAAiB3b,KAAI,SAACtB,EAAKc,GAAN,OACxC,6BAASiG,UAAU,8BACjB,wBAAIA,UAAU,mBAAmBjH,EAAQmd,gBAAgBjd,GAAKE,OAE9D,uBAAGic,yBAjKYF,EAiK6Bnc,EAAQmd,gBAAgBjd,GAAKkd,MAhK1E,CAAEhB,OAAQD,MAkKRnc,EAAQmd,gBAAgBjd,GAAKgZ,OAAO1X,KAAI,SAAC6b,EAAOrc,GAAR,OACvC,kBAAC,GAAmBqc,OApKhC,IAAyBlB,OA8EJ,OCnDRmB,GA7Ea,SAAC,GAA6D,IAA3DnI,EAA0D,EAA1DA,WAAYoI,EAA8C,EAA9CA,iBAAkBC,EAA4B,EAA5BA,sBAA4B,EAC3D/T,mBAAS,CACnCgU,cAAe,GACfC,WAAY,GACZC,gBAAiB,EACjBC,YAAa,KALwE,mBAChF9d,EADgF,KACxE0W,EADwE,OAQrD/M,oBAAS,GAR4C,mBAQhF0M,EARgF,KAQrEC,EARqE,KAwBjFnM,EAAe,SAACwI,GACpB+D,EAAU,eAAK1W,EAAN,gBAAe2S,EAAEtI,OAAOtG,GAAK4O,EAAEtI,OAAOxK,UAGjD,OACE,yBAAKkE,GAAG,gBAELsS,GACC,yBAAKtS,GAAG,aAAaoD,UAAU,gBAC7B,yBAAKpD,GAAG,qBAAqBoD,UAAU,iBACrC,kBAAC,KAAD,CAAQvH,KAAK,OAAOoL,MAAM,UAAUvD,OAAQ,IAAKC,MAAO,QAK9D,wBAAIP,UAAU,mBAAd,wBAEA,+FAEA,0BAAMA,UAAU,mBAAmBgQ,SAAU,SAACxE,GAAD,OAjC5B,SAACA,GACpBA,EAAEqE,iBACFV,GAAa,GACb/T,EACGc,KAAK,wBADR,eACsCrD,IACnCiG,MAAK,SAACC,GACLoQ,GAAa,GACbjB,IACAoI,EAAiBvX,EAAIX,MACrBmY,GAAsB,MAEvBtX,OAAM,SAACpD,GAAD,OAASC,QAAQC,MAAMF,MAsBsB+T,CAAapE,KAC/D,yBAAKxL,UAAU,aACb,kBAACiQ,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAYtM,QAAQ,iBAApB,qBACA,kBAACuM,GAAA,EAAD,CAAOvT,GAAG,gBAAgB8G,SAAU,SAAC8H,GAAD,OAAOxI,EAAawI,IAAI4E,UAAQ,KAEtE,kBAACH,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAYtM,QAAQ,cAApB,kCACA,kBAACuM,GAAA,EAAD,CAAOvT,GAAG,aAAa8G,SAAU,SAAC8H,GAAD,OAAOxI,EAAawI,OAEvD,kBAACyE,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAYtM,QAAQ,mBAApB,0BACA,kBAACuM,GAAA,EAAD,CAAOvT,GAAG,kBAAkBnE,KAAK,SAASiL,SAAU,SAAC8H,GAAD,OAAOxI,EAAawI,OAE1E,kBAACyE,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAYtM,QAAQ,eAApB,WACA,kBAACuM,GAAA,EAAD,CAAOvT,GAAG,cAAcnE,KAAK,QAAQ2X,UAAQ,EAAC1M,SAAU,SAAC8H,GAAD,OAAOxI,EAAawI,MAC5E,kBAAC6E,GAAA,EAAD,gIAIJ,yBAAKrQ,UAAU,wBACb,4BAAQvH,KAAK,SAASuH,UAAU,oBAAoBoD,QAAS,kBAAM8K,MAAnE,WAGA,4BAAQzV,KAAK,SAASuH,UAAU,mBAAhC,eChCK4W,GAzCY,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,cAAe3I,EAAiB,EAAjBA,WAE3C,OACE,yBAAKtR,GAAG,gBAAgBoD,UAAU,uBAChC,wBAAIA,UAAU,mBAAd,wBAEA,uCAEG,IACD,2BAAI6W,EAAcL,eACjB,IAJH,sEAME,6BACA,8BACE,uBAAG/M,KAAI,kDAA6CoN,EAAcja,KAAlE,kDAC8Cia,EAAcja,OAKhE,iLAEG,IACD,2BAAIia,EAAczH,gBAGpB,yHAEE,6BACA,2BAAIyH,EAAcC,aAGpB,6FAEA,4BAAQ9W,UAAU,kBAAkBvH,KAAK,SAAS2K,QAAS,kBAAM8K,MAAjE,QCqBS6I,I,OAjDG,WAAO,IAAD,EACgCvU,oBAAS,GADzC,mBACfwU,EADe,KACMC,EADN,OAE8BzU,oBAAS,GAFvC,mBAEf0U,EAFe,KAEKX,EAFL,OAGoB/T,mBAAS,IAH7B,mBAGfqU,EAHe,KAGAP,EAHA,KAKtB,OACE,yBAAK1Z,GAAG,YAAYoD,UAAU,6BAC5B,kBAAC,GAAD,CACEiO,OAAQ+I,EACR9I,WAAY,kBAAM+I,GAAuB,IACzC9I,UAAU,GAEV,kBAAC,GAAD,CACED,WAAY,kBAAM+I,GAAuB,IACzCX,iBAAkBA,EAClBC,sBAAuBA,KAI3B,kBAAC,GAAD,CACEtI,OAAQiJ,EACRhJ,WAAY,kBAAMqI,GAAsB,IACxCpI,UAAU,GAEV,kBAAC,GAAD,CACE0I,cAAeA,EACf3I,WAAY,kBAAMqI,GAAsB,OAI5C,yBAAKvW,UAAU,kBACb,yBAAKA,UAAU,2CACb,wBAAIA,UAAU,mBAAd,2BAEA,gFAAqD,6BAAK,6BAA1D,2LACkL,6BAAK,6BADvL,2VAIA,4BAAQvH,KAAK,SAASuH,UAAU,kBAAkBoD,QAAS,kBAAM6T,GAAuB,KAAxF,wBAKF,yBAAKE,IAAI,2BAA2BC,IAAI,uCClCjCC,GAfO,SAAC,GAAuC,EAArC/T,KAAsC,IAAhC5K,EAA+B,EAA/BA,MAAOmG,EAAwB,EAAxBA,KAAM4E,EAAkB,EAAlBA,YAC1C,OACE,yBAAKzD,UAAU,sCACb,kBAAC,IAAD,CAAiBsD,KAAMC,MAEvB,2BACG7K,EACD,8BAAOmG,IAGT,2BAAI4E,KCFJ6T,GAAQ,SAAC5e,EAAO6e,GACpB,IAAMC,EAAQD,EAAMhd,KAAI,SAACoD,GAAD,OAAO6D,KAAKiW,IAAI9Z,EAAIjF,MAC5C,OAAO6e,EAAMC,EAAMvc,QAAQuG,KAAK4E,IAAL,MAAA5E,KAAI,YAAQgW,OA8G1BE,GA3GqB,SAAC,GAAc,IAO7ClS,EAPiCpH,EAAW,EAAXA,KAC/BgI,EAAMhI,EAAKgI,IACXxF,EAAMxC,EAAKwC,IACX+W,EAASvZ,EAAKuZ,OACdC,EAAUxZ,EAAKwZ,QACfC,EAAQzZ,EAAKyZ,MACbhZ,EAAOT,EAAKS,KAElB2G,EAAOpH,EAAKoH,KAMZ,IALA,IAAMsS,EAAoB1Z,EAAKjD,KAiB1BV,WACAsd,cACArd,QAAQ,OAAQ,KAChBA,QAAQ,YAAa,IACrBA,QAAQ,SAAU,KAClBA,QAAQ,MAAO,IACfA,QAAQ,MAAO,IArBd7B,EAAS,CAACuN,GACZrM,EAAI,EAEDlB,EAAOkB,GAAK6G,GACjB7G,IACAlB,EAAOuB,KAAKgM,EAAMrM,EAAIyL,GAGxB,IAAMwS,EAAMV,GAAMK,EAASE,EAAOhf,GAAUuF,EAAKS,KAC3CoZ,EAAMX,GAAMK,EAASE,EAAOhf,GAAUuF,EAAKS,KAC3CqZ,EAAaZ,GAAMK,EAAQ9e,GAAUuF,EAAKS,KAC5ByY,GAAMM,EAAS/e,GAAUuF,EAAKS,KAyClD,OACE,kBAAC,KAAD,CAAqByB,OAAO,MAAMC,MAAM,QACtC,kBAAC,KAAD,CAAUnC,KA9Bd,SAAoBA,EAAMS,GAKxB,IAHA,IAAMhG,EAAS,CAACuN,GACZrM,EAAI,EAEDlB,EAAOkB,GAAK6G,GACjB7G,IACAlB,EAAOuB,KAAKgM,EAAMrM,EAAIyL,GAGxB,IAAM2S,EAAW,GAWjB,OARAtf,EAAO0B,KAAI,SAAC7B,EAAOqB,EAAGqe,GACpB,IAAMC,EAAWja,EAAKka,QAAO,SAACC,GAAD,OAAOA,EAAI7f,EAAQ8M,EAAO,GAAK+S,EAAI7f,EAAQ8M,EAAO,KAAGxK,OAElFmd,EAAS/d,KAAK,CACZ1B,MAAOA,EAAQmG,EACf2Z,GAAIH,OAGDF,EASWM,CAAWra,EAAKsa,SAAU7Z,IACxC,8BACE,oCAAgBjC,GAAIkb,EAAWa,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KACrD,0BAAMC,OAAO,KAAKC,UAAW5a,EAAKyF,MAAOoV,YAAa,KACtD,0BAAMF,OAAO,MAAMC,UAAW5a,EAAKyF,MAAOoV,YAAa,OAG3D,kBAAC,KAAD,CAAOjM,QAAQ,QAAQF,OAAO,kBAAkBxM,OAAQ,GAAIkE,SAAU,IACpE,kBAAC,KAAD,CACE9L,MAAO0F,EAAKqF,YACZsV,OAAQ,EACRlZ,SAAS,eACTyB,MAAO,CAAE4X,WAAY,SAAUpR,KAAM,kBAAmBtD,SAAU,WAItE,kBAAC,KAAD,CAAOsI,OAAO,kBAAkBG,SAAU,EAAGzI,SAAU,IACrD,kBAAC,KAAD,CACE9L,MAAM,kBACNqgB,OAAQ,EACRlZ,SAAS,SACTyB,MAAO,CAAE4X,WAAY,SAAUpR,KAAM,kBAAmBtD,SAAU,QAClE2U,OAAQ,MAIZ,kBAAC,KAAD,MAEA,kBAAC,KAAD,CAAK1gB,KAAK,QAAQkV,YAAY,IAAIX,QAAQ,KAAKF,OAAO,OAAOhF,KAlCnE,SAAoBgQ,GAClB,MAAM,QAAN,OAAeA,EAAf,KAiCuEsB,CAAWtB,KAC9E,kBAAC,KAAD,CAAepR,EAAGsR,EAAKlL,OAAO,kBAAkBgB,YAAa,EAAGf,gBAAgB,QAChF,kBAAC,KAAD,CACErG,EAAGwR,EACHpL,OAAO,wBACPgB,YAAa,EACbf,gBAAgB,QAElB,kBAAC,KAAD,CAAerG,EAAGuR,EAAKnL,OAAO,kBAAkBgB,YAAa,EAAGf,gBAAgB,WCxGzEsM,GAXmB,SAAC,GAAc,IAAZjb,EAAW,EAAXA,KACnC,OACE,yBAAK4B,UAAU,8BACb,wBAAIA,UAAU,kBAAkB5B,EAAKjD,MACrC,2BAAIiD,EAAKqF,aAET,kBAAC,GAAD,CAA6BrF,KAAMA,MC4B1Bkb,I,OAlCC,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,gBACxB,OAAKD,GAImB,QAApBC,IACFA,EAAkB,KAIlB,+BACE,+BACE,4BACGD,EAAME,OAAOlf,KAAI,SAACmf,EAAM3f,GAAP,OAChB,wBAAId,IAAKc,GAAI2f,QAInB,+BACGH,EAAMnb,KAAK7D,KACV,SAAC0Z,EAAMla,GAAP,OACEA,EAAIyf,GACF,wBAAIvgB,IAAKc,GACNka,EAAK1Z,KAAI,SAACmf,EAAMC,GAAP,OACR,wBAAI1gB,IAAK0gB,GAAID,aAtBpB,uCCsBIE,GAvBU,SAAC,GAAuC,IAArCzgB,EAAoC,EAApCA,MAAOogB,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,gBAAsB,EAE5BhX,oBAAS,GAFmB,mBAEvDqX,EAFuD,KAE5CC,EAF4C,OAGlCtX,mBAAS+W,GAHyB,mBAGvDQ,EAHuD,UAK9D,OACE,yBAAK/Z,UAAU,uBACb,kBAAC,GAAD,CAAOiO,OAAQ4L,EAAW3L,WAAY,kBAAM4L,GAAa,IAAQ3L,UAAQ,GACvE,wBAAInO,UAAU,mBAAd,0BACA,kBAAC,GAAD,CAASuZ,MAAOQ,EAAQP,gBAAgB,SAGzCrgB,EAED,kBAAC,GAAD,CAASogB,MAAOA,EAAOC,gBAAiBA,IAExC,4BAAQ/gB,KAAK,SAASuH,UAAU,oBAAoBoD,QAAS,kBAAM0W,GAAa,KAAhF,eC0BSE,GA1Cc,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,WAAY/L,EAAsB,EAAtBA,WAAYtT,EAAU,EAAVA,IAGtD,OACE,yBAAKoF,UAAU,wCACb,wBAAIA,UAAU,mBAAd,2BAEA,yBAAKA,UAAU,oCACb,kBAAC,IAAD,CAAiBsD,KAAM4W,MACvB,uBAAGzQ,KAAM7O,EAAKsI,OAAO,SAASyN,IAAI,cAAlC,kDAkBF,4BACE3Q,UAAU,6BACVvH,KAAK,SACL2K,QAAS,WACP8K,IACA+L,MAGF,kBAAC,IAAD,CAAiB3W,KAAM6W,MARzB,yBCmBSC,GA5Ca,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,eAAgBnM,EAAiB,EAAjBA,WAAiB,EAClC1L,oBAAS,GADyB,mBACvD3J,EADuD,KAC/C0W,EAD+C,KAY9D,OACE,yBAAKvP,UAAU,mBACb,wBAAIA,UAAU,mBAAd,4BAEA,yOAKA,0BAAMA,UAAU,OAAOgQ,SAAU,SAACxE,GAAD,OAdhB,SAACA,GACpBA,EAAEqE,iBACFwK,EAAexhB,EAAOie,YAYoBlH,CAAapE,KACnD,kBAACyE,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAYtM,QAAQ,iBAApB,wBACA,kBAACuM,GAAA,EAAD,CAAOvT,GAAG,aAAa8G,SAAU,SAAC8H,GAAD,OArBpB,SAACA,GACpB+D,EAAU,eAAK1W,EAAN,gBAAe2S,EAAEtI,OAAOtG,GAAK4O,EAAEtI,OAAOxK,SAoBDsK,CAAawI,IAAI4E,UAAQ,IACjE,kBAACC,GAAA,EAAD,0GAMF,yBAAKrQ,UAAU,wBACb,4BAAQvH,KAAK,SAASuH,UAAU,oBAAoBoD,QAAS,kBAAM8K,MAAnE,WAGA,4BAAQzV,KAAK,SAASuH,UAAU,mBAAhC,eCzCH,SAAS4X,GAAQxZ,GAMpB,OALUA,EAAKkc,QAAO,SAAUC,EAAK7hB,GACnC,OAAO6hB,EAAM7hB,IACZ,GAEa0F,EAAKpD,OCIzB,IA+Fewf,GA/FM,SAAC,GAA4D,IAA1DC,EAAyD,EAAzDA,aAAwBC,GAAiC,EAA3CzgB,SAA2C,EAAjCygB,eAAwB9d,GAAS,EAAlB7D,QAAkB,EAAT6D,IAAS,EAC7C4F,oBAAS,GADoC,mBACxE0M,EADwE,KAC7DC,EAD6D,OAE7C3M,mBAAS,MAFoC,mBAExEmY,EAFwE,KAE7DC,EAF6D,OAGvCpY,mBAAS,MAH8B,mBAGxEqY,EAHwE,KAG1DC,EAH0D,KA8E/E,OAzEApd,qBAAU,WACRtC,EACGqB,IADH,oCAEGqC,MAAK,SAACC,GAEL,IAAMgc,EAAKhc,EAAIX,KAAK4c,UAAU1C,QAAO,SAAC2C,GAAD,OAAOA,EAAEre,KAAOA,KAAI,GACnDse,EAAcnc,EAAIX,KAAKrF,QAAQuf,QAAO,SAAC6C,GAAD,OAAOA,EAAEC,mBAAqBL,EAAG3L,iBAEvEiM,EAAiBX,EAAcxgB,WAAWK,KAAI,SAAAP,GAAK,OAAIA,EAAMrB,SAEnEuiB,EAAY3gB,KAAI,SAAA+gB,GACd,IAAIC,EAAU,GACdD,EAAOld,KAAKlE,WAAWL,SAAQ,SAAAG,GACzBqhB,EAAend,SAASlE,EAAMrB,QAAS4iB,EAAUnhB,KAAKJ,MAE5DshB,EAAOld,KAAKlE,WAAaqhB,KAE3BX,EAAaM,GACb/L,GAAa,MAEdlQ,OAAM,SAACpD,GAAD,OAASC,QAAQkC,IAAInC,QAC7B,IAGH6B,qBAAU,WAER,GAAIid,EAAW,CACbA,EAAUpgB,KAAI,SAACwgB,GAEb,IAAMS,EAAcT,EAAG3c,KAAKlE,WAAWK,KAAI,SAACP,EAAOD,GACjD,OAAoB,IAAhBC,EAAMtB,OAAmC,IAApB+hB,EAAa1gB,GAC7B,EAEW,IAAhBC,EAAMtB,OAAmC,IAApB+hB,EAAa1gB,GAC7B,IAEFyH,KAAKC,MACTD,KAAKiW,IAAIzd,EAAMtB,MAAQ+hB,EAAa1gB,IAAM0gB,EAAa1gB,GACtD,IACF,MAIJghB,EAAGnD,QAAUpW,KAAKC,MAAMmW,GAAQ4D,GAAc,GAG9CT,EAAGU,SAAWV,EAAG3c,KAAKlE,WAAWoe,QAC/B,SAACte,EAAOD,GAAR,OAAcC,EAAMtB,QAAUgiB,EAAcxgB,WAAWH,GAAGrB,SAAOsC,OAGnE+f,EAAGW,UAAYX,EAAG3c,KAAKlE,WAAWc,UAGpC,IAAM2gB,EAAY,CAChBlC,OAAQ,CAAC,uBAAwB,OAAS,mBAAoB,kBAAgB,kBAAmB,qCACjGrb,KAAMuc,EAAUpgB,KAAI,SAACwgB,GACnB,IACMa,EADS,IAAI9M,KAAKiM,EAAG3c,KAAKyQ,aACLgN,qBAC3B,MAAO,CACLd,EAAGzL,WACHsM,EACAb,EAAGU,SACHV,EAAGW,UAJE,UAKFla,KAAKC,MAAOsZ,EAAGU,SAAWV,EAAGW,UAAa,IAAK,GAL7C,KAMLX,EAAGnD,aAKTkD,EAAgBa,MAEjB,CAAChB,IAGF,yBAAK3a,UAAU,6BACZkP,GACC,yBAAKtS,GAAG,aAAaoD,UAAU,0CAC7B,kBAAC,KAAD,CAAQvH,KAAK,OAAOoL,MAAM,mBAAmBvD,OAAQ,IAAKC,MAAO,OAIrE,wBAAIP,UAAU,mBAAd,gBAEA,wBAAIA,UAAU,6BAAd,cAEC6a,GAAgB,kBAAC,GAAD,CAAStB,MAAOsB,EAAcrB,gBAAgB,UC/F9D,SAASsC,GAAYC,EAAQC,GAOhC,IAIMjf,EAAa,GACnBgf,EAAOhjB,QAAQwB,KAAI,SAACwE,GAAD,OAASA,EAAI7E,WAAWK,KAAI,SAACP,GAAD,OAAW+C,EAAW3C,KAAKJ,EAAMoL,gBAChF,IAAM6W,EAAmBlf,EAAWub,QANjB,SAAC5f,EAAOC,EAAOyf,GAChC,OAAOA,EAAKnd,QAAQvC,KAAWC,KAO3BujB,IACJF,EAASjf,WACNxC,KAAI,SAAC6K,GAAD,OAAc6W,EAAiB/d,SAASkH,EAAShH,KAAKjD,SAC1Dmd,QAAO,SAACC,GAAD,OAAQA,KAAGvd,OAAS,GAI5BmhB,EAAa,CACfjiB,WAAY,GACZ+hB,mBACAC,cAGIE,EAAWL,EAAOhjB,QACrBwB,KAAI,SAAC+gB,GAAD,OAAYA,EAAOphB,cACvBogB,QAAO,SAAC3c,EAAG4a,GAAJ,4BAAc5a,GAAd,YAAoB4a,OAE9ByD,EAASjf,WAAWxC,KAAI,SAAC6K,EAAUrL,GAC7BkiB,EAAiB/d,SAASkH,EAAShH,KAAKjD,OAC1CiK,EAASlL,WAAWK,KAAI,SAACP,EAAO2f,GAE9B,GAAI3f,EAAMoE,KAAKsJ,UAAW,CAExByU,EAAWjiB,WAAWE,KAAtB,aACEgL,SAAUA,EAAShH,KAAKjD,KACxB0I,MAAOuB,EAAShH,KAAKyF,MACrB7B,WAAYoD,EAAShH,KAAK4D,YACvBhI,EAAMvB,KAJX,GAKKuB,EAAMoE,OAIX,IAAIsa,EAAW0D,EAAS9D,QAAO,SAACC,GAAD,OAAOA,EAAE5f,QAAUqB,EAAMoE,KAAKzF,SAAO4B,KAAI,SAACge,GAAD,OAAOA,EAAE7f,SAE3EC,EAAQwjB,EAAWjiB,WAAWc,OAAS,EAE7CmhB,EAAWjiB,WAAWvB,GAAO+f,SAAWA,EACxCyD,EAAWjiB,WAAWvB,GAAOgf,OAASnW,KAAKC,MAAuB,ICxDvE,SAAgB5I,GACnB,GAAsB,IAAlBA,EAAOmC,OAAc,OAAO,EAEhCnC,EAAOwjB,MAAK,SAAU1e,EAAG2e,GACvB,OAAO3e,EAAI2e,KAGb,IAAIC,EAAO/a,KAAKgb,MAAM3jB,EAAOmC,OAAS,GAEtC,OAAInC,EAAOmC,OAAS,EAAUnC,EAAO0jB,IAE7B1jB,EAAO0jB,EAAO,GAAK1jB,EAAO0jB,IAAS,ED6Cc5E,CAAOe,IAAe,IACvEyD,EAAWjiB,WAAWvB,GAAOif,QAAUpW,KAAKC,MAAwB,IAAlBmW,GAAQc,IAAe,IACzEyD,EAAWjiB,WAAWvB,GAAOkf,MAAQrW,KAAKC,MAAkC,IExDjF,SAA2B5I,GAC9B,IAAI4jB,EAAM7E,GAAQ/e,GAQd6jB,EAAgB9E,GANF/e,EAAO0B,KAAI,SAAU7B,GACrC,IAAIikB,EAAOjkB,EAAQ+jB,EAEnB,OADcE,EAAOA,MAOvB,OADanb,KAAKob,KAAKF,GF6CiCG,CAAkBnE,IAAe,IACjFyD,EAAWjiB,WAAWvB,GAAOmkB,SAAWtb,KAAKC,MAAO0a,EAAWjiB,WAAWvB,GAAOkf,MAAQsE,EAAWjiB,WAAWvB,GAAOif,QAAW,IAAM,KAAO,IAC9IuE,EAAWjiB,WAAWvB,GAAOokB,QAAUrE,EAASJ,QAAO,SAACC,GAAD,OAAOA,IAAMve,EAAMoE,KAAK1F,SAAOsC,OAEtFmhB,EAAWjiB,WAAWvB,GAAO+iB,UAAYhD,EAAS1d,cAS1D,IAAMgiB,EAAgB,SAAC5e,EAAM3F,EAAMQ,GACjC,IAAIsgB,EAAQ,CAAEE,OAAQ,CAAC,UAAW,eAAahhB,IAC3CwkB,EAAW,CAAExD,OAAQF,EAAME,QAE3ByD,EAAY,GAQhB,OAPA9e,EAAKlE,WAAWK,KAAI,SAACP,GACnBkjB,EAAU9iB,KAAK,CAACJ,EAAMoL,SAAUpL,EAAMmB,KAAMnB,EAAMf,QAGpDsgB,EAAMnb,KAAN,YAAiB8e,EAAUb,MAAK,SAAC1e,EAAG2e,GAAJ,OAAUA,EAAE,GAAK3e,EAAE,OACnDsf,EAAS7e,KAAT,YAAoB8e,EAAUb,MAAK,SAAC1e,EAAG2e,GAAJ,OAAU3e,EAAE,GAAK2e,EAAE,OAE/C,CAAC,eAAK/C,GAAN,eAAoB0D,KA/Ea,EAkFFD,EACtCb,EACA,sBACA,WArFwC,mBAkFnCgB,EAlFmC,KAkFrBC,EAlFqB,OAuFEJ,EAC1Cb,EACA,qBACA,YA1FwC,mBAuFnCkB,EAvFmC,KAuFnBC,EAvFmB,KAkG1C,OALAnB,EAAWgB,aAAeA,EAC1BhB,EAAWiB,gBAAkBA,EAC7BjB,EAAWkB,eAAiBA,EAC5BlB,EAAWmB,kBAAoBA,EAExBnB,E,WG3ELoB,GAAkB,CAEtB7M,MAAO,CACL8M,MAAO,CACL,wBACA,kCACA,oCAEFC,KAAM,wBACNC,cAAe,gDAEjBC,kBAAmB,CACjBH,MAAO,CAAC,kCAAmC,mCAC3CC,KAAM,iCACNC,cAAe,gDAEjBE,SAAU,CACRJ,MAAO,CAAC,4BAA6B,8BACrCC,KAAM,6CACNC,cAAe,iDA4bJG,GAvaO,SAACzgB,GAAU,MAEaoF,mBAAS,MAFtB,mBAExBsb,EAFwB,KAEVC,EAFU,OAMCvb,mBAAS,IANV,mBAMxBvI,EANwB,KAMd+jB,EANc,OASWxb,mBAAS,MATpB,mBASxBkY,EATwB,KASTuD,EATS,OAaDzb,mBAAS,MAbR,mBAaxBzJ,EAbwB,KAaf0c,EAbe,OAeKjT,mBAAS,MAfd,mBAexBwP,EAfwB,KAeZkM,EAfY,OAiBS1b,mBAAS,MAjBlB,mBAiBxBiY,EAjBwB,KAiBV0D,EAjBU,OAkBK3b,mBAAS,MAlBd,gCAmByBA,mBAAS,OAnBlC,mBAmBxB4b,EAnBwB,KAmBFC,EAnBE,OAqBG7b,oBAAS,GArBZ,mBAqBxB0M,EArBwB,KAqBbC,EArBa,OAsBT3M,mBAAS,IAtBA,mBAsBxB5H,EAtBwB,KAsBnB0jB,EAtBmB,OAuBP9b,mBAAS,eAvBF,mBAuBxB+b,EAvBwB,KAuBlBC,EAvBkB,OAwBHhc,mBAAS,WAxBN,oBAwBxBic,GAxBwB,MAwBhBC,GAxBgB,SAyBOlc,mBAAS,MAzBhB,qBAyBxBmc,GAzBwB,MAyBXC,GAzBW,SA4Bapc,oBAAS,GA5BtB,qBA4BxBqc,GA5BwB,MA4BRC,GA5BQ,SA6BWtc,oBAAS,GA7BpB,qBA6BxBuc,GA7BwB,MA6BTC,GA7BS,SAgCPxc,mBAASsM,KAAKC,OAhCP,qBAkCzBnS,IAlCyB,YAkCpBQ,EAAM6hB,MAAMrlB,OAAOgD,IAG9Bc,qBAAU,WACRtC,EACGqB,IADH,+BAC+BG,GAD/B,MAEGkC,MAAK,SAACC,GAGL,GAFAgf,EAAoBhf,EAAIX,MAEQ,IAA5BW,EAAIX,KAAKrF,QAAQiC,OAAc,CAAC,IAAD,WAEtBkkB,GACT3B,GAAgB2B,GAAhB,MAAqC3kB,KAAI,SAAC4kB,GACpCpgB,EAAIX,KAAKrF,QAAQ,GAAG6B,IAAIsD,SAASihB,IACnCd,EAAwBa,OAH9B,IAAK,IAAMA,KAAc3B,GAAkB,EAAhC2B,QASX/P,GAAa,MAGhBlQ,OAAM,SAACpD,GAAD,OAASC,QAAQkC,IAAInC,QAC7B,IAGH6B,qBAAU,WACRtC,EACGqB,IAAI,mBACJqC,MAAK,SAACC,GACLif,EAAYjf,EAAIX,MAChB,IAAMghB,EAAoBtD,GAAYgC,EAAc/e,EAAIX,MACxD6f,EAAiBmB,GACjBjB,EAAgBiB,EAAkBllB,WAAWK,KAAI,SAACge,GAAD,MAAO,CAACA,EAAEZ,eAE5D1Y,OAAM,SAACpD,GAAD,OAASC,QAAQkC,IAAInC,QAC7B,CAACuiB,IAGJ1gB,qBAAU,WACR,GAAI+c,GAAgB2D,EAAsB,CAExC,IAAMiB,EAA4BplB,EAASuE,QAAQC,MACnDic,EAAcxgB,WAAWL,SAAQ,SAACG,EAAOD,GACvCslB,EAA0BrlB,EAAMrB,OAAO8hB,EAAa1gB,MAGtD,IAAM6E,EAAkBvE,EAAmBglB,EAA2BplB,EAASuE,QAAQK,MAEvFzD,EACGsB,MADH,wBAC0B6gB,GAAgBa,GAAsBV,eAAiB,CAC7E7kB,OAAQ+F,IAETE,MAAK,SAACC,GACL,IAAMC,EAAUD,EAAIX,KAAKrF,QACzB0c,EAAWzW,GACX,IAAMsgB,EA5Gc,SAACzmB,EAAQoB,GACrC,IAAIslB,EAAc,GACdC,EAAU,EAYd,OAXAvlB,EAAS8C,WAAWxC,KAAI,SAAAgI,GACtBA,EAAIrI,WAAWK,KAAI,SAAAP,GACbA,EAAMoE,KAAKsJ,WACb6X,EAAYnlB,KAAKvB,EAAO2mB,IACxBA,KAGAD,EAAYnlB,KAAK,CAACJ,EAAMoE,KAAK1F,cAI5B6mB,EA8F8BE,CAAsBhF,EAAcxgB,GACjEqkB,EAAO3jB,EAAO2kB,EAAsBrlB,EAASC,aAC7CiV,GAAa,GAEb,IAAMuQ,EAAkB,GACxB,IAAK,IAAMjS,KAAQzO,EAAQgT,WACzB,IAAK,IAAM2N,KAAU3gB,EAAQgT,WAAWvE,GACtCzO,EAAQgT,WAAWvE,GAAMkS,GAAQplB,KAAI,SAACge,GAAD,OAAOmH,EAAgBtlB,KAAKme,MAGrE2F,EAAcwB,MAEfzgB,OAAM,SAACpD,GAAD,OAASC,QAAQkC,IAAInC,SAE/B,CAAC4e,EAAc2D,IAGlB1gB,qBAAU,WACR,GAAIgd,EAAe,CACjB,IAAMiB,EAAY,CAChBlC,OAAQ,CACN,eACA,oBACA,iBACA,aACA,qBACA,mBACA,kBACA,mBAEFrb,KAAM,IAERsc,EAAcxgB,WAAWK,KAAI,SAACP,GACxBA,EAAMoL,WAAaqZ,IACrB9C,EAAUvd,KAAKhE,KAAK,CAClBJ,EAAMmB,KACNnB,EAAM2d,OAAS,IAAM3d,EAAM6E,KAC3B7E,EAAM4d,QAAU,IAAM5d,EAAM6E,KAC5B7E,EAAM4lB,OACN5lB,EAAM8iB,SACN9iB,EAAM+iB,QACN/iB,EAAM0hB,UAPY,WAQb1hB,EAAM+iB,QAAU/iB,EAAM0hB,UAAa,KAAKmE,QAAQ,GARnC,WAYxBjB,GAAe,eAAKjD,OAErB,CAACjB,EAAe+D,KAyCnB,OACE,yBAAK7hB,GAAG,iBAAiBoD,UAAU,uBAChCkP,GACC,yBAAKtS,GAAG,aAAaoD,UAAU,0CAC7B,kBAAC,KAAD,CAAQvH,KAAK,OAAOoL,MAAM,mBAAmBvD,OAAQ,IAAKC,MAAO,OAIrE,kBAAC,GAAD,CAAO0N,OAAQ4Q,GAAgB3Q,WAAY,kBAAM4Q,IAAkB,IAAQ1Q,cAAY,GACrF,kBAAC,GAAD,CACE6L,WAxBmB,WACzB+E,IAAiB,IAwBX9Q,WAAY,kBAAM4Q,IAAkB,IACpClkB,IAAKA,EACLQ,IAAKA,EACLwB,GAAIA,MAIR,kBAAC,GAAD,CAAOqR,OAAQ8Q,GAAe7Q,WAAY,kBAAM8Q,IAAiB,KAC/D,kBAAC,GAAD,CACE9Q,WAAY,kBAAM8Q,IAAiB,IACnC3E,eA/Be,SAACvD,GACtB1b,EACGyB,OADH,kCACsCD,GADtC,wBACwDka,IACrDhY,MAAK,SAACC,OAENE,OAAM,SAACpD,GAAD,OAASC,QAAQkC,IAAInC,UA+B3BiiB,GACC,yBAAK9d,UAAU,mCAEb,wBAAIA,UAAU,iBAAiB8d,EAAatH,eAG3CsH,EAAa/kB,QAAQiC,OAAS,GAC7B,yBAAKgF,UAAU,0CACb,4BACEA,UAAoB,gBAATue,EAAsB,qBAAuB,cACxD9lB,KAAK,SACL2K,QAAS,kBAAMob,EAAQ,iBAHzB,eAOA,4BACExe,UAAoB,aAATue,EAAsB,qBAAuB,cACxD9lB,KAAK,SACL2K,QAAS,kBAAMob,EAAQ,cAHzB,6BAOA,4BACExe,UAAoB,iBAATue,EAA0B,qBAAuB,cAC5D9lB,KAAK,SACL2K,QAAS,kBAAMob,EAAQ,kBAHzB,iBAWJ,yBAAKxe,UAAU,2CACb,yBAAKA,UAAU,oCACb,kBAAC,IAAD,CAAiBsD,KAAMwc,MACvB,2BAAIhC,EAAa/kB,QAAQiC,SAG3B,4BAAQgF,UAAU,kBAAkBvH,KAAK,SAAS2K,QAAS,kBAAM0b,IAAkB,KAAnF,aAQI,gBAATP,GACC,oCAEGvM,GACC,yBAAKhS,UAAU,6BACb,wBAAIA,UAAU,mBAAd,gBAEA,wBAAIA,UAAU,6BAAd,0BAGA,yBAAKA,UAAU,oCACZgS,EACEsG,QAAO,SAACC,GAAD,MAAuB,MAAhBA,EAAEwH,aAChBxlB,KAAI,SAAC2R,EAAWnS,GAAZ,OACH,kBAAC,GAAD,CACEd,IAAKc,EACLuJ,KAAMvJ,EACNrB,MAAOwT,EAAUxT,MACjBmG,KAAMqN,EAAUrN,KAChB4E,YAAayI,EAAU/Q,WAM/B,kBAAC,GAAD,CAASoe,MAAOxgB,EAAQmmB,WAAWc,eAAgBxG,gBAAgB,QAEnE,wBAAIxZ,UAAU,6BAAd,6BAGA,yBAAKA,UAAU,yCACZgS,EACEsG,QAAO,SAACC,GAAD,MAAuB,MAAhBA,EAAE0H,aAChB1lB,KAAI,SAAC2R,EAAUnS,GAAX,OACH,kBAAC,GAAD,CACEd,IAAKc,EACLrB,MAAOwT,EAAUxT,MACjBmG,KAAMqN,EAAUrN,KAChB4E,YAAayI,EAAU/Q,YAQlC6W,GACC,yBAAKhS,UAAU,kBACb,wBAAIA,UAAU,mBAAd,yBAEA,wBAAIA,UAAU,6BAAd,iBAEA,yBAAKA,UAAU,wCACb,kBAAC,GAAD,CACE7G,MACE,wBAAI6G,UAAU,kBACZ,kBAAC,IAAD,CAAiBsD,KAAM4c,MADzB,wBAKF3G,MAAOmB,EAAcyC,aACrB3D,gBAAiB,IAEnB,kBAAC,GAAD,CACErgB,MACE,wBAAI6G,UAAU,kBACZ,kBAAC,IAAD,CAAiBsD,KAAM6c,MADzB,yBAKF5G,MAAOmB,EAAc0C,gBACrB5D,gBAAiB,KAIrB,wBAAIxZ,UAAU,6BAAd,aAEA,yBAAKA,UAAU,wCACb,kBAAC,GAAD,CACE7G,MACE,wBAAI6G,UAAU,kBACZ,kBAAC,IAAD,CAAiBsD,KAAM4c,MADzB,wBAKF3G,MAAOmB,EAAc4C,kBACrB9D,gBAAiB,IAEnB,kBAAC,GAAD,CACErgB,MACE,wBAAI6G,UAAU,kBACZ,kBAAC,IAAD,CAAiBsD,KAAM6c,MADzB,yBAKF5G,MAAOmB,EAAc2C,eACrB7D,gBAAiB,OASnB,aAAT+E,GACC,oCACG7D,GACC,yBAAK1a,UAAU,8BACH,aAATue,GACC,yBAAKve,UAAU,0CACZ0a,EAAcuB,iBAAiB1hB,KAAI,SAACgI,EAAKxI,GAAN,OAClC,4BACEiG,UAAWye,KAAWlc,EAAM,yBAA2B,cACvD9J,KAAK,SACLmE,GAAI7C,EACJqJ,QAAS,kBAAMsb,GAAUnc,KAExBA,OAMT,wBAAIvC,UAAU,mBAAd,0BAEA,wBAAIA,UAAU,6BAAd,2BAECjH,GACC,kBAAC,GAAD,CACEwgB,MAlPiB,SAACA,EAAOkF,GAEvC,IAAM2B,EAAc,GACpB7G,EAAME,OAAOlf,KAAI,SAACge,EAAExe,GACdA,EAAE,GAAIqmB,EAAYhmB,KAAKme,MAI7B,IAAI8H,EAAU,YAAO9G,EAAMnb,KAAKka,QAAO,SAACrE,GAAD,OAAUA,EAAK,KAAOwK,MAC7D,GAA0B,IAAtB4B,EAAWrlB,OACb,OAAO,KAGT,IAAIslB,EAAU,GASd,OARAD,EAAW9lB,KAAI,SAAC0Z,GACd,IAAI7V,EAAK,GACT6V,EAAK1Z,KAAI,SAACge,EAAExe,GACNA,EAAE,GAAIqE,EAAKhE,KAAKme,MAEtB+H,EAAUlmB,KAAKgE,MAGV,CAAEqb,OAAQ2G,EAAahiB,KAAMkiB,GA4NfC,CAAyB,eACzBxnB,EAAQmmB,WAAWsB,oBACxB/B,IAEFjF,gBAAgB,QAIpB,wBAAIxZ,UAAU,6BAAd,gCAEC2e,IAAe,kBAAC,GAAD,CAASpF,MAAOoF,GAAanF,gBAAgB,QAE7D,wBAAIxZ,UAAU,6BAAd,gCAEA,yBAAKpD,GAAG,oCAAoCoD,UAAU,sBACnD0a,EAAcxgB,WACZoe,QAAO,SAACte,GAAD,OAAWA,EAAMoL,WAAaqZ,MACrClkB,KAAI,SAACP,EAAOD,GAAR,OACH,kBAAC,GAAD,CAA2Bd,IAAKc,EAAGqE,KAAMpE,UAS7C,iBAATukB,GACC,kBAAC,GAAD,CACE9D,aAAcA,EACdxgB,SAAUA,EACVygB,cAAeA,EACf3hB,QAASA,EACT6D,GAAIA,OCzdC6jB,GARE,WACf,OACE,6BACE,mD,oBC6PSC,I,OAjOS,WAAO,IAAD,EAEFle,mBAAS,MAFP,mBAEnBme,EAFmB,KAEbC,EAFa,OAGQpe,oBAAU,GAHlB,mBAGnBqe,EAHmB,KAGRC,EAHQ,OAIAte,mBAASvI,GAASmE,MAJlB,mBAInB2iB,EAJmB,aAKAve,mBAAS,OALT,mBAKnBwe,EALmB,KAKZC,EALY,OAM0Bze,mBAAS,MANnC,mBAMnB0e,EANmB,KAMCC,EAND,OAOU3e,mBAAS,MAPnB,mBAOnBwP,EAPmB,KAOPkM,EAPO,KAcpBkD,EAAkB,CACpB,KAAQ,GACR,IAAO,GACP,KAAS,GACT,KAAS,KAGPC,EAAa,CACf,IAAO,KACP,IAAO,KACP,KAAS,EACT,KAAS,IAIb3jB,qBAAU,WACN,IAAM4jB,EAAWC,EAAaZ,EAAKE,GACnCI,EAASK,GACT,IAAIE,EAAgB,GAChBC,EAAQ,EACZH,EAAS/mB,KAAI,SAAA2N,GACTsZ,EAAcpnB,KAAK,CAAC,KAAQ8N,EAAEyY,KAAM,WAAczY,EAAEwZ,UAAUD,GAAO,MACrEA,GAASvZ,EAAEwZ,aAEfP,EAAsBK,KACvB,CAACb,EAAME,IAEVnjB,qBAAU,WACN,GAAIsjB,EAAO,CACP,IAAIW,EAAQC,EAAkBZ,EAAMzmB,KAAI,SAAAge,GAAC,OAAIA,EAAEmJ,cAC/CxD,EAAc,CACV,MAAS1c,KAAKC,MAAMkgB,EAAM,KAC1B,cAAiBE,EAAa,MAC9B,cAAiBA,EAAa,WAGvC,CAACb,IAIJ,IAAMO,EAAe,SAACZ,EAAME,GACxB,IAAIziB,EAAO,GACP0jB,EAAiB,EAYrB,OAXAf,EAAMxmB,KAAI,SAAA2N,GACN,IAAIwZ,EAAU,EACVxZ,EAAEyY,MAAQA,GACVe,EAAYxZ,EAAEwZ,UACdI,EAAiBtgB,KAAKC,MAAMyG,EAAEwZ,YAEzBxZ,EAAEyY,KAAOA,IACde,EAAYlgB,KAAKC,MAAMqgB,EAAiBtgB,KAAKugB,IAAK,EAAElB,EAAU,IAAK3Y,EAAEyY,KAAMA,KAE/EviB,EAAKhE,KAAK,CAAC,KAAQ8N,EAAEyY,KAAM,UAAae,OAErCtjB,GAGLwjB,EAAoB,SAAC/oB,GACvB,OAAOA,EAAOyhB,QAAO,SAAC3c,EAAE4a,GAAH,OAAQ5a,EAAE4a,IAAG,IAGhCyJ,EAAqB,SAACrB,GACxB,OAAOK,EAAM1I,QAAO,SAAApQ,GAAC,OAAGA,EAAEyY,MAAOA,KAAM,GAAGe,WAGxCO,EAAkC,SAACC,EAAQC,GAE7C,IAAIpb,EAAS,GACA,SAATob,EAAmBpb,EAASqa,EACd,cAATe,IAAwBpb,EAASsa,GAG1C,IADA,IAAIe,EAAU,GACLroB,EAAEgN,EAAOX,IAAKrM,GAAGgN,EAAOnG,IAAI7G,GAAGgN,EAAOvB,KAC3C4c,EAAQhoB,KAAKL,GAEjB,IAAIsoB,EAAkB,KAClBC,EAAO,EACPC,EAAI,GACRH,EAAQ7nB,KAAI,SAAC6D,EAAKrE,GACD,SAATooB,EAAmBI,EAAMhB,EAAaZ,EAAMviB,GAC9B,cAAT+jB,IAAwBI,EAAMhB,EAAanjB,EAAMyiB,IAE1D,IAAI2B,EAAehhB,KAAKiW,IAAW,IAAPyK,EAAcN,EAAkBW,EAAIhoB,KAAI,SAAAge,GAAC,OAAEA,EAAEmJ,eACpEc,EAAeH,IAChBA,EAAkBG,EAClBF,EAAOvoB,MAGF,SAATooB,EAAmBrB,EAAasB,EAAQE,IAC1B,cAATH,GAAwBvB,EAAQwB,EAAQE,KAI/C9b,EAAW,SAACO,GAEd,MAAO,CACH,CACArO,MAAOqO,EAAOX,IACdE,MAAM,GAAD,OAAKS,EAAOX,KAAZ,OAAkBW,EAAOlI,OAE9B,CACAnG,MAAOqO,EAAOnG,IACd0F,MAAM,GAAD,OAAKS,EAAOnG,KAAZ,OAAkBmG,EAAOlI,SAKhCgjB,EAAe,SAAClB,GAClB,OAAOnf,KAAKC,MAAqE,KAA9DugB,EAAmBrB,GAAMqB,EAhH5B,MAgH8D,IAAU,MAI5F,OACI,yBAAKplB,GAAG,oBACJ,+HACA,kGAECoV,GAAc,6BACX,gEAAgCA,EAAW2P,MAA3C,YACA,4CA3HQ,KA2HR,gBAAyC3P,EAAWyQ,eACpD,4CA5HQ,KA4HR,gBAAyCzQ,EAAW0Q,gBAExD,yBAAK1iB,UAAU,aAEX,kBAAC,KAAD,KACI,kBAAC,KAAD,CAAWqE,OAAQ,CAAEnC,IAAK,EAAG2K,MAAO,GAAIrM,KAAM,GAAIyB,OAAQ,IACtD,kBAAC,KAAD,MACA,kBAAC,KAAD,CAAO+K,QAAQ,OAAOvU,KAAK,SAC3B,kBAAC,KAAD,MACA,kBAAC,KAAD,MACA,kBAAC,KAAD,CAAM2F,KAAM4iB,EAAOhU,QAAQ,YAAYF,OAAO,UAAUgB,YAAa,EAAGD,KAAK,IAC7E,kBAAC,KAAD,CAAMzP,KAAM2iB,EAAO/T,QAAQ,YAAYF,OAAO,QAASe,KAAK,MAKpE,kBAAC,KAAD,KACI,kBAAC,KAAD,CAAWzP,KAAM8iB,EAAoB7c,OAAQ,CAACnC,IAAK,GAAI2K,MAAO,GAAIrM,KAAM,EAAGyB,OAAQ,IAC/E,kBAAC,KAAD,CAAe8K,gBAAgB,QAC/B,kBAAC,KAAD,CAAOC,QAAQ,SACf,kBAAC,KAAD,CAAOG,OAAQ,CAAC,EAAG,OACnB,kBAAC,KAAD,MACA,kBAAC,KAAD,CAAM1U,KAAK,WAAWuU,QAAQ,YAAYF,OAAO,UAAUhF,KAAK,YAChE,kBAAC,KAAD,CAAe4F,EAlJlB,KAkJ+BpH,MAAM,kBAAewG,OAAO,QAAQC,gBAAgB,QAChF,kBAAC,KAAD,CAAeW,EAlJnB,KAkJ+BpH,MAAM,gBAAawG,OAAO,MAAMC,gBAAgB,WAMvF,yBAAK/M,UAAU,cAEX,6BAEI,sEAEA,kBAACkG,EAAA,EAAD,CACIxC,SAAU,SAAC8H,EAAGhR,GAAJ,OAAUomB,EAAQpmB,IAC5B9B,MAAOioB,EACPnb,KAAM6b,EAAW7b,KACjBY,IAAKib,EAAWjb,IAChBxF,IAAKygB,EAAWzgB,IAChByF,MAAOG,EAAS6a,GAChBvb,kBAAkB,OAGtB,kBAAC6c,GAAA,EAAD,CAAQC,QAAQ,WAAW/e,MAAM,UAAUT,QAAS,kBAAI6e,EAxKxD,KAwKiG,eAAjG,iCAIA,kBAACU,GAAA,EAAD,CAAQC,QAAQ,WAAW/e,MAAM,UAAUT,QAAS,kBAAI6e,EA7KvD,KA6KiG,eAAlG,oCAMJ,6BAEI,yCAEA,kBAAC/b,EAAA,EAAD,cACIxC,SAAU,SAAC8H,EAAGhR,GAAJ,OAAUsmB,EAAatmB,IACjC9B,MAAOmoB,EACP/a,kBAAkB,OAClBN,KAAM4b,EAAgB5b,KACtBY,IAAKgb,EAAgBhb,IACrBxF,IAAKwgB,EAAgBxgB,IACrByF,MAAOG,EAAS4a,GAChB3a,MAAO,SAACC,GAAD,OAAOA,EAAI,MARtB,oBASsB,OAGtB,kBAACic,GAAA,EAAD,CAAQC,QAAQ,WAAW/e,MAAM,UAAUT,QAAS,kBAAI6e,EAlMxD,KAkMiG,UAAjG,qCAIA,kBAACU,GAAA,EAAD,CAAQC,QAAQ,WAAW/e,MAAM,UAAUT,QAAS,kBAAI6e,EAvMvD,KAuMiG,UAAlG,4CCtLLY,GA3DI,WACjB,OACE,yBAAKjmB,GAAG,eACN,wBAAIoD,UAAU,mBAAd,8BAEA,0EACA,+FAEE,4BACE,qEACqC,mDADrC,YAC+E,IAC7E,8CAEF,iEAC8B,gDAD9B,SACkE,IAChE,qDAKN,+CACmB,uCADnB,SACwC,sCADxC,SACuD,IACrD,kEAFF,+CAEmF,IACjF,4DAHF,qDAG6E,IAC3E,oDAJF,KAOA,yCACa,0CADb,sBAC4C,4DAD5C,oIAKA,yMAEG,IACD,uBAAGyJ,KAAK,oCAAR,8BAGF,6DAEE,4BACE,4EAGA,kEAGA,mFAGA,iHCdKqZ,GAjCG,WAChB,OACE,yBAAKlmB,GAAG,eACN,wBAAIoD,UAAU,mBAAd,QAEA,mCACO,yDADP,gEAC0F,8DAD1F,2BACkJ,sDADlJ,4EAIA,iCACK,2DADL,+HACsJ,wCADtJ,8BACuL,6DADvL,mBACyO,qDADzO,0BACuR,yEADvR,KAIA,4BACE,sDACyB,8FAAiE,IAD1F,4FAEmF,kBAAC,IAAD,CAAiBsD,KAAMC,MAF1G,yCAGwB,KAExB,qEACmC,IACjC,0GAFF,YAE6E,IAC3E,mFAHF,6DAIoB,KAEpB,kDACqB,qDADrB,kGACgI,QCqBzHuF,I,OAAAA,aA3CA,WAAO,IAAD,EACetG,oBAAS,GADxB,mBACZugB,EADY,KACDC,EADC,OAEaxgB,oBAAS,GAFtB,mBAEZygB,EAFY,KAEFC,EAFE,KAInB,OACE,yBAAKljB,UAAU,YACb,kBAAC,GAAD,CAAOiO,OAAQ8U,EAAW7U,WAAY,kBAAM8U,GAAa,IAAQ7U,UAAQ,GACvE,kBAAC,GAAD,OAGF,kBAAC,GAAD,CAAOF,OAAQgV,EAAU/U,WAAY,kBAAMgV,GAAY,IAAQ/U,UAAQ,GACrE,kBAAC,GAAD,OAGF,kBAAC,IAAD,CAAMnO,UAAU,oBAAoB4Q,GAAG,KACrC,yBAAKuG,IAAI,sCAAsCC,IAAI,SACnD,8CACiB,0CAInB,mCAEA,wBAAIpX,UAAU,qBACZ,4BACE,kBAAC,IAAD,CAAM4Q,GAAG,cACR,4BAAQ5Q,UAAU,oBAAoBvH,KAAK,UAA3C,cAEH,4BACE,4BAAQuH,UAAU,oBAAoBvH,KAAK,SAAS2K,QAAS,kBAAM4f,GAAa,KAAhF,gBAIF,4BACE,4BAAQhjB,UAAU,oBAAoBvH,KAAK,SAAS2K,QAAS,kBAAM8f,GAAY,KAA/E,e,OCjBuB,cAA7BroB,OAAOC,SAASqoB,WAClBC,IAAQC,WAAW,gBACnBD,IAAQE,SAASzoB,OAAOC,SAASmD,SAAWpD,OAAOC,SAASyoB,SAG9DH,IAAQngB,MAAM,CACZmC,SAAU,UACV5M,OAAO,GAAD,OAAKqC,OAAO2oB,OAAOjjB,MAAnB,YAA4B1F,OAAO2oB,OAAOljB,UAwEnCmjB,OArEf,WACE,IAAMljB,EAAQ1F,OAAO0W,WAkBrB1W,OAAOib,iBAAiB,gBAAgB,SAACtK,GAAD,OAhBxC,SAAqBA,GAGnB,GADA1P,QAAQkC,IAAIF,aAAaC,QAAQ,iBAC7BD,aAAaC,QAAQ,gBAAiB,CACxC,IAAIF,EAAUC,aAAaC,QAAQ,gBACnCD,aAAaa,WAAW,gBACxBvD,EACGyB,OAAO,gBAAiBgB,GACxBiB,MAAK,SAACC,GACLjD,QAAQkC,IAAI,iBAAkBe,MAE/BE,OAAM,SAACpD,GAAD,OAASC,QAAQkC,IAAInC,OAKa6nB,MAE/C,IAAMC,EAAS,WACb,OACE,yBAAK/mB,GAAG,kBACN,6BACE,mPAUFgnB,EAAU,WAAO,IAAD,EACIphB,oBAAS,GADb,mBACbqhB,EADa,KACPC,EADO,KAGpB,OACE,oCACE,yBAAKlnB,GAAG,SAASoD,UAAU,qBACzB,kBAAC,GAAD,OAGF,0BAAMpD,GAAG,eAAeoD,UAAU,qBAChC,kBAAC,GAAD,CAAOiO,OAAQ4V,EAAM3V,WAAY,kBAAM4V,GAAQ,KAC7C,kBAAC,GAAD,OAGF,kBAAC,IAAD,KAEE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAW9R,KAEjC,kBAAC,IAAD,CAAO6R,KAAK,aAAaC,UAAW9R,KACpC,kBAAC,IAAD,CAAO6R,KAAK,qBAAqBC,UAAWvD,KAC5C,kBAAC,IAAD,CAAOsD,KAAK,WAAWC,UAAW3O,KAClC,kBAAC,IAAD,CAAO0O,KAAK,aAAaC,UAAWlN,KACpC,kBAAC,IAAD,CAAOiN,KAAK,gBAAgBC,UAAWpG,KAEvC,kBAAC,IAAD,CAAOmG,KAAK,IAAIC,UAAWxD,SAOrC,OAAOlgB,EAAQ,EAAI,kBAACqjB,EAAD,MAAc,kBAACD,EAAD,OC7FnCO,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,KACE,kBAAC,EAAD,KACE,kBAAC,GAAD,SAINC,SAASC,eAAe,W","file":"static/js/main.4527100b.chunk.js","sourcesContent":["import * as actions from \"./actions\";\r\n\r\nconst updateOneValue = (value, index, state) => {\r\n  const newValues = [...state.values];\r\n  newValues[index][0] = value;\r\n  return { ...state, values: newValues };\r\n};\r\n\r\nexport const globalReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case actions.UPDATE_VALUE:\r\n      return updateOneValue(action.value, action.index, state);\r\n\r\n    case actions.UPDATE_RESULTS:\r\n      return { ...state, results: action.results };\r\n\r\n    case actions.LOAD_VALUES:\r\n      return { ...state, values: action.values };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const UPDATE_VALUE = \"UPDATE_VALUE\";\r\nexport const LOAD_VALUES = \"LOAD_VALUES\";\r\nexport const UPDATE_RESULTS = \"UPDATE_RESULTS\";\r\n","export const GSHEET_NAME = \"idSheet-Lysed\";\r\n\r\nexport const VALUES_TITLE = \"Mesures sur le territoire - 2030\";\r\nexport const RESULTS_TITLE = \"Impacts sur le territoire - 2030\";\r\n\r\nexport const RESULTS_SAMPLE_DISPLAY = [\r\n  {\r\n    key: \"climate\",\r\n    subtitle: \"Émissions Totales\",\r\n    title: \"Climat\",\r\n    graphType: \"Chart\",\r\n    priority: \"main\",\r\n    graphYMaximum: 150,\r\n    indicatorObjectives: -40\r\n  },\r\n  {\r\n    key: \"energy\",\r\n    subtitle: \"Consommation\",\r\n    title: \"Energie\",\r\n    graphType: \"Compo\",\r\n    priority: \"main\",\r\n    graphYMaximum: 700,\r\n    indicatorObjectives: -20\r\n  },\r\n  { key: \"air\", title: \"Qualité de l'air et consommation foncière\", graphType: null, priority: \"secondary\", indicatorObjectives: [-60, -50, -40] },\r\n];\r\n","import jsonFile from \"../ressources/initialDatas.json\";\r\n\r\n//fonction qui récupère en paramètre la string de l'url et la transforme en un array de values au format excel\r\nexport function getValuesFromUrl(vals) {\r\n  const paramValPair = vals.split(\"&&\");\r\n  var params = [];\r\n  paramValPair.forEach((p, i) => {\r\n    var param = jsonFile.parameters[i];\r\n\r\n    if (param.type === \"list\") {\r\n      var values = param.possibleValues.split(\", \");\r\n      params.push([values[p.split(\"=\")[1]]]);\r\n    } else {\r\n      params.push([p.split(\"=\")[1]]);\r\n    }\r\n  });\r\n\r\n  return params;\r\n}\r\n","export function getValuesFormatted(vals, units) {\r\n  var valsFinal = vals.map((val, i) => {\r\n    if (units[i] === \"%\") {\r\n      val /= 100;\r\n    }\r\n    var valSt = val.toString();\r\n    var valStFinal = valSt.replace(\".\", \",\");\r\n    return [valStFinal];\r\n  });\r\n  return valsFinal;\r\n}\r\n","export function getUrl(values, parameters) {\r\n  var url = window.location.origin + \"/simulator/favorites/\";\r\n  for (let i = 0; i < parameters.length; i++) {\r\n    var param = parameters[i];\r\n    url += \"p\" + i + \"=\";\r\n\r\n    if (param.type === \"slider\") {\r\n      url += values[i][0];\r\n    } else if (param.type === \"list\") {\r\n      var possibleValues = param.possibleValues.split(\", \");\r\n      url += possibleValues.indexOf(values[i][0]);\r\n    }\r\n    if (i < parameters.length - 1) {\r\n      url += \"&&\";\r\n    }\r\n  }\r\n  return url;\r\n}\r\n","import axios from \"axios\";\r\n\r\nclass APIHandler {\r\n  constructor() {\r\n    this.name = \"APIHandler\";\r\n    if (!process.env.REACT_APP_BACKEND_URL)\r\n      throw new Error(\"A target backend URL must be specified in .env\");\r\n    this.api = axios.create({\r\n      baseURL: process.env.REACT_APP_BACKEND_URL + \"/api\",\r\n      // withCredentials: infos && infos.credentials ? true : false\r\n      withCredentials: true,\r\n    });\r\n  }\r\n\r\n  checkRoute(route, config) {\r\n    try {\r\n      if (!route) throw new Error(\"please provide the requested server route\");\r\n      if (config && typeof config !== \"object\") throw new Error(\"Config must be an object\");\r\n    } catch (err) {\r\n      return console.error(err);\r\n    }\r\n  }\r\n\r\n  post(route, payload, config) {\r\n    this.checkRoute(route, config);\r\n    if (payload && typeof payload !== \"object\")\r\n      throw new Error(`${this.name} post() function expects payload argument to be of type Object`);\r\n    return this.api.post(route, payload, config);\r\n  }\r\n\r\n  get(route, query, config) {\r\n    this.checkRoute(route, config);\r\n    var queryString = \"\";\r\n    if (query) {\r\n      if (typeof query !== \"object\")\r\n        throw new Error(`${this.name} get() function expects query argument to be of type Object`);\r\n      let count = 0;\r\n      let keyCount = Object.keys(query);\r\n      for (let key in query) {\r\n        if (!count) queryString += \"?\";\r\n        if (count && count < keyCount) queryString += \"&\";\r\n        queryString += `${key}=${query[key]}`;\r\n        count++;\r\n      }\r\n    }\r\n\r\n    return this.api.get(route + (queryString || \"\"), config);\r\n  }\r\n\r\n  patch(route, payload, config) {\r\n    this.checkRoute(route, config);\r\n    if (!payload || typeof payload !== \"object\")\r\n      throw new Error(\r\n        `${this.name} patch() function expects payload argument to be of type Object`,\r\n      );\r\n    return this.api.patch(route, payload, config);\r\n  }\r\n\r\n  replace(route, payload, config) {\r\n    this.checkRoute(route, config);\r\n    if (!payload || typeof payload !== \"object\")\r\n      throw new Error(\r\n        `${this.name} replace() function expects payload argument to be of type Object`,\r\n      );\r\n    return this.api.put(route, payload, config);\r\n  }\r\n\r\n  delete(route, id, config) {\r\n    this.checkRoute(route, config);\r\n    if (!id)\r\n      throw new Error(\r\n        `${this.name} delete() function expects the id of the ressource targeted for deletion`,\r\n      );\r\n    return this.api.delete(`${route}/${id}`);\r\n  }\r\n}\r\n\r\nexport default new APIHandler();\r\n","import React, { useContext, useReducer, useEffect } from \"react\";\r\nimport * as actions from \"./actions\";\r\nimport { globalReducer } from \"./reducers\";\r\nimport jsonFile from \"ressources/initialDatas.json\";\r\nimport { GSHEET_NAME } from \"config\";\r\nimport { getValuesFromUrl } from \"utils/getValuesFromUrl\";\r\nimport { getValuesFormatted } from \"utils/getValuesFormatted\";\r\nimport { getUrl } from \"utils/getUrl\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport api from \"../api/APIHandler\";\r\n\r\nconst initialData = {\r\n  values: null,\r\n  categories: jsonFile.categories,\r\n  results: null,\r\n};\r\n\r\nexport const GlobalContext = React.createContext();\r\n\r\nconst ValuesProvider = (props) => {\r\n  const { children } = props;\r\n  const location = useLocation();\r\n  const [globalState, dispatch] = useReducer(globalReducer, initialData);\r\n\r\n  //Gestion d'une route avec paramêtres spécifiques\r\n  //url test : favorites/p0=100&&p1=0&&p2=56&&p3=99&&p4=30&&p5=18&&p6=52&&p7=35&&p8=57&&p9=2&&p10=80&&p11=82&&p12=3000000&&p13=73&&p14=35&&p15=30&&p16=50&&p17=100&&p18=85&&p19=85&&p20=85&&p21=1&&p22=2\r\n\r\n  // Fonction appellée à la première exécution. Permet de :\r\n  //   - créer une spreadsheet si non créée,\r\n  //   - charger les valeurs de la spreadsheet créée si existante, et les afficher,\r\n  //   - charger les valeurs d'un scénario enregistré, dans le cas d'un appel via url spécifique,\r\n  useEffect(() => {\r\n    async function initDatas() {\r\n      var valuesURL = [];\r\n      // cas où une sheet est déjà en dans le localstorage\r\n      const idSheet = localStorage.getItem(GSHEET_NAME);\r\n\r\n      if (idSheet) {\r\n        console.log(\"SHEET ALREADY CREATED, ID:\", idSheet);\r\n        //cas où appel normal de la page simulateur\r\n        if (!location.pathname.includes(\"favorites\")) {\r\n          const response = await api.get(\"/sheet/values/\" + idSheet);\r\n          dispatch({\r\n            type: actions.LOAD_VALUES,\r\n            values: response.data.values,\r\n          });\r\n        } else {\r\n          // cas où appel via url spécifique /save/p=1&&p=3.....\r\n          const startIndex = location.pathname.indexOf(\"p0=\");\r\n          const url = location.pathname.substr(startIndex);\r\n          valuesURL = getValuesFromUrl(url);\r\n          dispatch({\r\n            type: actions.LOAD_VALUES,\r\n            values: valuesURL,\r\n          });\r\n        }\r\n      } else {\r\n        // cas où aucune sheet n'a été créée\r\n        //création d'une copie de la sheet master\r\n        const response = await api.get(\"/sheet/\");\r\n        const idSheet = response.data.id;\r\n        localStorage.setItem(\"idSheet-Lysed\", idSheet);\r\n        console.log(\"SHEET CREATED! ID:\", idSheet);\r\n\r\n        // cas où appel via url spécifique /save/p=1&&p=3.....\r\n        if (location.pathname.includes(\"favorites\")) {\r\n          const startIndex = location.pathname.indexOf(\"p0=\");\r\n          const url = location.pathname.substr(startIndex);\r\n          valuesURL = getValuesFromUrl(url);\r\n          dispatch({\r\n            type: actions.LOAD_VALUES,\r\n            values: valuesURL,\r\n          });\r\n        } else {\r\n          // already has an initial state\r\n          // cas où appel normal (on initialise tout de même les valeurs ici pour le loader)\r\n          dispatch({\r\n            type: actions.LOAD_VALUES,\r\n            values: jsonFile.options.vInit,\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    initDatas();\r\n\r\n    //nettoyage du results de local storage\r\n    if (localStorage.getItem(\"results\")) {\r\n      localStorage.removeItem(\"results\");\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  //Fonction appellée à chaque actualisation de la variable state \"values\". Permet d'actualiser les résultats correpondant aux nouvelles values\r\n\r\n  useEffect(() => {\r\n    if (!globalState.values) return;\r\n\r\n    const idSheet = localStorage.getItem(\"idSheet-Lysed\");\r\n    const valuesFormatted = getValuesFormatted(globalState.values, jsonFile.options.unit);\r\n    if (idSheet) {\r\n      api\r\n        .patch(\"/sheet/update/\" + idSheet, { values: valuesFormatted })\r\n        .then((res) => {\r\n          const resTemp = res.data.results;\r\n          resTemp.url = getUrl(globalState.values, jsonFile.parameters);\r\n          //correction des data area pour affichage ok\r\n          // handleAreaData(resTemp.emiSecteurGnl);\r\n          dispatch({ type: actions.UPDATE_RESULTS, results: resTemp });\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, [globalState.values]);\r\n\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        globalState,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ValuesProvider;\r\n\r\nexport const useGlobalContext = () => {\r\n  return useContext(GlobalContext);\r\n};\r\n","import React from \"react\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\r\n\r\n// TODO See if it can be async\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    background: {\r\n      // => You can add any keys you wish overhere\r\n      default: \"#FFFFFF\",\r\n      secondary: \"#E5EAEC\",\r\n      toto: \"#960000\",\r\n    },\r\n  },\r\n});\r\n\r\nconst Theme = (props) => {\r\n  const { children } = props;\r\n\r\n  return <ThemeProvider theme={theme}>{children}</ThemeProvider>;\r\n};\r\n\r\nexport default Theme;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\n\r\nconst Marker = (props) => {\r\n  const { position, type } = props;\r\n\r\n  const classes = useMarkerStyles({ type, position });\r\n\r\n  return <div className={classes.marker}></div>;\r\n};\r\n\r\nconst SimulatorProgressBar = ({ results, progressBarColor }) => {\r\n  const data = results[0];\r\n  const max = data.ranges[2];\r\n  const m1 = (data.markers[0] / max) * 100 - 0.25 + \"%\";\r\n  const m2 = (data.markers[1] / max) * 100 - 0.25 + \"%\";\r\n  const jaugeStart = -(data.markers[1] / max) * 100 + 0.5 + \"%\";\r\n  const value = (data.measures[0] / max) * 100;\r\n  const parentRef = React.createRef(null);\r\n\r\n  // useEffect(() => {\r\n  //   function handleResize(event) {\r\n  //     const width = parentRef.current.getBoundingClientRect().width;\r\n  //     setParentWidth(width);\r\n  //   }\r\n  //   window.addEventListener(\"resize\", handleResize);\r\n\r\n  //   return () => {\r\n  //     window.removeEventListener(\"resize\", handleResize);\r\n  //   };\r\n  // });\r\n\r\n  function handleClass() {\r\n    return data.measures[0] >= data.ranges[2] - 15 ? \"jauge-int-max\" : \"jauge-int\";\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"jauge-ext\"\r\n      ref={parentRef}\r\n      style={{\r\n        height: \"20px\",\r\n        width: \"100%\",\r\n        backgroundColor: \"white\",\r\n        border: \"#E5EAEC solid 1px\",\r\n        position: \"relative\",\r\n      }}\r\n    >\r\n      <Marker type=\"success\" position={m1} />\r\n      <Marker type=\"failure\" position={m2} />\r\n      <div\r\n        className=\"tooltip sim-categorie-emissions\"\r\n        style={{\r\n          left: `calc(${value > 100 ? 100 : value}%)`,\r\n        }}\r\n      >\r\n        <p> Emissions: {Math.round(results[0].measures[0])} ktCO2e</p>\r\n      </div>\r\n      <div\r\n        className={handleClass()}\r\n        style={{\r\n          borderRadius: \"none\",\r\n          height: \"18.5px\",\r\n          width: `${value > 100 ? 100 : value}%`,\r\n          position: \"absolute\",\r\n          left: `${jaugeStart}px`,\r\n          transition: \"1s\",\r\n          backgroundColor: progressBarColor,\r\n        }}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useMarkerStyles = makeStyles((theme) => ({\r\n  marker: {\r\n    backgroundColor: (props) =>\r\n      props.type === \"success\" ? theme.palette.success.main : theme.palette.error.main,\r\n    height: \"18.5px\",\r\n    width: \"2px\",\r\n    position: \"absolute\",\r\n    left: (props) => `${props.position}`,\r\n    zIndex: 4,\r\n  },\r\n}));\r\n\r\nexport default SimulatorProgressBar;\r\n","import React from \"react\";\r\nimport SimulatorProgressBar from \"components/simulateur/SimulatorProgressBar\";\r\n\r\nconst SimulatorCategory = ({ data, results, index }) => {\r\n  //calcul des marges de la légende de la jauge pour leur positionnement\r\n  if (results) {\r\n    const max = results[0].ranges[2];\r\n    const m1 = (results[0].markers[0] / max) * 100;\r\n    const m2 = (results[0].markers[1] / max) * 100;\r\n\r\n    var margin1 = 0;\r\n    if (m1 < 12) {\r\n      margin1 = 0 + \"%\";\r\n    } else {\r\n      margin1 = m1 - 12 + \"%\";\r\n    }\r\n\r\n    var margin2 = 0;\r\n    if (m2 < m1 + 24) {\r\n      margin2 = 0 + \"%\";\r\n    } else if (m2 > 86) {\r\n      margin2 = 86 - m1 - 24 + \"%\";\r\n    } else {\r\n      margin2 = m2 - m1 - 24 + \"%\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id={\"cat\" + data.index} className=\"sim-categorie flex-item\">\r\n      <div>\r\n        <h4\r\n          style={{ position: \"relative\", display: \"block\", width: \"max-content\" }}\r\n          className=\"sim-categorie-name\"\r\n        >\r\n          {data.name}\r\n          <span\r\n            style={{\r\n              position: \"absolute\",\r\n              height: \"8px\",\r\n              backgroundColor: data.colorHover,\r\n              left: 0,\r\n              bottom: 0,\r\n              top: \"102%\",\r\n              width: \"50%\",\r\n            }}\r\n          ></span>\r\n        </h4>\r\n      </div>\r\n\r\n      {results && data.name === results[0].name && (\r\n        <div className=\"flex-item flex-column\">\r\n          <p style={{ visibility: \"hidden\" }} className=\"sim-categorie-emissions\">\r\n            Emissions : {Math.round(results[0].measures[0])} MtCO2e\r\n          </p>\r\n          {/* <div className=\"sim-jauge\">{results && data.name === results[0].name && <Jauge results={results}/>}</div> */}\r\n          <div className=\"sim-jauge\">\r\n            {results && data.name === results[0].name && (\r\n              <SimulatorProgressBar progressBarColor={data.colorHover} results={results} />\r\n            )}\r\n          </div>\r\n          <div className=\"sim-categorie-markers flex-item\">\r\n            <div style={{ position: \"relative\", marginLeft: `${margin1}` }}>\r\n              <div>\r\n                <p>2°C</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"sim-emissions-2030\">\r\n                  {Math.round(results[0].markers[0])} <span>ktCO2e</span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div style={{ position: \"relative\", marginLeft: `${margin2}` }}>\r\n              <div>\r\n                <p>2020</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"sim-emissions-2020\">\r\n                  {Math.round(results[0].markers[1])} <span>ktCO2e</span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SimulatorCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faQuestionCircle, faTimesCircle } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport \"../../styles/simParametreSlide.css\";\r\n\r\nconst SimParametreList = ({ data, value, setOneValue, cat }) => {\r\n  const [defaultValue, setDefaultValue] = useState(value[0]);\r\n  const possibleValues = data.possibleValues.split(\", \");\r\n  const [infosClass, setInfoClass] = useState(\"param-info-container-hidden\");\r\n  const [componentClass, setComponentClass] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (data.expert) {\r\n      setComponentClass(\"mode-expert param-container-normal\");\r\n    } else setComponentClass(\"param-container-normal\");\r\n  }, [data.expert]);\r\n\r\n  const handleChange = (event) => {\r\n    setDefaultValue(event.target.id);\r\n    setOneValue(event.target.id, data.index);\r\n  };\r\n\r\n  function toggleClass() {\r\n    let componentClassSt = \"\";\r\n    if (data.expert) componentClassSt += \"mode-expert\";\r\n    if (componentClass.includes(\"param-container-normal\")) {\r\n      setComponentClass(`${componentClassSt  } param-container-expanded`);\r\n      setInfoClass(\"param-info-container-visible flex-item\");\r\n    } else {\r\n      setComponentClass(`${componentClassSt  } param-container-normal`);\r\n      setInfoClass(\"param-info-container-hidden\");\r\n    }\r\n  }\r\n\r\n  const expanded = componentClass.includes(\"expanded\");\r\n\r\n  return (\r\n    <div className={componentClass}>\r\n      <div id={`param${  data.index}`}>\r\n        <div className=\"param-header flex-item nomarge nopad\">\r\n          <h6 className=\"param-name nomarge\">{data.name}</h6>\r\n          <button type=\"button\" className=\"see-more-btn icon-box nomarge nopad\" onClick={toggleClass}>\r\n            {!expanded && <FontAwesomeIcon icon={faQuestionCircle} />}\r\n            {expanded && <FontAwesomeIcon icon={faTimesCircle} />}\r\n          </button>\r\n        </div>\r\n        {data.description && <p className=\"small-param-desc\">{data.description}</p>}\r\n\r\n        <form>\r\n          <div className=\"flex-item\">\r\n            {possibleValues.map((val, i) => (\r\n              <div key={i} className=\"sim-param-radio\">\r\n                <input\r\n                  type=\"radio\"\r\n                  key={i}\r\n                  id={val}\r\n                  name={i}\r\n                  onChange={handleChange}\r\n                  checked={val === defaultValue}\r\n                />\r\n                <label className=\"small-param-desc\" key={`lab${  i}`} htmlFor={val}>\r\n                  {val}\r\n                </label>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div className={infosClass} style={{ backgroundColor: cat.color }}>\r\n        <div className=\"right-btn\">\r\n          <div>\r\n            <h6>Calcul des émissions</h6>\r\n            <p>{data.infoCalcul}</p>\r\n          </div>\r\n          <div>\r\n            <h6>Tendances</h6>\r\n            <p>{data.tendance}</p>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <h6>Co-Bénéfices</h6>\r\n            <p>{data.coBenefices}</p>\r\n          </div>\r\n          <div>\r\n            <h6>Contraintes</h6>\r\n            <p>{data.contraintes}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SimParametreList;\r\n","import React from \"react\";\r\n\r\nconst SimulatorInformationBox = ({ data }) => {\r\n  return (\r\n    <div className={`param-info-container-visible flex-item`}>\r\n      <div className=\"right-btn\">\r\n        <div>\r\n          <h6>Calcul des émissions</h6>\r\n          <p>{data.infoCalcul}</p>\r\n        </div>\r\n        <div>\r\n          <h6>Tendances</h6>\r\n          <p>{data.tendance}</p>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div>\r\n          <h6>Co-Bénéfices</h6>\r\n          <p>{data.coBenefices}</p>\r\n        </div>\r\n        <div>\r\n          <h6>Contraintes</h6>\r\n          <p>{data.contraintes}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SimulatorInformationBox;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faQuestionCircle, faTimesCircle } from \"@fortawesome/free-regular-svg-icons\";\r\n\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport SimulatorInformationBox from \"components/simulateur/SimulatorInformationBox\";\r\nimport \"styles/simParametreSlide.css\";\r\n\r\nconst SimParametreSlide = ({ data, value, setOneValue, category }) => {\r\n  const [componentClass, setComponentClass] = useState(\"\");\r\n\r\n  // Classes\r\n  const sliderClasses = useSliderStyles({ backgroundColor: category.colorHover });\r\n  const classesToolTip = useToolTipStyles({ backgroundColor: category.colorHover });\r\n\r\n  useEffect(() => {\r\n    if (data.expert) {\r\n      setComponentClass(\"mode-expert param-container-normal\");\r\n    } else setComponentClass(\"param-container-normal\");\r\n  }, [data.expert]);\r\n\r\n  const { unit } = data;\r\n  const sliderStep = data.step; // (data.max-data.min)/100\r\n  const classes = useStyles();\r\n  const expanded = componentClass.includes(\"expanded\");\r\n\r\n  const getMarks = () => {\r\n    const values = [\r\n      { value: data.min, label: `${data.min}${data.unit}` },\r\n      { value: data.value },\r\n      { value: data.max, label: `${data.max}${data.unit}` },\r\n    ];\r\n\r\n    if (data.min === data.value || data.max === data.value) {\r\n      values.splice(1, 1);\r\n    }\r\n\r\n    return values;\r\n  };\r\n\r\n  const handleChange = (_, val) => {\r\n    setOneValue(val, data.index);\r\n  };\r\n\r\n  function toggleClass() {\r\n    let componentClassSt = \"\";\r\n    if (data.expert) componentClassSt += \"mode-expert\";\r\n    if (componentClass.includes(\"param-container-normal\")) {\r\n      setComponentClass(`${componentClassSt} param-container-expanded`);\r\n    } else {\r\n      setComponentClass(`${componentClassSt} param-container-normal`);\r\n    }\r\n  }\r\n\r\n  // Memoize component and forward ref in order to be able to pass a prop to the\r\n  // ValueLabelComponent component for the Slider otherwise the Tooltip has it's ref lost\r\n  // resulting in a tooltip that disappears / reappears on mouseup.\r\n\r\n  const CustomValueLabel = React.useMemo(() => {\r\n    return React.forwardRef(\r\n      ({ children, value, valueLabelFormat, valueLabelDisplay, ...restProps }, ref) => {\r\n        return (\r\n          <Tooltip\r\n            {...restProps}\r\n            classes={classesToolTip}\r\n            ref={ref}\r\n            enterTouchDelay={0}\r\n            placement=\"top\"\r\n            title={value}\r\n            arrow\r\n          >\r\n            {children}\r\n          </Tooltip>\r\n        );\r\n      },\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <div className={componentClass} key={data.index}>\r\n      <div className=\"param-header flex-item nomarge nopad\">\r\n        <h6 className=\"param-name nomarge\">{data.name}</h6>\r\n\r\n        <button type=\"button\" className=\"see-more-btn icon-box nomarge nopad\" onClick={toggleClass}>\r\n          {!expanded && <FontAwesomeIcon icon={faQuestionCircle} />}\r\n          {expanded && <FontAwesomeIcon icon={faTimesCircle} />}\r\n        </button>\r\n      </div>\r\n      {data.description && <p className=\"small-param-desc\">{data.description}</p>}\r\n\r\n      <div className={classes.root}>\r\n        <div className={classes.margin} />\r\n        <Slider\r\n          key={data.index}\r\n          classes={{\r\n            root: sliderClasses.root,\r\n            thumb: sliderClasses.thumb,\r\n            track: sliderClasses.track,\r\n            rail: sliderClasses.rail,\r\n            mark: sliderClasses.mark,\r\n          }}\r\n          defaultValue={value[0]}\r\n          aria-labelledby=\"discrete-slider-always\"\r\n          min={data.min}\r\n          max={data.max}\r\n          step={sliderStep}\r\n          marks={getMarks()}\r\n          scale={(x) => x + data.unit}\r\n          ValueLabelComponent={CustomValueLabel}\r\n          valueLabelDisplay=\"auto\"\r\n          onChangeCommitted={handleChange}\r\n          track=\"normal\"\r\n        />\r\n      </div>\r\n\r\n      {expanded && <SimulatorInformationBox data={data} />}\r\n    </div>\r\n  );\r\n};\r\n\r\n/** STYLES HOOKS */\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  margin: {\r\n    height: 0,\r\n  },\r\n}));\r\n\r\nconst useToolTipStyles = makeStyles((theme) => ({\r\n  tooltip: {\r\n    color: \"white\",\r\n    fontSize: \"1.1em\",\r\n    backgroundColor: (props) => props.backgroundColor,\r\n  },\r\n  arrow: {\r\n    color: (props) => props.backgroundColor,\r\n  },\r\n}));\r\n\r\nconst useSliderStyles = makeStyles({\r\n  root: {\r\n    color: \"#E4E4E4\",\r\n    height: 8,\r\n  },\r\n  thumb: {\r\n    height: 16,\r\n    width: 16,\r\n    borderRadius: 0,\r\n    border: `2px solid white`,\r\n    backgroundColor: (props) => props.backgroundColor,\r\n    marginTop: -5,\r\n    marginLeft: -7,\r\n    \"&:focus,&:hover,&$active\": {\r\n      boxShadow: \"inherit\",\r\n    },\r\n  },\r\n  active: {},\r\n  valueLabel: {},\r\n  track: {\r\n    height: 5,\r\n    borderRadius: 1,\r\n    color: \"#C7C7C7\",\r\n  },\r\n  rail: {\r\n    height: 5,\r\n    borderRadius: 1,\r\n  },\r\n  mark: {\r\n    backgroundColor: \"#C7C7C7\",\r\n    height: 12,\r\n    width: 3,\r\n    marginTop: -2.5,\r\n  },\r\n});\r\n\r\nexport default SimParametreSlide;\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalContext } from \"Contexts/GlobalContext\";\r\nimport * as actions from \"Contexts/actions\";\r\n\r\nimport SimulatorCategory from \"components/simulateur/SimulatorCategory\";\r\nimport SimulatorParameterList from \"components/simulateur/SimulatorParameterList\";\r\nimport SimulatorParameterSlider from \"components/simulateur/SimulatorParameterSlider\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\n\r\nconst SimulatorParameter = ({ slider, list, ...rest }) => {\r\n  if (list) {\r\n    return <SimulatorParameterList {...rest} />;\r\n  }\r\n  if (slider) {\r\n    return <SimulatorParameterSlider {...rest} />;\r\n  }\r\n  return null;\r\n};\r\n\r\nconst SimulatorSettings = ({ modeExpert }) => {\r\n  const classes = useStyles();\r\n\r\n  const { globalState, dispatch } = useContext(GlobalContext);\r\n\r\n  const values = globalState.values;\r\n  const results = globalState.results;\r\n  const categories = globalState.categories;\r\n\r\n  const handleValue = (value, index) => {\r\n    dispatch({\r\n      type: actions.UPDATE_VALUE,\r\n      value,\r\n      index,\r\n    });\r\n  };\r\n\r\n  return categories.map((category, i) => {\r\n    return (\r\n      <div key={category.data.index} className={`sim-cat-params-box ${classes.container}`}>\r\n        <SimulatorCategory\r\n          key={category.data.index}\r\n          data={category.data}\r\n          index={i}\r\n          results={results.jaugeDatas[i]}\r\n        />\r\n        <div className=\"sim-param-box grid-item\">\r\n          {category.parameters.map(\r\n            (param) =>\r\n              param.data.displayed ? \r\n                <SimulatorParameter\r\n                  key={param.data.index}\r\n                  setOneValue={handleValue}\r\n                  slider={Boolean(param.type.slider)}\r\n                  list={Boolean(param.type.list)}\r\n                  value={values[param.data.index]}\r\n                  category={category.data}\r\n                  data={param.data}\r\n                />\r\n              :\r\n              <></>,\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    backgroundColor: theme.palette.background.secondary,\r\n    \"&:nth-of-type(odd)\": {\r\n      backgroundColor: theme.palette.background.default,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default SimulatorSettings;\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst SimulatorIcon = ({ icon, color, id, onMouseOver, onMouseLeave }) => {\r\n  const iconList = {\r\n    Default: Cross,\r\n    questionCircle: QuestionCircle,\r\n    Habitat: Logement,\r\n    Transports: Transports,\r\n    Agriculture: Agriculture,\r\n    Tertiaire: Tertiaire,\r\n    Industrie: Industrie,\r\n    Énergie: Énergie,\r\n    Options: Options,\r\n    Cross: Cross,\r\n    Trajectoire: \"/images/Trajectoire.png\",\r\n    Paramètres: \"/images/Projection mondiale.png\",\r\n  };\r\n\r\n  const Icon = Object.keys(iconList).includes(icon) ? iconList[icon] : iconList['Default'];\r\n\r\n  if (!onMouseOver) {\r\n    return <Icon color={color}/>;\r\n  }\r\n  return <Icon \r\n            color={color}\r\n            onMouseOver={() => onMouseOver(id)}\r\n            onMouseLeave={onMouseLeave}\r\n          />;\r\n\r\n  \r\n  \r\n};\r\n\r\nconst Cross = ({ color, ...rest }) => {\r\n  return (\r\n    <svg\r\n      {...rest}\r\n      width=\"48\"\r\n      height=\"48\"\r\n      viewBox=\"0 0 48 48\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <rect width=\"48\" height=\"48\" fill=\"none\" />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M30.251 31.1926C30.6171 31.5587 31.2107 31.5587 31.5768 31.1926C31.9429 30.8265 31.9429 30.2329 31.5768 29.8668L25.7105 24.0005L31.5773 18.1337C31.9434 17.7676 31.9434 17.174 31.5773 16.8079C31.2112 16.4418 30.6176 16.4418 30.2515 16.8079L24.3847 22.6747L18.5179 16.8079C18.1518 16.4418 17.5582 16.4418 17.1921 16.8079C16.826 17.174 16.826 17.7676 17.1921 18.1337L23.0589 24.0005L17.1926 29.8668C16.8265 30.2329 16.8265 30.8265 17.1926 31.1926C17.5587 31.5587 18.1523 31.5587 18.5184 31.1926L24.3847 25.3264L30.251 31.1926Z\"\r\n        fill={color || \"black\"}\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst Énergie = ({ color, ...rest }) => {\r\n  return (\r\n    <svg\r\n      {...rest}\r\n      width=\"48\"\r\n      height=\"48\"\r\n      viewBox=\"0 0 64 64\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        d=\"M39.6557 27.4132C39.4936 27.2017 39.2251 27.101 38.9641 27.1537L32.3828 28.4824L33.3743 18.7419C33.4091 18.4001 33.1897 18.0838 32.8572 17.9968C32.5249 17.9099 32.1785 18.078 32.0414 18.3932L25.2586 33.9812C25.1549 34.2194 25.1923 34.4955 25.3557 34.6977C25.519 34.8997 25.7812 34.9943 26.0359 34.9428L32.5243 33.633L30.1931 44.1782C30.117 44.5219 30.3093 44.8684 30.6412 44.986C30.7179 45.0131 30.7963 45.026 30.8737 45.026C31.1315 45.026 31.3768 44.8823 31.4976 44.64L39.726 28.1485C39.845 27.9101 39.8177 27.6248 39.6557 27.4132ZM32.7758 38.9551L34.1169 32.8881C34.1678 32.6578 34.0989 32.4174 33.9336 32.249C33.8012 32.1141 33.6214 32.0403 33.4361 32.0403C33.3902 32.0403 33.3441 32.0448 33.2982 32.0541L27.0708 33.3112L31.5338 23.0546L30.8999 29.2823C30.8775 29.5027 30.961 29.7206 31.1252 29.8695C31.2893 30.0183 31.5143 30.0803 31.7314 30.0364L37.8411 28.803L32.7758 38.9551Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        d=\"M49.3028 30.8028C48.9178 30.8028 48.6056 31.1149 48.6056 31.5C48.6056 31.6994 48.6018 31.9019 48.5946 32.102C48.5805 32.4868 48.881 32.8101 49.2658 32.8242C49.2745 32.8245 49.2832 32.8246 49.2918 32.8246C49.6651 32.8246 49.9743 32.5291 49.988 32.1529C49.996 31.936 50 31.7163 50 31.4999C50 31.1149 49.6878 30.8028 49.3028 30.8028Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        d=\"M48.9205 35.149C48.5486 35.05 48.1666 35.2718 48.0678 35.6439C46.198 42.6867 39.7963 47.6056 32.5 47.6056C28.5626 47.6056 24.8416 46.2015 21.9069 43.6315H24.1334C24.5184 43.6315 24.8306 43.3194 24.8306 42.9343C24.8306 42.5493 24.5184 42.2371 24.1334 42.2371H20.3685C19.9835 42.2371 19.6713 42.5493 19.6713 42.9343V46.6993C19.6713 47.0844 19.9835 47.3965 20.3685 47.3965C20.7535 47.3965 21.0657 47.0844 21.0657 46.6993V44.7491C24.2426 47.4992 28.2559 49 32.5 49C40.4279 49 47.3838 43.6549 49.4154 36.0017C49.5142 35.6295 49.2926 35.2477 48.9205 35.149Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        d=\"M44.9801 15.8825C44.5951 15.8825 44.2829 16.1946 44.2829 16.5797V18.5613C41.0535 15.614 36.9009 14 32.5 14C27.8255 14 23.431 15.8203 20.1257 19.1256C16.8203 22.431 15 26.8256 15 31.5C15 31.8851 15.3122 32.1972 15.6972 32.1972C16.0822 32.1972 16.3944 31.8851 16.3944 31.5C16.3944 22.6194 23.6193 15.3944 32.5 15.3944C36.5774 15.3944 40.4229 16.9002 43.4033 19.6474H41.2151C40.8301 19.6474 40.5179 19.9595 40.5179 20.3446C40.5179 20.7296 40.8301 21.0418 41.2151 21.0418H44.9801C45.3651 21.0418 45.6773 20.7296 45.6773 20.3446V16.5797C45.6773 16.1946 45.3651 15.8825 44.9801 15.8825Z\"\r\n        fill={color}\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst Agriculture = ({ color, ...rest }) => {\r\n  return (\r\n    <svg\r\n      {...rest}\r\n      width=\"48\"\r\n      height=\"48\"\r\n      viewBox=\"0 0 64 64\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n    <path d=\"m60.351 61-2.699-2.159c-2.021-1.617-4.273-2.901-6.652-3.864v-2.057c3.387-.488 6-3.401 6-6.92v-10c0-.553-.448-1-1-1-1.958 0-3.728.81-5 2.111v-4.19c3.387-.488 6-3.401 6-6.92v-6c0-.552-.448-1-1-1-1.958 0-3.728.81-5 2.11v-4.19c3.387-.488 6-3.401 6-6.92v-2.001c0-.552-.448-1-1-1-2.548 0-4.775 1.373-6 3.413-1.225-2.04-3.452-3.413-6-3.413-.552 0-1 .448-1 1v2c0 3.519 2.613 6.432 6 6.92v4.19c-1.272-1.3-3.042-2.11-5-2.11-.552 0-1 .448-1 1v6c0 3.519 2.613 6.432 6 6.92v4.19c-1.272-1.3-3.042-2.11-5-2.11-.552 0-1 .447-1 1v10c0 3.519 2.613 6.432 6 6.92v1.338c-2.578-.813-5.274-1.258-8-1.258-1.5 0-3.008.135-4.49.388-1.157-.2-2.331-.301-3.51-.346v-6.122c3.387-.488 6-3.401 6-6.92v-10c0-.552-.448-1-1-1-1.958 0-3.728.81-5 2.11v-4.19c3.387-.488 6-3.401 6-6.92v-6c0-.552-.448-1-1-1-1.958 0-3.728.81-5 2.11v-4.19c3.387-.488 6-3.401 6-6.92v-2c0-.552-.448-1-1-1-2.548 0-4.775 1.373-6 3.413-1.225-2.04-3.452-3.413-6-3.413-.552 0-1 .448-1 1v2c0 3.519 2.613 6.432 6 6.92v4.19c-1.272-1.3-3.042-2.11-5-2.11-.552 0-1 .448-1 1v6c0 3.519 2.613 6.432 6 6.92v4.19c-1.272-1.3-3.042-2.11-5-2.11-.552 0-1 .448-1 1v10c0 3.519 2.613 6.432 6 6.92v6.123c-1.179.045-2.353.146-3.51.346-1.482-.254-2.99-.389-4.49-.389-2.726 0-5.422.445-8 1.258v-1.338c3.387-.488 6-3.401 6-6.92v-10c0-.553-.448-1-1-1-1.958 0-3.728.81-5 2.111v-4.19c3.387-.488 6-3.401 6-6.92v-6c0-.552-.448-1-1-1-1.958 0-3.728.81-5 2.11v-4.19c3.387-.488 6-3.401 6-6.92v-2.001c0-.552-.448-1-1-1-2.548 0-4.775 1.373-6 3.413-1.225-2.04-3.452-3.413-6-3.413-.552 0-1 .448-1 1v2c0 3.519 2.613 6.432 6 6.92v4.19c-1.272-1.3-3.042-2.11-5-2.11-.552 0-1 .448-1 1v6c0 3.519 2.613 6.432 6 6.92v4.19c-1.272-1.3-3.042-2.11-5-2.11-.552 0-1 .447-1 1v10c0 3.519 2.613 6.432 6 6.92v2.057c-2.379.963-4.631 2.247-6.652 3.864l-2.699 2.159h-2.649v2h62v-2zm-5.351-23.899v8.899c0 2.415-1.721 4.435-4 4.899v-8.899c0-2.415 1.721-4.435 4-4.899zm0-16v4.899c0 2.415-1.721 4.435-4 4.899v-4.899c0-2.415 1.721-4.435 4-4.899zm0-12v.899c0 2.415-1.721 4.435-4 4.899v-.899c0-2.415 1.721-4.435 4-4.899zm-10 .899v-.899c2.279.464 4 2.485 4 4.899v.899c-2.279-.464-4-2.484-4-4.899zm0 16v-4.899c2.279.464 4 2.485 4 4.899v4.899c-2.279-.464-4-2.484-4-4.899zm0 20v-8.899c2.279.465 4 2.484 4 4.899v8.899c-2.279-.464-4-2.484-4-4.899zm-26-8.899v8.899c0 2.415-1.721 4.435-4 4.899v-8.899c0-2.415 1.721-4.435 4-4.899zm0-16v4.899c0 2.415-1.721 4.435-4 4.899v-4.899c0-2.415 1.721-4.435 4-4.899zm0-12v.899c0 2.415-1.721 4.435-4 4.899v-.899c0-2.415 1.721-4.435 4-4.899zm-10 .899v-.899c2.279.464 4 2.485 4 4.899v.899c-2.279-.464-4-2.484-4-4.899zm0 16v-4.899c2.279.464 4 2.485 4 4.899v4.899c-2.279-.464-4-2.484-4-4.899zm0 20v-8.899c2.279.465 4 2.484 4 4.899v8.899c-2.279-.464-4-2.484-4-4.899zm47.403 14.403.746.597h-5.798l-2.699-2.159c-1.97-1.576-4.159-2.836-6.471-3.792 5.144.264 10.181 2.121 14.222 5.354zm-24.403-5.403c5.578 0 11.048 1.919 15.403 5.403l.746.597h-32.298l.746-.597c4.355-3.484 9.825-5.403 15.403-5.403zm5-23.899v8.899c0 2.415-1.721 4.435-4 4.899v-8.899c0-2.415 1.721-4.435 4-4.899zm0-16v4.899c0 2.415-1.721 4.435-4 4.899v-4.899c0-2.415 1.721-4.435 4-4.899zm0-12v.899c0 2.415-1.721 4.435-4 4.899v-.899c0-2.415 1.721-4.435 4-4.899zm-10 .899v-.899c2.279.464 4 2.484 4 4.899v.899c-2.279-.464-4-2.484-4-4.899zm0 16v-4.899c2.279.464 4 2.485 4 4.899v4.899c-2.279-.464-4-2.484-4-4.899zm0 20v-8.899c2.279.464 4 2.484 4 4.899v8.899c-2.279-.464-4-2.484-4-4.899zm-19.403 20.403c4.041-3.233 9.078-5.09 14.222-5.354-2.312.955-4.501 2.215-6.471 3.791l-2.699 2.16h-5.798z\"\r\n      fill={color}\r\n    />\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst Industrie = ({ color, ...rest }) => {\r\n  return (\r\n    <svg\r\n      {...rest}\r\n      width=\"48\"\r\n      height=\"48\"\r\n      viewBox=\"0 0 64 64\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <g clipPath=\"url(#clip0)\">\r\n        <path\r\n          d=\"M50.405 39.0208H47.6777L45.2835 19.8677C45.2463 19.5699 44.9932 19.3465 44.6931 19.3465H37.0772C36.7772 19.3465 36.5241 19.5699 36.4868 19.8677L34.0927 39.0208H33.3762L28.0525 31.0353C27.9041 30.8128 27.6164 30.7158 27.3636 30.8028C27.1262 30.8844 26.9624 31.1143 26.9624 31.3653V38.9201L21.7059 31.0354C21.5575 30.8128 21.2699 30.7159 21.017 30.8028C20.7798 30.8845 20.616 31.1144 20.616 31.3654V38.6282L15.3535 31.0267C15.2024 30.8084 14.916 30.7159 14.6658 30.8045C14.4309 30.8875 14.2694 31.1161 14.2694 31.3653V34.5383C14.2694 34.8669 14.5357 35.1333 14.8644 35.1333C15.193 35.1333 15.4594 34.867 15.4594 34.5383V33.2701L19.4406 39.0208H15.6707V37.0771C15.6707 36.7485 15.4044 36.4821 15.0757 36.4821C14.747 36.4821 14.4807 36.7484 14.4807 37.0771V39.0208H13.595C13.2664 39.0208 13 39.2871 13 39.6159V50.405C13 50.7337 13.2663 51 13.595 51H50.4051C50.7337 51 51.0001 50.7337 51.0001 50.405V39.6158C51 39.2871 50.7337 39.0208 50.405 39.0208ZM37.6025 20.5365H44.1678L44.2571 21.2505H37.5132L37.6025 20.5365ZM37.3645 22.4405H44.4059L44.8918 26.3277H36.8786L37.3645 22.4405ZM36.7299 27.5178H45.0405L45.1298 28.2317H36.6407L36.7299 27.5178ZM36.4919 29.4217H45.2785L45.8437 33.9436H35.9266L36.4919 29.4217ZM35.7779 35.1336H45.9925L46.0817 35.8476H35.6886L35.7779 35.1336ZM28.1524 33.3304L31.946 39.0208H28.1524V33.3304ZM21.8058 33.3304L25.5995 39.0208H21.8058V33.3304ZM49.8101 49.81H14.1899V40.2108H41.5198C41.8485 40.2108 42.1148 39.9445 42.1148 39.6158C42.1148 39.2871 41.8485 39.0208 41.5198 39.0208H35.292L35.5399 37.0375H46.2305L46.4784 39.0208H44.0584C43.7298 39.0208 43.4634 39.2871 43.4634 39.6158C43.4634 39.9444 43.7297 40.2108 44.0584 40.2108H49.81V49.81H49.8101Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M18.6722 40.9249H16.1336C15.8049 40.9249 15.5386 41.1912 15.5386 41.5199V44.0585C15.5386 44.3872 15.8049 44.6535 16.1336 44.6535H18.6722C19.0009 44.6535 19.2673 44.3872 19.2673 44.0585V41.5199C19.2673 41.1912 19.0009 40.9249 18.6722 40.9249ZM18.0772 43.4634H16.7286V42.1148H18.0772V43.4634Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M47.8666 40.9249H45.3279C44.9993 40.9249 44.7329 41.1912 44.7329 41.5199V44.0585C44.7329 44.3872 44.9992 44.6535 45.3279 44.6535H47.8666C48.1952 44.6535 48.4616 44.3872 48.4616 44.0585V41.5199C48.4615 41.1912 48.1952 40.9249 47.8666 40.9249ZM47.2716 43.4634H45.9229V42.1148H47.2716V43.4634Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M33.2694 40.9249H30.7308C30.4021 40.9249 30.1357 41.1912 30.1357 41.5199V44.0585C30.1357 44.3872 30.402 44.6535 30.7308 44.6535H33.2694C33.598 44.6535 33.8644 44.3872 33.8644 44.0585V41.5199C33.8644 41.1912 33.5981 40.9249 33.2694 40.9249ZM32.6745 43.4634H31.3258V42.1148H32.6745V43.4634Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M40.8851 40.9249H38.3465C38.0178 40.9249 37.7515 41.1912 37.7515 41.5199V44.0585C37.7515 44.3872 38.0178 44.6535 38.3465 44.6535H40.8851C41.2138 44.6535 41.4801 44.3872 41.4801 44.0585V41.5199C41.4801 41.1912 41.2138 40.9249 40.8851 40.9249ZM40.2901 43.4634H38.9415V42.1148H40.2901V43.4634Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M25.6537 40.9249H23.115C22.7864 40.9249 22.52 41.1912 22.52 41.5199V44.0585C22.52 44.3872 22.7863 44.6535 23.115 44.6535H25.6537C25.9823 44.6535 26.2487 44.3872 26.2487 44.0585V41.5199C26.2486 41.1912 25.9823 40.9249 25.6537 40.9249ZM25.0587 43.4634H23.71V42.1148H25.0587V43.4634Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M18.6722 45.3675H16.1336C15.8049 45.3675 15.5386 45.6338 15.5386 45.9625V48.5012C15.5386 48.8298 15.8049 49.0962 16.1336 49.0962H18.6722C19.0009 49.0962 19.2673 48.8299 19.2673 48.5012V45.9625C19.2673 45.6338 19.0009 45.3675 18.6722 45.3675ZM18.0772 47.9061H16.7286V46.5574H18.0772V47.9061Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M47.8666 45.3675H45.3279C44.9993 45.3675 44.7329 45.6338 44.7329 45.9625V48.5012C44.7329 48.8298 44.9992 49.0962 45.3279 49.0962H47.8666C48.1952 49.0962 48.4616 48.8299 48.4616 48.5012V45.9625C48.4615 45.6338 48.1952 45.3675 47.8666 45.3675ZM47.2716 47.9061H45.9229V46.5574H47.2716V47.9061Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M33.2694 45.3675H30.7308C30.4021 45.3675 30.1357 45.6338 30.1357 45.9625V48.5012C30.1357 48.8298 30.402 49.0962 30.7308 49.0962H33.2694C33.598 49.0962 33.8644 48.8299 33.8644 48.5012V45.9625C33.8644 45.6338 33.5981 45.3675 33.2694 45.3675ZM32.6745 47.9061H31.3258V46.5574H32.6745V47.9061Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M40.8851 45.3675H38.3465C38.0178 45.3675 37.7515 45.6338 37.7515 45.9625V48.5012C37.7515 48.8298 38.0178 49.0962 38.3465 49.0962H40.8851C41.2138 49.0962 41.4801 48.8299 41.4801 48.5012V45.9625C41.4801 45.6338 41.2138 45.3675 40.8851 45.3675ZM40.2901 47.9061H38.9415V46.5574H40.2901V47.9061Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M25.6537 45.3675H23.115C22.7864 45.3675 22.52 45.6338 22.52 45.9625V48.5012C22.52 48.8298 22.7863 49.0962 23.115 49.0962H25.6537C25.9823 49.0962 26.2487 48.8299 26.2487 48.5012V45.9625C26.2486 45.6338 25.9823 45.3675 25.6537 45.3675ZM25.0587 47.9061H23.71V46.5574H25.0587V47.9061Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M42.789 14.2693C42.7438 14.2693 42.6987 14.2709 42.6537 14.2743C42.4063 13.5345 41.7069 13 40.885 13C40.0631 13 39.3637 13.5345 39.1164 14.2743C39.0714 14.271 39.0263 14.2694 38.981 14.2694C37.953 14.2694 37.1167 15.1057 37.1167 16.1337C37.1167 17.1617 37.953 17.998 38.981 17.998H42.7889C43.8169 17.998 44.6532 17.1617 44.6532 16.1337C44.6533 15.1057 43.8169 14.2693 42.789 14.2693ZM42.789 16.8079H38.9811C38.6092 16.8079 38.3067 16.5054 38.3067 16.1336C38.3067 15.7618 38.6092 15.4592 38.9811 15.4592C39.1029 15.4592 39.2185 15.4914 39.325 15.555C39.5218 15.6725 39.7687 15.6664 39.9594 15.5395C40.1503 15.4126 40.2513 15.1874 40.219 14.9603C40.2133 14.9208 40.2107 14.8901 40.2107 14.8643C40.2107 14.4925 40.5132 14.1899 40.8851 14.1899C41.2569 14.1899 41.5594 14.4925 41.5594 14.8643C41.5594 14.8901 41.5568 14.9208 41.5512 14.9603C41.519 15.1873 41.6199 15.4126 41.8107 15.5395C42.0016 15.6665 42.2484 15.6723 42.4452 15.555C42.5516 15.4914 42.6673 15.4592 42.7891 15.4592C43.1609 15.4592 43.4634 15.7618 43.4634 16.1336C43.4633 16.5054 43.1608 16.8079 42.789 16.8079Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M30.7309 18.0772C30.6857 18.0772 30.6406 18.0789 30.5955 18.0822C30.3482 17.3425 29.6488 16.8079 28.8269 16.8079C28.005 16.8079 27.3056 17.3424 27.0583 18.0822C27.0133 18.0789 26.9682 18.0772 26.9229 18.0772C25.8949 18.0772 25.0586 18.9135 25.0586 19.9415C25.0586 20.9695 25.8949 21.8058 26.9229 21.8058H30.7308C31.7588 21.8058 32.5951 20.9695 32.5951 19.9415C32.5951 18.9135 31.7588 18.0772 30.7309 18.0772ZM30.7309 20.6159H26.923C26.5511 20.6159 26.2486 20.3134 26.2486 19.9415C26.2486 19.5697 26.5511 19.2672 26.923 19.2672C27.0448 19.2672 27.1604 19.2994 27.2669 19.3629C27.4636 19.4804 27.7107 19.4743 27.9013 19.3475C28.0922 19.2205 28.1931 18.9953 28.1609 18.7683C28.1552 18.7287 28.1526 18.6981 28.1526 18.6722C28.1526 18.3004 28.4551 17.9979 28.827 17.9979C29.1988 17.9979 29.5013 18.3004 29.5013 18.6722C29.5013 18.6981 29.4987 18.7287 29.4931 18.7683C29.4609 18.9952 29.5618 19.2205 29.7526 19.3475C29.9435 19.4744 30.1904 19.4803 30.3871 19.3629C30.4935 19.2994 30.6092 19.2672 30.731 19.2672C31.1028 19.2672 31.4053 19.5697 31.4053 19.9415C31.4053 20.3134 31.1027 20.6159 30.7309 20.6159Z\"\r\n          fill={color}\r\n        />\r\n        <path\r\n          d=\"M19.307 21.2505C19.2618 21.2505 19.2167 21.2521 19.1716 21.2555C18.9243 20.5157 18.2249 19.9811 17.403 19.9811C16.5811 19.9811 15.8817 20.5157 15.6344 21.2555C15.5894 21.2521 15.5443 21.2505 15.4991 21.2505C14.4711 21.2505 13.6348 22.0868 13.6348 23.1148C13.6348 24.1428 14.4711 24.9791 15.4991 24.9791H19.307C20.335 24.9791 21.1713 24.1428 21.1713 23.1148C21.1713 22.0868 20.335 21.2505 19.307 21.2505ZM19.307 23.7892H15.4991C15.1272 23.7892 14.8247 23.4866 14.8247 23.1148C14.8247 22.743 15.1272 22.4405 15.4991 22.4405C15.6209 22.4405 15.7365 22.4727 15.843 22.5362C16.0398 22.6537 16.2867 22.6476 16.4774 22.5208C16.6683 22.3938 16.7692 22.1686 16.737 21.9416C16.7313 21.902 16.7287 21.8713 16.7287 21.8455C16.7287 21.4737 17.0312 21.1712 17.4031 21.1712C17.7749 21.1712 18.0774 21.4737 18.0774 21.8455C18.0774 21.8713 18.0748 21.902 18.0692 21.9416C18.037 22.1685 18.1379 22.3938 18.3287 22.5208C18.5196 22.6477 18.7664 22.6536 18.9632 22.5362C19.0696 22.4727 19.1853 22.4405 19.3071 22.4405C19.6789 22.4405 19.9814 22.743 19.9814 23.1148C19.9814 23.4866 19.6788 23.7892 19.307 23.7892Z\"\r\n          fill={color}\r\n        />\r\n      </g>\r\n      <defs>\r\n        <clipPath id=\"clip0\">\r\n          <rect width=\"38\" height=\"38\" fill=\"white\" transform=\"translate(13 13)\" />\r\n        </clipPath>\r\n      </defs>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst Tertiaire = ({ color, ...rest }) => {\r\n  return (\r\n    <svg\r\n      {...rest}\r\n      width=\"48\"\r\n      height=\"48\"\r\n      viewBox=\"0 0 64 64\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        d=\"M12 14.4987V18.849H52V14.4987H12ZM50.7768 17.6258H13.2232V15.7219H50.7768V17.6258Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        d=\"M50.7431 20.7968V19.5736H13.2314V20.7968H13.8023V43.3853H13.2314V44.6085H31.2533V46.9734H32.4765V44.6085H50.7431V43.3853H50.0907V20.7968H50.7431ZM48.8675 43.3853H15.0255V20.7968H48.8675V43.3853Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        d=\"M32.4762 48.2782V47.6257H31.253V48.2782H30.1113V49.5014H33.6179V48.2782H32.4762Z\"\r\n        fill={color}\r\n      />\r\n      <path d=\"M36.9617 23.8953H31.9873V25.1185H36.9617V23.8953Z\" fill={color} />\r\n      <path d=\"M34.4337 25.8524H31.9873V27.0756H34.4337V25.8524Z\" fill={color} />\r\n      <path d=\"M33.2105 27.728H31.9873V28.9512H33.2105V27.728Z\" fill={color} />\r\n      <path d=\"M18.2872 25.2H17.064V26.4232H18.2872V25.2Z\" fill={color} />\r\n      <path d=\"M27.0126 25.2H19.5103V26.4232H27.0126V25.2Z\" fill={color} />\r\n      <path d=\"M18.2872 27.728H17.064V28.9512H18.2872V27.728Z\" fill={color} />\r\n      <path d=\"M27.0126 27.728H19.5103V28.9512H27.0126V27.728Z\" fill={color} />\r\n      <path d=\"M18.2872 30.1744H17.064V31.3976H18.2872V30.1744Z\" fill={color} />\r\n      <path d=\"M27.0126 30.1744H19.5103V31.3976H27.0126V30.1744Z\" fill={color} />\r\n      <path d=\"M18.2872 32.7839H17.064V34.0071H18.2872V32.7839Z\" fill={color} />\r\n      <path d=\"M27.0126 32.7839H19.5103V34.0071H27.0126V32.7839Z\" fill={color} />\r\n      <path d=\"M18.2872 35.2303H17.064V36.4535H18.2872V35.2303Z\" fill={color} />\r\n      <path d=\"M27.0126 35.2303H19.5103V36.4535H27.0126V35.2303Z\" fill={color} />\r\n      <path d=\"M18.2872 37.7582H17.064V38.9814H18.2872V37.7582Z\" fill={color} />\r\n      <path d=\"M27.0126 37.7582H19.5103V38.9814H27.0126V37.7582Z\" fill={color} />\r\n      <path\r\n        d=\"M46.3392 38.9818V23.6371L41.5344 28.4583L40.2075 25.7727L36.2784 31.6633L35.0037 30.3925L30.6822 37.4036V23.814H29.459V40.205H46.9916V38.9818H46.3392ZM35.2343 32.3496L36.4694 33.581L40.0493 28.214L41.1945 30.532L45.1159 26.5972V29.266H45.1159L41.3361 33.6019L40.1306 32.3836L36.9201 35.5954L35.0672 34.3689L32.7242 36.4217L35.2343 32.3496ZM45.1161 34.4967H45.116V38.9818H31.6584L35.1709 35.9044L37.0786 37.1671L40.1263 34.1182L41.3929 35.3984L45.1161 31.1275V34.4967Z\"\r\n        fill={color}\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst Transports = ({ color, ...rest }) => {\r\n  return (\r\n    <svg\r\n      {...rest}\r\n      width=\"48\"\r\n      height=\"48\"\r\n      viewBox=\"0 0 64 64\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        d=\"M19.129 30.1818C20.6166 30.1818 22.0081 30.5792 23.2085 31.2607L25.2211 28.6501L24.6744 27.3207L24.2645 27.4538C24.0762 27.5151 23.8798 27.5461 23.6813 27.5461C22.6652 27.5461 21.838 26.7414 21.838 25.7527V24.7252C21.838 23.7366 22.6652 22.9318 23.6813 22.9318H26.7696C27.7858 22.9318 28.6129 23.7366 28.6129 24.7509C28.6129 25.524 28.1062 26.2075 27.3529 26.452L25.9628 26.9028L28.8886 34.019L36.557 24.2625L35.1785 20.4905L37.4573 19.9362C37.8339 19.8446 38.0968 19.5171 38.0968 19.1394C38.0968 18.6866 37.7181 18.3182 37.2527 18.3182H32.6774V17H37.2527C38.4653 17 39.4516 17.9596 39.4516 19.1394C39.4516 20.1228 38.7667 20.977 37.7858 21.2149L36.9513 21.4179L39.3087 27.9159L39.3256 27.9277L39.3168 27.9396L40.5694 31.3919C41.8185 30.63 43.2906 30.1818 44.871 30.1818C49.3535 30.1818 53 33.7297 53 38.0909C53 42.4521 49.3535 46 44.871 46C40.3885 46 36.7419 42.4521 36.7419 38.0909C36.7419 35.7525 37.7967 33.6546 39.4597 32.2052L38.3718 29.2281L32.7675 36.8617C33.5323 37.4667 34.0323 38.3776 34.0323 39.4091C34.0323 41.0001 32.8664 42.3315 31.3226 42.638V42.7045H32V44.0227H29.2903V42.7045H29.9677V42.6887C29.8207 42.6762 29.6744 42.6571 29.5308 42.6261L26.2399 41.9143C24.8525 44.3477 22.1862 46 19.129 46C14.6465 46 11 42.4521 11 38.0909C11 33.7297 14.6465 30.1818 19.129 30.1818ZM38.0968 38.0909C38.0968 41.7251 41.1357 44.6818 44.871 44.6818C48.6063 44.6818 51.6452 41.7251 51.6452 38.0909C51.6452 34.4567 48.6063 31.5 44.871 31.5C43.5419 31.5 42.3056 31.8796 41.2583 32.5255L44.1319 36.254C44.3615 36.1657 44.6095 36.1136 44.871 36.1136C45.9914 36.1136 46.9032 37.0008 46.9032 38.0909C46.9032 39.181 45.9914 40.0682 44.871 40.0682C43.7505 40.0682 42.8387 39.181 42.8387 38.0909C42.8387 37.7376 42.9424 37.4107 43.1097 37.1234L40.1914 33.3369C38.9036 34.5377 38.0968 36.223 38.0968 38.0909ZM44.1936 38.0909C44.1936 38.4547 44.4977 38.75 44.871 38.75C45.2442 38.75 45.5484 38.4547 45.5484 38.0909C45.5484 37.7271 45.2442 37.4318 44.871 37.4318C44.4977 37.4318 44.1936 37.7271 44.1936 38.0909ZM23.5072 33.07L21.1613 36.1136H25.5909C25.2028 34.9154 24.4691 33.8655 23.5072 33.07ZM26.9248 25.2017C27.1239 25.1365 27.2581 24.9552 27.2581 24.7252C27.2581 24.4629 27.0393 24.25 26.7696 24.25H23.6813C23.4124 24.25 23.1935 24.4629 23.1935 24.7252V25.7527C23.1935 26.0665 23.5309 26.3037 23.8364 26.2035L26.9248 25.2017ZM37.8184 27.7135L37.0983 25.7435L29.4739 35.444L29.7489 36.1136H30.6452C30.9615 36.1136 31.2616 36.1697 31.5522 36.2488L37.8184 27.7135ZM29.8248 41.3389C29.8716 41.3495 29.9203 41.3475 29.9677 41.3541V39.4091H31.3226V41.2651C32.1091 40.9922 32.6774 40.2672 32.6774 39.4091C32.6774 38.319 31.7656 37.4318 30.6452 37.4318H27.2235C27.2425 37.65 27.2581 37.8681 27.2581 38.0909C27.2581 39.0005 27.0914 39.8711 26.8001 40.6844L29.8248 41.3389ZM26.9905 36.1136H28.2898L25.8104 30.083L24.3221 32.0128C25.6119 33.0581 26.5576 34.4863 26.9905 36.1136ZM25.9032 38.0909C25.9032 37.8681 25.891 37.6487 25.8687 37.4318H19.2774C18.8222 37.4318 18.4509 37.7923 18.4509 38.2359C18.4509 38.6149 18.7172 38.9372 19.0979 39.0196L25.4663 40.3964C25.744 39.6773 25.9032 38.9029 25.9032 38.0909ZM19.129 44.6818C21.5325 44.6818 23.642 43.4539 24.8451 41.6131L18.8052 40.3074C17.7993 40.0893 17.0968 39.2377 17.0968 38.2359C17.0968 37.066 18.075 36.1136 19.2781 36.1136H19.4677L22.3928 32.3192C21.4241 31.7979 20.3118 31.5 19.129 31.5C15.3937 31.5 12.3548 34.4567 12.3548 38.0909C12.3548 41.7251 15.3937 44.6818 19.129 44.6818Z\"\r\n        fill={color}\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst Options = ({ color, ...rest }) => {\r\n  return (\r\n    <svg\r\n      {...rest}\r\n      width=\"48\"\r\n      height=\"48\"\r\n      viewBox=\"0 0 64 64\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        d=\"M40.138 41.8142C40.0323 42.0807 39.7304 42.2025 39.4737 42.0959L37.7678 41.3801C37.4659 41.2507 37.1186 41.3573 36.9375 41.6314C36.1676 42.7965 35.1863 43.7864 34.0314 44.5631C33.7596 44.7458 33.654 45.0961 33.7823 45.4007L34.4843 47.1216C34.59 47.3805 34.4692 47.6851 34.205 47.7917L32.3481 48.576C32.0915 48.6827 31.7895 48.5608 31.6839 48.2943L30.9743 46.5734C30.846 46.2688 30.529 46.0936 30.2119 46.1622C28.8532 46.4363 27.4719 46.4363 26.1056 46.1622C25.7886 46.1013 25.464 46.2688 25.3433 46.5734L24.6337 48.2943C24.528 48.5532 24.2261 48.6827 23.9695 48.576L22.1126 47.7993C21.9842 47.746 21.8861 47.647 21.8333 47.5176C21.7804 47.3881 21.7804 47.2511 21.8333 47.1216L22.5428 45.4007C22.6711 45.0961 22.5655 44.7458 22.2937 44.5631C21.1388 43.7864 20.1576 42.7965 19.3876 41.6314C19.2065 41.3573 18.8592 41.2507 18.5573 41.3801L16.8514 42.0959C16.5872 42.2025 16.2928 42.0807 16.1871 41.8142L15.4172 39.9409C15.3115 39.682 15.4323 39.3774 15.6965 39.2708L17.4024 38.5551C17.7043 38.4256 17.878 38.1058 17.81 37.786C17.5383 36.4153 17.5383 35.0218 17.81 33.6435C17.8704 33.3237 17.7043 32.9963 17.4024 32.8745L15.6965 32.1587C15.5682 32.1054 15.47 32.0064 15.4172 31.8769C15.3644 31.7475 15.3644 31.6104 15.4172 31.481L16.1871 29.6077C16.24 29.4783 16.3381 29.3793 16.4664 29.326C16.5947 29.2727 16.7306 29.2727 16.8589 29.326L18.5649 30.0418C18.8668 30.1712 19.214 30.0646 19.3952 29.7905C20.1651 28.6254 21.1464 27.6355 22.3013 26.8588C22.573 26.6761 22.6787 26.3258 22.5504 26.0212L21.8408 24.3003C21.788 24.1708 21.788 24.0338 21.8408 23.9043C21.8937 23.7749 21.9918 23.6759 22.1201 23.6226L23.977 22.8459C24.2336 22.7392 24.5356 22.8611 24.6413 23.1276L25.3508 24.8485C25.4942 25.1988 25.8943 25.3663 26.2415 25.2217C26.5887 25.077 26.7548 24.6734 26.6114 24.3231L25.9018 22.6022C25.5018 21.6351 24.4073 21.1782 23.4486 21.5742L21.5917 22.3509C21.1313 22.5413 20.769 22.9068 20.5727 23.3789C20.384 23.8434 20.384 24.3612 20.5727 24.8333L21.0709 26.044C20.1198 26.7522 19.2819 27.5974 18.5724 28.5645L17.3722 28.0619C16.9118 27.8716 16.3985 27.8716 15.9305 28.0619C15.47 28.2523 15.1077 28.6178 14.9115 29.0899L14.1415 30.9632C13.9528 31.4277 13.9528 31.9455 14.1415 32.4176C14.3302 32.8821 14.6926 33.2476 15.1606 33.4456L16.3607 33.9481C16.1796 35.136 16.1796 36.3239 16.3607 37.5118L15.1606 38.0144C14.2019 38.418 13.749 39.5221 14.1415 40.4892L14.9115 42.3396C15.304 43.3066 16.406 43.7635 17.3647 43.3676L18.5649 42.865C19.2668 43.8245 20.1047 44.6697 21.0633 45.3855L20.5652 46.5962C20.3765 47.0607 20.3765 47.5785 20.5652 48.0506C20.7539 48.5151 21.1162 48.8806 21.5842 49.0786L23.4411 49.8553C24.3997 50.2513 25.5018 49.7944 25.8943 48.8273L26.3925 47.6166C27.57 47.7993 28.7476 47.7993 29.9251 47.6166L30.4233 48.8273C30.7252 49.5583 31.4272 50 32.1594 50C32.4009 50 32.6425 49.9543 32.8765 49.8553L34.7334 49.0786C35.692 48.675 36.1449 47.5709 35.7524 46.6038L35.2542 45.3931C36.2053 44.6849 37.0432 43.8397 37.7527 42.8726L38.9529 43.3752C39.9115 43.7788 41.0136 43.3143 41.4061 42.3472L42.176 40.474C42.3647 40.0095 42.3647 39.4917 42.176 39.0196C41.9873 38.5551 41.625 38.1895 41.157 37.9916L39.4511 37.2758C39.1039 37.1311 38.7038 37.2986 38.5604 37.6489C38.417 37.9992 38.583 38.4028 38.9302 38.5474L40.6362 39.2632C40.7645 39.3165 40.8626 39.4155 40.9155 39.545C40.9683 39.6744 40.9683 39.8115 40.9155 39.9409L40.138 41.8142Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        d=\"M28.121 31.0012C28.4985 31.0012 28.8004 30.689 28.8004 30.3083C28.8004 29.9275 28.4909 29.6229 28.1135 29.6229C28.1135 29.6229 28.1135 29.6229 28.1059 29.6229C26.4906 29.6382 24.9809 30.2778 23.8487 31.4353C22.7164 32.5927 22.0975 34.1309 22.1126 35.7528C22.1277 37.3824 22.7617 38.9053 23.9091 40.0475C25.0489 41.1821 26.551 41.7989 28.1437 41.7989C28.1588 41.7989 28.1739 41.7989 28.189 41.7989C29.8043 41.7837 31.314 41.1441 32.4462 39.9866C33.5785 38.8292 34.1974 37.291 34.1824 35.6691C34.1824 35.2883 33.8729 34.9837 33.4955 34.9837C33.4955 34.9837 33.4955 34.9837 33.4879 34.9837C33.1105 34.9837 32.8086 35.2959 32.8086 35.6767C32.8161 36.9331 32.3406 38.121 31.465 39.0195C30.5893 39.9181 29.4194 40.413 28.1739 40.4207C28.1588 40.4207 28.1512 40.4207 28.1361 40.4207C26.9058 40.4207 25.7358 39.9409 24.8602 39.0652C23.9695 38.1819 23.4788 37.0016 23.4713 35.7452C23.4637 34.4888 23.9393 33.3009 24.8149 32.4023C25.7056 31.5114 26.8756 31.0088 28.121 31.0012Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        d=\"M49.445 26.3106C50.298 26.3106 51 25.61 51 24.7419V23.2723C51 22.4118 50.3056 21.7036 49.445 21.7036H48.6525C48.4487 20.9422 48.1543 20.2112 47.7618 19.5334L48.3279 18.9623C48.9318 18.3532 48.9318 17.3556 48.3279 16.7465L47.2938 15.7032C46.9994 15.4063 46.6069 15.2463 46.1993 15.2463C45.7841 15.2463 45.3916 15.4063 45.1048 15.7032L44.5386 16.2743C43.8593 15.8784 43.1422 15.5738 42.3874 15.3758V14.5686C42.3874 13.7082 41.6929 13 40.8324 13H39.368C38.5151 13 37.8131 13.7006 37.8131 14.5686V15.3758C37.0582 15.5814 36.3336 15.8784 35.6618 16.2743L35.0957 15.7032C34.8013 15.4063 34.4088 15.2463 34.0012 15.2463C33.586 15.2463 33.1935 15.4063 32.9067 15.7032L31.8725 16.7465C31.2687 17.3556 31.2687 18.3532 31.8725 18.9623L32.4387 19.5334C32.0462 20.2188 31.7442 20.9422 31.548 21.7036H30.7478C29.8949 21.7036 29.1929 22.4042 29.1929 23.2723V24.7495C29.1929 25.61 29.8873 26.3182 30.7478 26.3182H31.548C31.7518 27.0796 32.0462 27.8107 32.4387 28.4884L31.8725 29.0595C31.2687 29.6687 31.2687 30.6662 31.8725 31.2754L32.9067 32.3186C33.201 32.6156 33.5936 32.7755 34.0012 32.7755C34.4163 32.7755 34.8088 32.6156 35.0957 32.3186L35.6618 31.7475C36.3412 32.1434 37.0582 32.448 37.8131 32.646V33.4532C37.8131 34.3136 38.5075 35.0218 39.368 35.0218H40.8324C41.6854 35.0218 42.3874 34.3213 42.3874 33.4532V32.6384C43.1422 32.4328 43.8668 32.1358 44.5386 31.7399L45.1048 32.311C45.3991 32.6079 45.7917 32.7679 46.1993 32.7679C46.6144 32.7679 47.0069 32.6079 47.2938 32.311L48.3279 31.2677C48.9318 30.6586 48.9318 29.661 48.3279 29.0519L47.7618 28.4808C48.1543 27.7954 48.4562 27.072 48.6525 26.3106H49.445ZM47.4372 25.4882C47.2485 26.4629 46.8711 27.3766 46.32 28.2066C46.1389 28.4808 46.1766 28.8463 46.4031 29.0747L47.3542 30.0342C47.4296 30.1103 47.4296 30.2245 47.3542 30.3007L46.32 31.3439C46.2747 31.3896 46.2219 31.3972 46.1917 31.3972C46.154 31.3972 46.1087 31.3896 46.0634 31.3439L45.1123 30.3844C44.8783 30.1484 44.516 30.1179 44.2518 30.3007C43.429 30.8566 42.5232 31.2297 41.557 31.4277C41.24 31.4886 41.006 31.7779 41.006 32.1054V33.4608C41.006 33.5598 40.923 33.6435 40.8249 33.6435H39.3605C39.2624 33.6435 39.1793 33.5598 39.1793 33.4608V32.1054C39.1793 31.7779 38.9453 31.4962 38.6283 31.4277C37.6621 31.2373 36.7563 30.8566 35.9335 30.3007C35.8203 30.2245 35.6844 30.1865 35.5561 30.1865C35.3825 30.1865 35.2014 30.255 35.073 30.3921L34.1219 31.3515C34.0767 31.3972 34.0238 31.4048 33.9936 31.4048C33.9559 31.4048 33.9106 31.3972 33.8653 31.3515L32.8312 30.3083C32.7557 30.2321 32.7557 30.1179 32.8312 30.0418L33.7823 29.0823C34.0163 28.8463 34.0465 28.4808 33.8653 28.2142C33.3143 27.3842 32.9444 26.4705 32.7481 25.4958C32.6878 25.176 32.4009 24.9399 32.0763 24.9399H30.7327C30.6346 24.9399 30.5516 24.8561 30.5516 24.7572V23.2723C30.5516 23.1733 30.6346 23.0895 30.7327 23.0895H32.0763C32.4009 23.0895 32.6802 22.8535 32.7481 22.5336C32.9369 21.559 33.3143 20.6452 33.8653 19.8152C34.0465 19.5411 34.0087 19.1756 33.7823 18.9471L32.8312 17.9877C32.7859 17.942 32.7783 17.8887 32.7783 17.8582C32.7783 17.8201 32.7859 17.7744 32.8312 17.7288L33.8578 16.6779C33.903 16.6322 33.9559 16.6246 33.9861 16.6246C34.0238 16.6246 34.0691 16.6322 34.1144 16.6779L35.0655 17.6374C35.2995 17.8734 35.6618 17.9039 35.926 17.7211C36.7488 17.1653 37.6546 16.7921 38.6207 16.5942C38.9378 16.5332 39.1718 16.2439 39.1718 15.9164V14.5686C39.1718 14.4696 39.2548 14.3859 39.3529 14.3859H40.8173C40.9154 14.3859 40.9985 14.4696 40.9985 14.5686V15.9241C40.9985 16.2515 41.2325 16.5332 41.5495 16.6018C42.5157 16.7921 43.4215 17.1729 44.2442 17.7288C44.516 17.9115 44.8783 17.8734 45.1048 17.645L46.0558 16.6855C46.1011 16.6398 46.154 16.6322 46.1842 16.6322C46.2219 16.6322 46.2672 16.6398 46.3125 16.6855L47.3466 17.7288C47.4221 17.8049 47.4221 17.9191 47.3466 17.9953L46.3955 18.9547C46.1615 19.1908 46.1313 19.5563 46.3125 19.8228C46.8635 20.6528 47.2334 21.5666 47.4296 22.5413C47.49 22.8611 47.7769 23.0971 48.1014 23.0971H49.445C49.5432 23.0971 49.6262 23.1809 49.6262 23.2799V24.7572C49.6262 24.8561 49.5432 24.9399 49.445 24.9399H48.1014C47.7769 24.9323 47.4976 25.1607 47.4372 25.4882Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        d=\"M40.0927 19.5791C37.6697 19.5791 35.7071 21.5666 35.7071 24.0033C35.7071 26.4476 37.6772 28.4274 40.0927 28.4274C42.5157 28.4274 44.4783 26.44 44.4783 24.0033C44.4783 21.5666 42.5082 19.5791 40.0927 19.5791ZM40.0927 27.0492C38.4245 27.0492 37.0734 25.6861 37.0734 24.0033C37.0734 22.3204 38.4245 20.9574 40.0927 20.9574C41.7609 20.9574 43.112 22.3204 43.112 24.0033C43.112 25.6861 41.7533 27.0492 40.0927 27.0492Z\"\r\n        fill={color}\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst Logement = ({ color, ...rest }) => {\r\n  return (\r\n    <svg\r\n      {...rest}\r\n      width=\"48\"\r\n      height=\"48\"\r\n      viewBox=\"0 0 64 64\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        d=\"M50.3833 17.9333H38.6666C38.3262 17.9333 38.05 18.2096 38.05 18.55C38.05 18.8904 38.3262 19.1666 38.6666 19.1666H49.7666V32.478L32.9359 15.6474C32.815 15.5265 32.6566 15.4667 32.4981 15.4667C32.3396 15.4667 32.1811 15.5265 32.0602 15.6474L15.2334 32.4774V19.1666H22.0167C22.3571 19.1666 22.6333 18.8904 22.6333 18.55V16.0834C22.6333 15.743 22.3571 15.4667 22.0167 15.4667H21.4V14.2334H25.1V15.4667H24.4833C24.143 15.4667 23.8667 15.743 23.8667 16.0834V18.55C23.8667 18.8904 24.143 19.1666 24.4833 19.1666H26.3333C26.6737 19.1666 26.95 18.8904 26.95 18.55C26.95 18.2096 26.6737 17.9333 26.3333 17.9333H25.1V16.7H25.7166C26.057 16.7 26.3333 16.4237 26.3333 16.0834V13.6166C26.3333 13.2763 26.057 13 25.7166 13H20.7833C20.443 13 20.1667 13.2763 20.1667 13.6166V16.0833C20.1667 16.4236 20.443 16.6999 20.7833 16.6999H21.4V17.9333H14.6166C14.4532 17.9333 14.296 17.998 14.1807 18.1139C14.0647 18.2293 14 18.3866 14 18.55L14.0025 33.9666C14.0025 34.2163 14.1529 34.4408 14.3836 34.5364C14.46 34.5679 14.5396 34.5833 14.6192 34.5833C14.7801 34.5833 14.938 34.5204 15.0551 34.4026L32.4981 16.9534L49.9472 34.4026C50.065 34.5204 50.2229 34.5832 50.3832 34.5832C50.4628 34.5832 50.5429 34.5678 50.6194 34.5363C50.8494 34.4407 50.9999 34.2157 50.9999 33.9665V18.55C50.9999 18.2096 50.7237 17.9333 50.3833 17.9333Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M23.8216 46.39C23.5712 44.9403 22.304 43.8334 20.7833 43.8334C19.5691 43.8334 18.517 44.5388 18.0144 45.5612C17.9151 45.4903 17.8091 45.4274 17.6999 45.3707V35.2C17.6999 34.8597 17.4237 34.5834 17.0833 34.5834C16.7429 34.5834 16.4667 34.8597 16.4667 35.2V45.0667C15.1063 45.0667 14 46.173 14 47.5334C14 48.8938 15.1063 50 16.4667 50H23.25C24.27 50 25.1 49.17 25.1 48.15C25.1 47.3292 24.5628 46.6318 23.8216 46.39ZM23.25 48.7666H16.4667C15.7865 48.7666 15.2333 48.2135 15.2333 47.5333C15.2333 46.8531 15.7865 46.3 16.4667 46.3C17.042 46.3 17.5532 46.6342 17.7388 47.1325C17.843 47.4119 18.1317 47.5765 18.4264 47.5235C18.72 47.4704 18.9333 47.2151 18.9333 46.9166C18.9333 45.8967 19.7633 45.0667 20.7833 45.0667C21.8032 45.0667 22.6333 45.8967 22.6333 46.9166C22.6333 47.257 22.9096 47.5333 23.2499 47.5333C23.5897 47.5333 23.8666 47.8101 23.8666 48.1499C23.8666 48.4897 23.5898 48.7666 23.25 48.7666Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M48.5334 35.2V45.0667C49.8937 45.0667 51 46.173 51 47.5334C51 48.8937 49.8937 50 48.5333 49.9999H29.4167C29.0763 49.9999 28.8 49.7237 28.8 49.3833C28.8 49.0429 29.0763 48.7666 29.4167 48.7666H40.0141C39.9444 48.573 39.9 48.3677 39.9 48.15C39.9 47.3292 40.4372 46.6318 41.1784 46.39C41.4288 44.9403 42.696 43.8334 44.2167 43.8334C45.4309 43.8334 46.483 44.5388 46.9856 45.5612C47.0849 45.4903 47.191 45.4274 47.3001 45.3707V35.2C47.3001 34.8597 47.5763 34.5834 47.9167 34.5834C48.2571 34.5834 48.5334 34.8597 48.5334 35.2ZM48.5334 48.7666C49.2135 48.7666 49.7666 48.2137 49.7666 47.5334C49.7666 46.8532 49.2134 46.3001 48.5333 46.3001C47.958 46.3001 47.4467 46.6343 47.2611 47.1326C47.1569 47.4119 46.8664 47.5772 46.5735 47.5235C46.2801 47.4705 46.0667 47.2152 46.0667 46.9167C46.0667 45.8968 45.2366 45.0667 44.2167 45.0667C43.1967 45.0667 42.3667 45.8968 42.3667 46.9167C42.3667 47.2571 42.0904 47.5334 41.75 47.5334C41.4102 47.5334 41.1334 47.8102 41.1334 48.15C41.1334 48.4898 41.4102 48.7666 41.75 48.7666H48.5334Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M34.9666 25.3334C34.9666 23.973 33.8603 22.8668 32.5 22.8668C31.1396 22.8668 30.0334 23.9731 30.0334 25.3334C30.0334 26.6937 31.1396 27.8 32.5 27.8C33.8604 27.8 34.9666 26.6937 34.9666 25.3334ZM31.2666 25.3334C31.2666 24.6532 31.8198 24.1001 32.5 24.1001C33.1802 24.1001 33.7333 24.6532 33.7333 25.3334C33.7333 26.0136 33.1802 26.5668 32.5 26.5668C31.8198 26.5667 31.2666 26.0136 31.2666 25.3334Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M39.2833 33.9666H44.2166C44.5571 33.9666 44.8333 34.2429 44.8333 34.5833V41.3666H45.45C45.7904 41.3666 46.0666 41.6429 46.0666 41.9832C46.0666 42.3236 45.7904 42.5999 45.45 42.5999H38.05C37.7096 42.5999 37.4334 42.3236 37.4334 41.9832C37.4334 41.6429 37.7096 41.3666 38.05 41.3666H38.6666V34.5833C38.6666 34.2429 38.9429 33.9666 39.2833 33.9666ZM39.9 41.3666H43.6V38.9H39.9V41.3666ZM39.9 37.6666H43.6V35.2H39.9V37.6666Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M38.6666 46.9166C38.6666 46.5762 38.3903 46.3 38.05 46.3H36.2V34.5833C36.2 34.243 35.9237 33.9667 35.5833 33.9667H29.4167C29.0763 33.9667 28.8 34.243 28.8 34.5833V46.3H26.95C26.6097 46.3 26.3334 46.5762 26.3334 46.9166V49.3832C26.3334 49.7236 26.6097 49.9999 26.95 49.9999C27.2904 49.9999 27.5667 49.7236 27.5667 49.3832V47.5332H38.05C38.3903 47.5333 38.6666 47.257 38.6666 46.9166ZM34.9666 40.1333H34.35C34.0096 40.1333 33.7333 40.4096 33.7333 40.75C33.7333 41.0903 34.0096 41.3666 34.35 41.3666H34.9666V46.3H30.0333V35.2H34.9666V40.1333Z\"\r\n        fill={color}\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M20.7834 33.9666H25.7166C26.0571 33.9666 26.3333 34.2429 26.3333 34.5833V41.3667H26.95C27.2904 41.3667 27.5666 41.6429 27.5666 41.9833C27.5666 42.3237 27.2904 42.6 26.95 42.6H19.55C19.2096 42.6 18.9334 42.3236 18.9334 41.9832C18.9334 41.6429 19.2096 41.3666 19.55 41.3666H20.1667V34.5833C20.1667 34.2429 20.443 33.9666 20.7834 33.9666ZM21.4 41.3666H25.1V38.9H21.4V41.3666ZM21.4 37.6666H25.1V35.2H21.4V37.6666Z\"\r\n        fill={color}\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst QuestionCircle = (props) => {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <g clip-path=\"url(#clip0)\">\r\n        <path\r\n          d=\"M8 16C6.41775 16 4.87104 15.5308 3.55544 14.6518C2.23985 13.7727 1.21447 12.5233 0.608967 11.0615C0.00346627 9.59966 -0.15496 7.99113 0.153721 6.43928C0.462403 4.88743 1.22433 3.46197 2.34315 2.34315C3.46197 1.22433 4.88743 0.462403 6.43928 0.153721C7.99113 -0.15496 9.59966 0.00346627 11.0615 0.608967C12.5233 1.21447 13.7727 2.23985 14.6518 3.55544C15.5308 4.87104 16 6.41775 16 8C15.9978 10.1211 15.1543 12.1547 13.6545 13.6545C12.1547 15.1543 10.1211 15.9978 8 16ZM8 1.35594C6.68593 1.35594 5.40137 1.7456 4.30876 2.47566C3.21615 3.20572 2.36456 4.24338 1.86169 5.45743C1.35881 6.67147 1.22724 8.00737 1.4836 9.2962C1.73996 10.585 2.37275 11.7689 3.30194 12.6981C4.23113 13.6273 5.41499 14.26 6.70381 14.5164C7.99263 14.7728 9.32853 14.6412 10.5426 14.1383C11.7566 13.6354 12.7943 12.7839 13.5243 11.6912C14.2544 10.5986 14.6441 9.31408 14.6441 8C14.6419 6.23855 13.9412 4.54985 12.6957 3.30432C11.4502 2.05878 9.76146 1.35809 8 1.35594Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          d=\"M7.79645 10.202C7.61664 10.202 7.4442 10.1306 7.31705 10.0034C7.18991 9.87627 7.11848 9.70382 7.11848 9.52402C7.11692 9.01661 7.27843 8.52212 7.57919 8.11345C7.87995 7.70478 8.30406 7.40356 8.78899 7.25419C8.99793 7.19053 9.18074 7.06113 9.31022 6.88523C9.4397 6.70933 9.50894 6.49633 9.50763 6.27791C9.50763 5.87802 9.34878 5.49451 9.06601 5.21174C8.78324 4.92897 8.39973 4.77012 7.99984 4.77012C7.59994 4.77012 7.21643 4.92897 6.93366 5.21174C6.6509 5.49451 6.49204 5.87802 6.49204 6.27791C6.49204 6.45772 6.42061 6.63017 6.29347 6.75731C6.16633 6.88445 5.99388 6.95588 5.81407 6.95588C5.63427 6.95588 5.46182 6.88445 5.33468 6.75731C5.20754 6.63017 5.13611 6.45772 5.13611 6.27791C5.13611 5.51841 5.43782 4.79 5.97488 4.25295C6.51193 3.7159 7.24033 3.41418 7.99984 3.41418C8.75935 3.41418 9.48775 3.7159 10.0248 4.25295C10.5619 4.79 10.8636 5.51841 10.8636 6.27791C10.8651 6.78532 10.7036 7.27981 10.4029 7.68848C10.1021 8.09715 9.67799 8.39837 9.19306 8.54775C8.98435 8.61178 8.80179 8.74128 8.67237 8.9171C8.54295 9.09291 8.47354 9.30571 8.47441 9.52402C8.47441 9.61305 8.45688 9.70121 8.42281 9.78346C8.38874 9.86572 8.3388 9.94046 8.27584 10.0034C8.21289 10.0664 8.13815 10.1163 8.05589 10.1504C7.97364 10.1844 7.88548 10.202 7.79645 10.202Z\"\r\n          fill=\"black\"\r\n        />\r\n        <path\r\n          d=\"M7.79916 12.4501C8.24847 12.4501 8.61271 12.0859 8.61271 11.6366C8.61271 11.1872 8.24847 10.823 7.79916 10.823C7.34984 10.823 6.9856 11.1872 6.9856 11.6366C6.9856 12.0859 7.34984 12.4501 7.79916 12.4501Z\"\r\n          fill=\"black\"\r\n        />\r\n      </g>\r\n      <defs>\r\n        <clipPath id=\"clip0\">\r\n          <rect width=\"16\" height=\"16\" fill=\"white\" />\r\n        </clipPath>\r\n      </defs>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default withRouter(SimulatorIcon);\r\n","import React from \"react\";\r\n\r\nconst SimulatorNavigationLink = ({ id, color, name, children }) => {\r\n  return (\r\n    <a style={{ color: color }} href={`#${id}`} title={name}>\r\n      {children}\r\n      <p>{name}</p>\r\n    </a>\r\n  );\r\n};\r\n\r\nexport default SimulatorNavigationLink;\r\n","import React, { useState } from \"react\";\r\nimport SimulatorIcon from \"components/simulateur/SimulatorIcon\";\r\nimport SimulatorNavigationLink from \"components/simulateur/SimulatorNavigationLink\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst SimulatorNavigationMenu = ({ data }) => {\r\n  const [hoveredItem, setHoveredItem] = useState(null);\r\n  const location = useLocation();\r\n\r\n  const currentHash = location.hash;\r\n\r\n  const handleMouserOver = (catId) => {\r\n    setHoveredItem(catId);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setHoveredItem(null);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {data.categories.map((cat) => (\r\n        <SimulatorNavigationLink\r\n          key={cat.id}\r\n          color={currentHash === `#${cat.id}` || cat.id === hoveredItem ? cat.colorHover : \"white\"}\r\n          name={cat.name}\r\n          id={cat.id}\r\n        >\r\n          <SimulatorIcon\r\n            onMouseOver={handleMouserOver}\r\n            onMouseLeave={handleMouseLeave}\r\n            id={cat.id}\r\n            icon={cat.name}\r\n            color={\r\n              currentHash === `#${cat.id}` || cat.id === hoveredItem ? cat.colorHover : \"white\"\r\n            }\r\n          />\r\n        </SimulatorNavigationLink>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SimulatorNavigationMenu;\r\n","import React, { useState } from \"react\";\r\n\r\nimport SimulatorNavigationMenu from \"components/simulateur/SimulatorNavigationMenu\";\r\nimport SimulatorIcon from \"components/simulateur/SimulatorIcon\";\r\nimport ReactGA from \"react-ga\";\r\n\r\nimport \"styles/SimulatorNavigation.css\";\r\n\r\nconst SimulatorNav = ({ leftNavData, showOptions, style, isActiveOptions }) => {\r\n  \r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  function handleClickTracking(type) {\r\n    ReactGA.event({\r\n      category: \"Click\",\r\n      action: type,\r\n    });\r\n  }\r\n\r\n  function handleClick(event) {\r\n    handleClickTracking(\"options\");\r\n    showOptions(event);\r\n  }\r\n\r\n  return (\r\n    <div id=\"SimulatorNavigation\" style={style}>\r\n      <h2 className=\"scope\">{leftNavData.scope}</h2>\r\n      {/* <h2 className=\"scope\">Options</h2> */}\r\n      <div className=\"icons\">\r\n        <SimulatorNavigationMenu data={leftNavData} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SimulatorNav;\r\n","import React from \"react\";\r\nimport \"styles/Checkbox.css\";\r\n\r\nexport const CheckboxOutlinedEmpty = () => {\r\n  return <div id=\"Checkbox\" className=\"Checkbox\"></div>;\r\n};\r\n\r\nexport const CheckboxOutlinedFull = () => {\r\n  return (\r\n    <div id=\"Checkbox\" className=\"Checkbox\">\r\n      <div className=\"active\"></div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport { Checkbox } from \"@material-ui/core\";\r\nimport { CheckboxOutlinedEmpty, CheckboxOutlinedFull } from \"components/Checkbox\";\r\nimport SimulatorIcon from \"components/simulateur/SimulatorIcon\";\r\nimport \"styles/OptionsBox.css\";\r\n\r\n// Custom Hooks\r\nimport { useVisibility } from \"../../hooks/useVisibility\";\r\n\r\nconst OptionsBox = ({ hideOptions, modeExpert, handleInitValues, handleModeExpert }) => {\r\n\r\n\r\n  const PurpleSwitch = withStyles({\r\n    root: {\r\n      padding: \"5px\",\r\n      marginLeft: \"10px\",\r\n    },\r\n    switchBase: {\r\n      color: \"grey\",\r\n      borderRadius: 0,\r\n      padding: \"10px\",\r\n      \"&$checked + $track\": {\r\n        backgroundColor: \"#00ADB9\",\r\n      },\r\n    },\r\n    checked: {},\r\n    track: {\r\n      borderRadius: \"2px\",\r\n    },\r\n    label: {\r\n      margin: 0,\r\n    },\r\n  })(Switch);\r\n\r\n  const CustomFormLabel = withStyles({\r\n    labelPlacementStart: {\r\n      margin: 0,\r\n    },\r\n  })(FormControlLabel);\r\n\r\n  const CustomCheckBox = withStyles({\r\n    root: {\r\n      padding: 0,\r\n    },\r\n  })(Checkbox);\r\n\r\n  return (\r\n    <div id=\"OptionsBox\">\r\n      <div className=\"close\" onClick={hideOptions}>\r\n        <SimulatorIcon icon=\"Cross\" color=\"black\" />\r\n      </div>\r\n\r\n      <h4 className=\"main-title\">Options</h4>\r\n\r\n      <div>\r\n        <h6 className=\"param-name\">Initialisation des paramètres</h6>\r\n        <p className=\"description\">\r\n          Afin de gagner du temps, vous pouvez initialiser l'ensemble des données à des valeurs\r\n          spécifiques\r\n        </p>\r\n\r\n        {/* <form className=\"sim-option-form flex-item\"> */}\r\n        <form className=\"sim-option-form flex-item\" onChange={(e) => handleInitValues(e)}>\r\n          <div className=\"control\">\r\n            <CustomCheckBox\r\n              disableRipple\r\n              value=\"bau\"\r\n              icon={<CheckboxOutlinedEmpty />}\r\n              checkedIcon={<CheckboxOutlinedFull />}\r\n            />\r\n            <label>Business as usual</label>\r\n          </div>\r\n          <div className=\"control\">\r\n            <CustomCheckBox\r\n              disableRipple\r\n              value=\"1degre5\"\r\n              icon={<CheckboxOutlinedEmpty />}\r\n              checkedIcon={<CheckboxOutlinedFull />}\r\n            />\r\n            <label>Valeurs 2020</label>\r\n          </div>\r\n          <div className=\"control\">\r\n            <CustomCheckBox\r\n              disableRipple\r\n              value=\"init\"\r\n              icon={<CheckboxOutlinedEmpty />}\r\n              checkedIcon={<CheckboxOutlinedFull />}\r\n            />\r\n            <label>Reco 2030</label>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div>\r\n        <h6 className=\"param-name\">Mode Expert</h6>\r\n        <p className=\"description\">\r\n          Le mode expert permet d'accéder à un plus grand nombre de paramètres, pour régler son\r\n          scénario avec davantage de finesse\r\n        </p>\r\n        <CustomFormLabel\r\n          className=\"nomarge nopad\"\r\n          onChange={(e) => handleModeExpert(e.target.checked)}\r\n          control={\r\n            <PurpleSwitch\r\n              disableRipple\r\n              icon={<CheckboxOutlinedEmpty />}\r\n              checkedIcon={<CheckboxOutlinedEmpty />}\r\n            />\r\n          }\r\n          label=\"Activer\"\r\n          labelPlacement=\"start\"\r\n          checked={modeExpert}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OptionsBox;\r\n","import React from \"react\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { faQuestionCircle } from \"@fortawesome/free-regular-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport parse from \"html-react-parser\";\r\n\r\nconst LightTooltip = withStyles((theme) => ({\r\n  tooltip: {\r\n    backgroundColor: theme.palette.common.white,\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    boxShadow: theme.shadows[1],\r\n    fontSize: 11,\r\n  },\r\n}))(Tooltip);\r\n\r\nconst ResultsIndicator = ({ indicator, i, backgroundColor, color, width }) => {\r\n  return (\r\n    <div key={i} className=\"indicator\" style={{ width: width }}>\r\n      <p className=\"results-title\">{indicator.name}</p>\r\n\r\n      <div\r\n        className=\"results-figure flex-item\"\r\n        style={{ backgroundColor: backgroundColor, color: color }}\r\n      >\r\n        {indicator.value}\r\n        {indicator.unit}\r\n        {indicator.infos && (\r\n          <LightTooltip title={<React.Fragment>{parse(indicator.infos)}</React.Fragment>}>\r\n            <span className=\"indicator-tooltip\">\r\n              <FontAwesomeIcon icon={faQuestionCircle} />\r\n            </span>\r\n          </LightTooltip>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResultsIndicator;\r\n","import React from \"react\";\r\nimport {\r\n  ComposedChart,\r\n  Line,\r\n  Area,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nconst compoChart = ({ datas, isXAxis, isYAxis, graphYMaximum }) => {\r\n  \r\n  const data = datas.data.data;\r\n\r\n  const reversedDatas = [...datas.graphDatas.reverse()]\r\n  datas.graphDatas.reverse()\r\n\r\n  function handleTooltipTitle(payload, unit) {\r\n    var annualEmi = 0;\r\n    payload.forEach((data) => {\r\n      if (data.name!==\"Objectif\") {(annualEmi += data.value)}\r\n    });\r\n    return payload[0] ? `Année : ${payload[0].payload.name} / Emissions annuelles : ${Math.round(annualEmi)} ${unit}` : \"\"\r\n  }\r\n\r\n  function toolTipContent({ payload, label }) {\r\n    return (\r\n      <div\r\n        id=\"area-tooltip\"\r\n        className=\"chart-tooltip flex-item flex-column\"\r\n        style={{ backgroundColor: \"white\", width: \"200px\" }}\r\n      >\r\n        <h4 style={{ color: \"#163e59\" }}>{handleTooltipTitle(payload,datas.data.yTitle)}</h4>\r\n        {payload.reverse().map((area, i) => (\r\n          <div key={i} className=\"flex-item\">\r\n            <div\r\n              key={\"l\" + i}\r\n              className=\"legend-point\"\r\n              style={{ backgroundColor: area.color }}\r\n            ></div>\r\n            <p key={\"t\" + i} style={{ color: \"#163E59\" }}>\r\n              {area.name} : {Math.round(area.value)} {datas.data.yTitle}\r\n            </p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function yAxisFormatter(value) {\r\n    return Math.round(value)\r\n  }\r\n\r\n  function handleGraphType(data) {\r\n    const props = {\r\n      key: data.dataKey,\r\n      dataKey: data.dataKey,\r\n      stroke: data.color,\r\n    };\r\n\r\n  \r\n\r\n    if (data.type === \"Area\") {\r\n      const fillOpacity = data.color === \"#FFFFFF\" ? \"0\" : \"1\";\r\n      return <Area fillOpacity={fillOpacity} fill={data.color} {...props} stackId=\"1\" />;\r\n    }\r\n    if (data.type === \"Line\") return <Line {...props} strokeDasharray=\"5 5\" dot={false} strokeWidth=\"4\"/>;\r\n  }\r\n\r\n  return (\r\n    <ResponsiveContainer height=\"100%\" width=\"100%\">\r\n      <ComposedChart\r\n        data={data}\r\n        stackOffsetDiverging\r\n        margin={{\r\n          top: 5,\r\n          right: 5,\r\n          bottom: 5,\r\n          left: 5,\r\n        }}\r\n      >\r\n        <CartesianGrid stroke=\"#f5f5f5\" strokeDasharray=\"3 3\" />\r\n        {isXAxis && <XAxis dataKey=\"name\" stroke=\"var(--mainText)\" interval=\"preserveStartEnd\"/>}\r\n        <YAxis hide={!isYAxis} stroke=\"var(--mainText)\" type=\"number\" domain={[0, graphYMaximum]} tickFormatter={yAxisFormatter}/>\r\n        <Tooltip content={toolTipContent} position={{ x: 200, y: -50 }}/>\r\n        {reversedDatas.map((data) => handleGraphType(data))}\r\n      </ComposedChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default compoChart;\r\n\r\n","import React from \"react\";\r\nimport \"../../styles/modal.css\";\r\nimport \"../../styles/sim-modals.css\";\r\n\r\nconst Modal = ({ isOpen, closeModal, children, okButton, cancelButton }) => {\r\n  \r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"modal-parent flex-item jcenter acenter\">\r\n      <div className=\"modal-content flex-column acenter\">\r\n        {children}\r\n        {okButton && (\r\n          <button type=\"button\" className=\"btn primary-btn close-btn\" onClick={closeModal}>\r\n            Ok\r\n          </button>\r\n        )}\r\n        {cancelButton && (\r\n          <button type=\"button\" className=\"btn secondary-btn close-btn\" onClick={closeModal}>\r\n            Annuler\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\n\r\nconst ModalVSWorkshopType = ({ setWorkshopType, closeModal }) => {\r\n  return (\r\n    <div className=\"modal-sim modal-validate\">\r\n      <h2 className=\"container_title\">Valider mon scénario</h2>\r\n\r\n      <button className=\"btn primary-btn\" type=\"button\" onClick={() => setWorkshopType(\"workshop\")}>\r\n        Je suis dans le cadre d'un atelier\r\n      </button>\r\n      <p>munissez-vous du code atelier partagé par l'animateur de l'atelier</p>\r\n\r\n      <button className=\"btn primary-btn\" type=\"button\" onClick={() => setWorkshopType(\"general\")}>\r\n        Je suis un utilisateur classique\r\n      </button>\r\n      <p>validez votre scénario et comparez-le aux autres internautes !</p>\r\n\r\n      <button className=\"btn secondary-btn close-btn\" type=\"button\" onClick={() => closeModal()}>\r\n        Annuler\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalVSWorkshopType;\r\n","export function getDataToExport(json, values, results, keys) {\r\n\r\n    //PARAMETERS INFO NEEDED : category, index, value / + url (results.url)\r\n\r\n    let jsonFileTemp = JSON.parse(JSON.stringify(json))\r\n    let parameters = [];\r\n\r\n    for (const category of jsonFileTemp.categories) {\r\n        category.parameters.map(parameter => {\r\n            if (keys===\"all\" || keys.includes(category.data.name))\r\n            parameters.push({\r\n                \"value\": values[parameter.data.index][0],\r\n                \"category\": category.data.name,\r\n                \"index\": parameter.data.index,\r\n                \"name\": parameter.data.name,\r\n            });\r\n        });\r\n    }\r\n    \r\n    const jsonTemp = {\r\n        parameters,\r\n        url: results.url,\r\n        dateCreated: Date.now()\r\n    }\r\n\r\n    return jsonTemp\r\n    \r\n    \r\n    // OLD VERSION\r\n    // let jsonFileTemp = JSON.parse(JSON.stringify(json))\r\n    // let parameters = [];\r\n\r\n    // for (const category of jsonFileTemp.categories) {\r\n    //     category.parameters.map(parameter => {\r\n    //         let vInit = parameter.data.value\r\n    //         delete parameter.data.value\r\n    //         parameter.data.valueInit = vInit\r\n    //         parameter.data.value = values[parameter.data.index][0]\r\n    //         parameter.data.category = category.data\r\n    //         parameters.push({...parameter.data})\r\n    //         return parameter\r\n    //     })\r\n    // }\r\n    \r\n    // const jsonTemp = {\r\n    //     // parameters: [...parameters],\r\n    //     categories: [...jsonFileTemp.categories],\r\n    //     results: results,\r\n    //     validation: {\r\n    //         time: Date.now(),\r\n    //         random: Math.random()\r\n    //     }\r\n    // }\r\n\r\n    // if (keys==='all') {\r\n    //     return jsonTemp\r\n    // }\r\n\r\n    // let jsonFinal = {};\r\n    // jsonFinal.results={...jsonTemp.results}\r\n    // jsonFinal.validation={...jsonTemp.validation}\r\n    // jsonFinal.categories = jsonTemp.categories.filter(category => keys.includes(category.data.name))\r\n    // // jsonTemp.parameters = json.parameters.filter(parameter => keys.includes(parameter.category.name))\r\n    \r\n    // return jsonFinal\r\n\r\n\r\n  }\r\n  ","import React, { useState, useEffect } from \"react\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport { getDataToExport } from \"../../utils/getDataToExport\";\r\nimport { getKeys } from \"../../utils/getKeys\";\r\n\r\nimport api from \"../../api/APIHandler\";\r\n\r\nconst ModalVSConfigureScenario = ({\r\n  closeModal,\r\n  results,\r\n  val,\r\n  jsonFile,\r\n  setModalVSConfirmationSent,\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [values, setValues] = useState({\r\n    workshop_code: \"\",\r\n    user_email: \"\",\r\n    group_name: \"\",\r\n  });\r\n\r\n  const [checkboxValues, setCheckBoxValues] = useState({ Tous: true });\r\n\r\n  // initialize checkboxValues with list of sectors + \"Tous\"\r\n  useEffect(() => {\r\n    const checkboxValuesTemp = checkboxValues;\r\n    jsonFile.categories.map((category) => {\r\n      checkboxValuesTemp[category.data.name] = false;\r\n    });\r\n    setCheckBoxValues(checkboxValuesTemp);\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.type === \"text\") {\r\n      setValues({ ...values, [e.target.id]: e.target.value });\r\n    } else if (e.target.type === \"checkbox\") {\r\n      setCheckBoxValues({ ...checkboxValues, [e.target.name]: e.target.checked });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    const keys = getKeys(checkboxValues);\r\n    const data = getDataToExport(jsonFile, val, results, keys);\r\n\r\n    api\r\n      .post(\"/aggregator/result/\", { ...values, data })\r\n      .then((res) => {\r\n        setIsLoading(false);\r\n        closeModal();\r\n        setModalVSConfirmationSent(true);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-sim modal-workshop\">\r\n      {isLoading && (\r\n        <div id=\"sim_loader\" className=\"modal-parent\">\r\n          <div id=\"sim_loader_content\" className=\"modal-content\">\r\n            <Loader type=\"Oval\" color=\"#163E59\" height={100} width={100} />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <h2 className=\"container_title\">Valider (atelier)</h2>\r\n\r\n      <p>Entrez les informations nécessaires pour valider votre scénario</p>\r\n\r\n      <form className=\"form flex-column\" onSubmit={(e) => handleSubmit(e)}>\r\n        <div className=\"input-box\">\r\n          <div className=\"columns\">\r\n            <FormControl>\r\n              <InputLabel htmlFor=\"group_name\">Nom du participant / groupe</InputLabel>\r\n              <Input id=\"group_name\" onChange={(e) => handleChange(e)} required />\r\n            </FormControl>\r\n\r\n            <FormControl>\r\n              <InputLabel htmlFor=\"workshop_code\">Code de l'atelier</InputLabel>\r\n              <Input id=\"workshop_code\" onChange={(e) => handleChange(e)} required />\r\n              <FormHelperText>il vous a été transmis par l'animateur.</FormHelperText>\r\n            </FormControl>\r\n          </div>\r\n\r\n          <FormControl>\r\n            <InputLabel htmlFor=\"user_email\">E-mail du participant / groupe</InputLabel>\r\n            <Input id=\"user_email\" onChange={(e) => handleChange(e)} />\r\n            <FormHelperText>facultatif : Si vous souhaitez obtenir les résultats</FormHelperText>\r\n          </FormControl>\r\n\r\n          <div className=\"cloud\">\r\n            <FormGroup>\r\n              <InputLabel htmlFor=\"sectors\">Sélectionnez vos secteurs :</InputLabel>\r\n\r\n              <div className=\"group\">\r\n                <FormControlLabel\r\n                  control={(\r\n                    <Checkbox\r\n                      checked={checkboxValues[\"Tous\"]}\r\n                      onChange={handleChange}\r\n                      name=\"Tous\"\r\n                    />\r\n                  )}\r\n                  label=\"Tous\"\r\n                />\r\n                {jsonFile.categories.map((category) => (\r\n                  <FormControlLabel\r\n                    control={(\r\n                      <Checkbox\r\n                        checked={checkboxValues[category.data.name]}\r\n                        onChange={handleChange}\r\n                        name={category.data.name}\r\n                      />\r\n                    )}\r\n                    label={category.data.name}\r\n                    disabled={checkboxValues[\"Tous\"] === true}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </FormGroup>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"button-box flex-item\">\r\n          <button className=\"btn secondary-btn\" type=\"button\" onClick={() => closeModal()}>\r\n            Annuler\r\n          </button>\r\n          <button className=\"btn primary-btn\" type=\"submit\">\r\n            Ok\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalVSConfigureScenario;\r\n","export function getKeys(checkboxValues)  {\r\n    if (checkboxValues[\"Tous\"]) {\r\n        return 'all'\r\n    }\r\n    let keys = [];\r\n    for (const [key, value] of Object.entries(checkboxValues)) {\r\n        if (value) {keys.push(key)}\r\n    }\r\n    return keys\r\n}","import React, { useEffect } from \"react\";\r\n\r\nimport api from \"../../api/APIHandler\";\r\nimport { getDataToExport } from \"../../utils/getDataToExport\";\r\n\r\nconst ModalVSGeneralConfirmation = ({ closeModal, results, val, jsonFile }) => {\r\n  // post scenario to general workshop\r\n  useEffect(() => {\r\n    const data = getDataToExport(jsonFile, val, results, \"all\");\r\n\r\n    // TO DO : add to config var\r\n    const WSInfos = {\r\n      workshop_code: \"418999\",\r\n      user_email: \"fake_email@mission-climat.io\",\r\n      group_name: \"n/a\",\r\n    };\r\n\r\n    api\r\n      .post(\"/aggregator/result/\", { ...WSInfos, data })\r\n      .then((res) => console.log(res))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  // TO DO : add to config var\r\n  const urlWorkshopGnl = process.env.REACT_APP_URL_WORKSHOP_GNL\r\n  const idWorkshopsGnl = JSON.parse(process.env.REACT_APP_ID_WORKSHOP_GNL)\r\n\r\n  return (\r\n    <div className=\"modal-sim modal-confirm flex-column acenter jcenter\">\r\n      <h2 className=\"container_title\">Scénario validé !</h2>\r\n\r\n      <p>Votre scénario a bien été validé</p>\r\n      <p>Merci pour le partage à la communauté !</p>\r\n\r\n      <div className=\"button-box flex-item\">\r\n        <button className=\"btn secondary-btn\" type=\"button\" onClick={() => closeModal()}>\r\n          Retour au simulateur\r\n        </button>\r\n\r\n        <a\r\n          className=\"btn primary-btn\"\r\n          href={urlWorkshopGnl + idWorkshopsGnl.lysed}\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n        >\r\n          Consulter les résultats globaux\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalVSGeneralConfirmation;\r\n","import React from \"react\";\r\n\r\nconst ModalVSConfigureScenario = ({ closeModal }) => {\r\n  return (\r\n    <div className=\"modal-sim modal-confirm flex-column acenter jcenter\">\r\n      <h2 className=\"container_title\">Scénario validé !</h2>\r\n\r\n      <p>Les données de votre scénario ont bien été envoyées, merci !</p>\r\n\r\n      <button className=\"btn primary-btn\" type=\"button\" onClick={() => closeModal()}>Ok</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalVSConfigureScenario;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ModalVSWorkshopType = ({ closeModal, onClick, results }) => {\r\n  return (\r\n    <div className=\"modal-sim modal-validate flex-column\">\r\n      <h2 className=\"container_title\">Que voulez-vous faire ?</h2>\r\n\r\n      <Link className=\"btn primary-btn\" to={{ pathname: \"/results\", state: { results } }}>\r\n        Voir les résultats complets\r\n      </Link>\r\n\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn primary-btn\"\r\n        onClick={() => {\r\n          closeModal();\r\n          onClick();\r\n        }}\r\n      >\r\n        Envoyer mes données\r\n      </button>\r\n\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn primary-btn\"\r\n        onClick=\"\"\r\n      >\r\n        Partager mon scénario\r\n      </button>\r\n\r\n      <button className=\"btn secondary-btn close-btn\" type=\"button\" onClick={() => closeModal()}>\r\n        Annuler\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalVSWorkshopType;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { GlobalContext } from \"Contexts/GlobalContext\";\r\nimport * as actions from \"Contexts/actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faDownload, faCog, faLink } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport ResultsIndicator from \"./ResultsIndicator\";\r\nimport CompoChart from \"../resultats/compoChart\";\r\n// import AreaChart from \"../resultats/Area\";\r\n\r\n// MODALS\r\nimport Modal from \"../partials/Modal\";\r\nimport ModalVSWorkshopType from \"../Workshops/ModalVSWorkshopType\";\r\nimport ModalVSConfigureScenario from \"../Workshops/ModalVSConfigureScenario\";\r\nimport ModalVSGeneralConfirmation from \"../Workshops/ModalVSGeneralConfirmation\";\r\nimport ModalVSConfirmationSent from \"../Workshops/ModalVSConfirmationSent\";\r\nimport ModalSimValidation from \"./ModalSimValidation\";\r\n\r\nimport { RESULTS_TITLE, RESULTS_SAMPLE_DISPLAY } from \"config\";\r\n\r\nconst ResultsSample = ({ jsonFile }) => {\r\n  const { globalState } = useContext(GlobalContext);\r\n\r\n  const results = globalState.results;\r\n  const values = globalState.values;\r\n\r\n  const [modal, setModal] = useState(\"\");\r\n\r\n  const [modalVSWorkshopType, setModalVSWorkshopType] = useState(false);\r\n  const [modalVSConfigureScenario, setModalVSConfigureScenario] = useState(false);\r\n  const [modalVSGeneralConfirmation, setModalVSGeneralConfirmation] = useState(false);\r\n  const [modalVSConfirmationSent, setModalVSConfirmationSent] = useState(false);\r\n  const [modalSimValidation, setModalSimValidation] = useState(false);\r\n\r\n  const width = window.innerWidth;\r\n\r\n  const secondaryColor = \"var(--lightgrey)\";\r\n  const fontColor = \"black\";\r\n\r\n  // const indicatorObjectives = { climate: -40, energy: -20, air: [-70, -70] };\r\n\r\n  const setWorkshopType = (type) => {\r\n    // setModal(type);\r\n\r\n    if (type == \"workshop\") {\r\n      setModalVSWorkshopType(false);\r\n      setModalVSConfigureScenario(true);\r\n    }\r\n    if (type == \"general\") {\r\n      setModalVSWorkshopType(false);\r\n      setModalVSGeneralConfirmation(true);\r\n    }\r\n  };\r\n\r\n  const handleValidateScenario = () => {\r\n    // setModal(\"workshop\");\r\n    setModalVSWorkshopType(true);\r\n  };\r\n\r\n  function handleIndicatorColor(data, objective) {\r\n    const obj = Array.isArray(objective) ? objective[0] : objective;\r\n\r\n    const objReached = (data / obj) * 100;\r\n    return objReached >= 100\r\n      ? \"#B0E440\"\r\n      : objReached >= 50 && objReached < 100\r\n      ? \"#FFF176\"\r\n      : \"#EB1818\";\r\n  }\r\n\r\n  function handleIndicatorWidth(length) {\r\n    return `calc(${100 / length}% - ${((length - 1) * 10) / 3}px`;\r\n  }\r\n\r\n  console.log(results)\r\n\r\n  if (width > 600) {\r\n    return (\r\n      <section className=\"sim-results-box\">\r\n        <Modal\r\n          isOpen={modalVSWorkshopType}\r\n          closeModal={() => setModalVSWorkshopType(false)}\r\n          okButton={false}\r\n        >\r\n          <ModalVSWorkshopType\r\n            closeModal={() => setModalVSWorkshopType(false)}\r\n            setWorkshopType={setWorkshopType}\r\n          />\r\n        </Modal>\r\n\r\n        <Modal\r\n          isOpen={modalVSGeneralConfirmation}\r\n          closeModal={() => setModalVSGeneralConfirmation(false)}\r\n          okButton={false}\r\n        >\r\n          <ModalVSGeneralConfirmation\r\n            closeModal={() => setModalVSGeneralConfirmation(false)}\r\n            results={results}\r\n            val={values}\r\n            jsonFile={jsonFile}\r\n          />\r\n        </Modal>\r\n\r\n        <Modal\r\n          isOpen={modalVSConfigureScenario}\r\n          closeModal={() => setModalVSConfigureScenario(false)}\r\n          okButton={false}\r\n        >\r\n          <ModalVSConfigureScenario\r\n            results={results}\r\n            val={values}\r\n            jsonFile={jsonFile}\r\n            closeModal={() => setModalVSConfigureScenario(false)}\r\n            setModalVSConfirmationSent={setModalVSConfirmationSent}\r\n          />\r\n        </Modal>\r\n\r\n        <Modal\r\n          isOpen={modalVSConfirmationSent}\r\n          closeModal={() => setModalVSConfirmationSent(false)}\r\n          okButton={false}\r\n        >\r\n          <ModalVSConfirmationSent closeModal={() => setModalVSConfirmationSent(false)} />\r\n        </Modal>\r\n\r\n        <Modal\r\n          isOpen={modalSimValidation}\r\n          closeModal={() => setModalSimValidation(false)}\r\n          okButton={false}\r\n        >\r\n          <ModalSimValidation\r\n            closeModal={() => setModalSimValidation(false)}\r\n            onClick={handleValidateScenario}\r\n            results={results}\r\n          />\r\n        </Modal>\r\n\r\n        <div id=\"results-top-box\" className=\"title\">\r\n          <h1>{RESULTS_TITLE}</h1>\r\n        </div>\r\n\r\n        {RESULTS_SAMPLE_DISPLAY.map((item) => {\r\n          const title = item.title;\r\n          const subtitle = item.subtitle;\r\n          const indicators = results.indicators;\r\n          const graphs = results.graphs[item.key];\r\n          const graphYMaximum = item.graphYMaximum;\r\n          const indicatorObjectives = item.indicatorObjectives;\r\n\r\n          return (\r\n            <div key={item.key} id=\"results-climat-box\" className=\"flex-item flex-column\">\r\n              <h4>{title}</h4>\r\n              <div className=\"results-content-box\">\r\n                <div className=\"graph-box\">\r\n                  {subtitle && <p>{subtitle}</p>}\r\n                  <div className=\"graph-compo\">\r\n                    {item.graphType && <CompoChart datas={graphs} graphYMaximum={graphYMaximum}/>}\r\n                  </div>\r\n                </div>\r\n                <div className=\"indicators-box\">\r\n                  {indicators[item.key].main && (\r\n                    <div className=\"indicators-main-box\">\r\n                      <ResultsIndicator\r\n                        indicator={indicators[item.key].main[0]}\r\n                        backgroundColor={handleIndicatorColor(\r\n                          indicators[item.key].main[0].value,\r\n                          indicatorObjectives,\r\n                        )}\r\n                        color={fontColor}\r\n                        width=\"100%\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"indicators-secondary-box\">\r\n                    {indicators[item.key].secondary.map((indicator, i) => {\r\n                      return (\r\n                        <ResultsIndicator\r\n                          key={indicator.name}\r\n                          i={i}\r\n                          indicator={indicator}\r\n                          backgroundColor={\r\n                            item.priority === \"secondary\"\r\n                              ? handleIndicatorColor(\r\n                                  indicator.value,\r\n                                  indicatorObjectives[i],\r\n                                )\r\n                              : secondaryColor\r\n                          }\r\n                          color={fontColor}\r\n                          width={handleIndicatorWidth(indicators[item.key].secondary.length)}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        <button type=\"button\" className=\"btn primary-btn sim-main-btn\" onClick={() => setModalSimValidation(true)}>\r\n          Valider mon scénario\r\n        </button>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  // if (width > 600) {\r\n  //   return (\r\n  //     <section className=\"sim-results-box flex-item flex-column\">\r\n  //       <div id=\"results-top-box\" className=\"flex-item flex-column\">\r\n  //         <h1>Impacts sur le territoire - 2030</h1>\r\n  //         <div id=\"results-impacts-box\" className=\"flex-item\">\r\n  //           <p className=\"results-title n1\">Températures</p>\r\n  //           <div\r\n  //             className=\"results-figure n2 flex-item\"\r\n  //             style={{ backgroundImage: tempColor(), color: \"white\" }}\r\n  //           >\r\n  //             +{results.impacts.temperature}°C\r\n  //           </div>\r\n  //           <p className=\"results-legend n3\">\r\n  //             Hausse moy. mondiale / 2100 (de {results.impacts.temperatureRange})\r\n  //           </p>\r\n  //           <p className=\"results-title n4\">Scénario GIEC</p>\r\n  //           <div className=\"results-figure n5 flex-item\" style={{ backgroundColor: \"#e9e7ec\" }}>\r\n  //             {results.impacts.RCP}\r\n  //           </div>\r\n  //           <p className=\"results-legend n6\">\r\n  //             Scénario GIEC de vos mesures (\r\n  //             <a\r\n  //               href=\"https://leclimatchange.fr/les-elements-scientifiques/\"\r\n  //               target=\"_blank\"\r\n  //               rel=\"noopener noreferrer\"\r\n  //               style={{ fontWeight: \"bold\", color: \"#DB7093\" }}\r\n  //             >\r\n  //               Plus d'infos\r\n  //             </a>\r\n  //             )\r\n  //           </p>\r\n  //           <p className=\"results-title n7\">Empreinte carbone</p>\r\n  //           <div className=\"results-figure n8 flex-item\" style={{ backgroundColor: \"#eda54e\" }}>\r\n  //             {results.impacts.empreinteMonde}t\r\n  //           </div>\r\n  //           <p className=\"results-legend n9\">tCO2e / an / hab. en 2030</p>\r\n  //         </div>\r\n  //       </div>\r\n\r\n  //       <div id=\"results-bottom-box\" className=\"flex-item flex-column\">\r\n  //         <div id=\"results-emissions\" className=\"flex-item flex-column\">\r\n  //           <h1>Ma projection française</h1>\r\n  //           <div id=\"results-impacts-box2\" className=\"flex-item\">\r\n  //             <p className=\"results-title b1\">Évolution émissions</p>\r\n  //             <div\r\n  //               className=\"results-figure b2 flex-item\"\r\n  //               style={{ backgroundColor: \"#40E0D0\", color: \"#163E59\" }}\r\n  //             >\r\n  //               {results.impacts.reductionEmission2030}\r\n  //             </div>\r\n  //             <p className=\"results-legend b3\">Entre 2020 et 2030</p>\r\n\r\n  //             <p className=\"results-title b4\">Émissions annuelles</p>\r\n  //             <div\r\n  //               className=\"results-figure b5 flex-item flex-column\"\r\n  //               style={{ backgroundColor: \"#40E0D0\", color: \"#163E59\" }}\r\n  //             >\r\n  //               <p>{results.impacts.emissionMoy}</p>\r\n  //               <p className=\"figure-unit\">MtCO2</p>\r\n  //             </div>\r\n  //             <p className=\"results-legend b6\">Entre 2020 et 2030</p>\r\n\r\n  //             <p className=\"results-title b7\">Empreinte carbone</p>\r\n  //             <div className=\"results-figure b8 flex-item\" style={{ backgroundColor: \"#eda54e\" }}>\r\n  //               {results.impacts.empreinteFr}t\r\n  //             </div>\r\n  //             <p className=\"results-legend b9\">tCO2e / an / hab. en 2030</p>\r\n  //           </div>\r\n  //         </div>\r\n\r\n  //         <div id=\"results-emissions-charts-container\">\r\n  //           <div className=\"chart g1\">\r\n  //             <AreaChart datas={results.emiSecteurGnl} xOffset={0} yOffset={-150} />\r\n  //           </div>\r\n  //           <p className=\"g2\">Emissions Totales</p>\r\n\r\n  //           <div className=\"chart g3\">\r\n  //             <Sunburst datas={results.emiSecteurPie.graph} />\r\n  //           </div>\r\n  //           <p className=\"g4\">Par Secteur / 2030</p>\r\n  //         </div>\r\n\r\n  //         <div id=\"results-button\" className=\"flex-item\">\r\n  //           <Link to={{ pathname: \"/results\", state: { results: results } }}>\r\n  //             <button className=\"blue-btn\">Résultats complets</button>\r\n  //           </Link>\r\n  //         </div>\r\n  //       </div>\r\n  //     </section>\r\n  //   );\r\n  // }\r\n  // if (width <= 600) {\r\n  //   return (\r\n  //     <>\r\n  //       <section>\r\n  //         <div id=\"results-emissions\" className=\"flex-item flex-column\">\r\n  //           <h1>Ma projection française</h1>\r\n  //           <div id=\"results-impacts-box2\" className=\"flex-item\">\r\n  //             <p className=\"results-title b1\">Évolution émissions</p>\r\n  //             <div\r\n  //               className=\"results-figure b2 flex-item\"\r\n  //               style={{ backgroundColor: \"#40E0D0\", color: \"#163E59\" }}\r\n  //             >\r\n  //               {results.impacts.reductionEmission2030}\r\n  //             </div>\r\n  //             <p className=\"results-legend b3\">Entre 2020 et 2030</p>\r\n\r\n  //             <p className=\"results-title b4\">Émissions annuelles</p>\r\n  //             <div\r\n  //               className=\"results-figure b5 flex-item flex-column\"\r\n  //               style={{ backgroundColor: \"#40E0D0\", color: \"#163E59\" }}\r\n  //             >\r\n  //               <p>{results.impacts.emissionMoy}</p>\r\n  //               <p className=\"figure-unit\">MtCO2</p>\r\n  //             </div>\r\n  //             <p className=\"results-legend b6\">Entre 2020 et 2030</p>\r\n\r\n  //             <p className=\"results-title b7\">Empreinte carbone</p>\r\n  //             <div className=\"results-figure b8 flex-item\" style={{ backgroundColor: \"#eda54e\" }}>\r\n  //               {results.impacts.empreinteFr}t\r\n  //             </div>\r\n  //             <p className=\"results-legend b9\">tCO2e / an / hab. en 2030</p>\r\n  //           </div>\r\n  //           <div id=\"results-button\" className=\"flex-item\">\r\n  //             <Link to={{ pathname: \"/results\", state: { results } }}>\r\n  //               <button type=\"button\" className=\"blue-btn\">\r\n  //                 Résultats complets\r\n  //               </button>\r\n  //             </Link>\r\n  //           </div>\r\n  //         </div>\r\n  //         <div id=\"results-top-box\" className=\"flex-item flex-column\">\r\n  //           <h1>Ma projection mondiale</h1>\r\n  //         </div>\r\n  //       </section>\r\n  //       <div id=\"results-impacts-box\" className=\"flex-item\">\r\n  //         <p className=\"results-title n1\">Températures</p>\r\n  //         <div className=\"results-figure n2 flex-item\" style={{ color: \"white\" }}>\r\n  //           +{results.impacts.temperature}\r\n  //           °C\r\n  //         </div>\r\n  //         <p className=\"results-legend n3\">\r\n  //           Hausse moy. mondiale / 2100 (de {results.impacts.temperatureRange})\r\n  //         </p>\r\n  //         <p className=\"results-title n4\">Scénario GIEC</p>\r\n  //         <div className=\"results-figure n5 flex-item\" style={{ backgroundColor: \"#e9e7ec\" }}>\r\n  //           {results.impacts.RCP}\r\n  //         </div>\r\n  //         <p className=\"results-legend n6\">\r\n  //           Scénario GIEC de vos mesures (\r\n  //           <a\r\n  //             href=\"https://leclimatchange.fr/les-elements-scientifiques/\"\r\n  //             target=\"_blank\"\r\n  //             rel=\"noopener noreferrer\"\r\n  //             style={{ fontWeight: \"bold\", color: \"#DB7093\" }}\r\n  //           >\r\n  //             Plus d'infos\r\n  //           </a>\r\n  //           )\r\n  //         </p>\r\n  //         <p className=\"results-title n7\">Empreinte carbone</p>\r\n  //         <div className=\"results-figure n8 flex-item\" style={{ backgroundColor: \"#eda54e\" }}>\r\n  //           {results.impacts.empreinteMonde}t\r\n  //         </div>\r\n  //         <p className=\"results-legend n9\">tCO2e / an / hab. en 2030</p>\r\n  //       </div>\r\n  //     </>\r\n  //   );\r\n  // }\r\n};\r\n\r\nexport default ResultsSample;\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nconst SimulatorLoader = () => {\r\n  return (\r\n    <div id=\"loader\">\r\n      <Loader type=\"BallTriangle\" color=\"white\" height={100} width={100} />\r\n      <div className=\"hidden\">||</div>\r\n      <h3>Initialisation</h3>\r\n      <h4 className=\"light-text\">Nous préparons votre environnement de travail.</h4>\r\n      <h4 className=\"light-text\">L'attente ne devrait pas durer plus de 5 secondes.</h4>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SimulatorLoader;\r\n","/// BASIC\r\nimport React, { useContext, useState, useEffect } from \"react\";\r\n\r\nimport { Helmet } from \"react-helmet\";\r\nimport ReactGA from \"react-ga\";\r\nimport jsonFile from \"ressources/initialDatas.json\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCog } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\n/// COMPONENTS\r\nimport SimulatorSettings from \"components/simulateur/SimulatorSettings\";\r\nimport SimulatorNavigation from \"components/simulateur/SimulatorNavigation\";\r\nimport OptionsBox from \"components/simulateur/OptionsBox\";\r\nimport ResultsSample from \"components/simulateur/ResultsSample\";\r\nimport SimulatorLoader from \"components/simulateur/SimulatorLoader\";\r\nimport { useGlobalContext } from \"Contexts/GlobalContext\";\r\n// Custom Hooks\r\nimport { useVisibility } from \"hooks/useVisibility\";\r\n\r\n// Utility functions\r\nimport { getUrl } from \"utils/getUrl\";\r\nimport { getValuesFormatted } from \"utils/getValuesFormatted\";\r\nimport { getValuesFromUrl } from \"utils/getValuesFromUrl\";\r\n\r\nimport api from \"api/APIHandler\";\r\nimport \"styles/simulator.css\";\r\nimport \"styles/app.css\";\r\n\r\nconst Simulator = (props) => {\r\n  // const [values, setValues] = useState(null);\r\n  // const [results, setResults] = useState(null); // jsonFile.results\r\n  const [modeExpert, setModeExpert] = useState(false);\r\n  const [showOptions, hideOptions, isVisible] = useVisibility(false);\r\n  const { globalState } = useGlobalContext();\r\n  const { results, values } = globalState;\r\n\r\n  function handleInitValues(e) {\r\n    const values = {\r\n      init: \"vInit\",\r\n      vMin: \"vMin\",\r\n      \"1degre5\": \"v15\",\r\n      bau: \"vBaU\",\r\n      vMax: \"vMax\",\r\n    };\r\n\r\n    const initMode = e.target.value;\r\n    const valuesTemp = jsonFile.options[values[initMode]];\r\n\r\n    const idSheet = localStorage.getItem(\"idSheet-Lysed\");\r\n    const valuesFormatted = getValuesFormatted(valuesTemp, jsonFile.options.unit);\r\n\r\n    api\r\n      .patch(\"/sheet/updateonly/\" + idSheet, { values: valuesFormatted })\r\n      .then((res) => {\r\n        window.location.reload();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  // function handleAreaData(datas) {\r\n  //   datas.areaDatas = [...datas.areaDatas].reverse();\r\n  //   return datas;\r\n  // }\r\n\r\n  const handleModeExpert = (value) => {\r\n    setModeExpert(value);\r\n  };\r\n\r\n  if (!values || !results) {\r\n    return <SimulatorLoader />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Mission Climat / Simulateur</title>\r\n        <meta name=\"description\" content=\"Simulateur de scénarios climat à l'échelle nationale\" />\r\n        <link rel=\"canonical\" href=\"http://mission-climat.io/simulator/\" />\r\n      </Helmet>\r\n\r\n      <div className=\"sim-page flex-item\">\r\n        <section className=\"sim-container-box\">\r\n          <div id=\"sim-title\" className=\"title\">\r\n            <h1>Mesures sur le territoire - 2030</h1>\r\n            {/* options */}\r\n            <button className=\"icon-btn flex-item acenter\" type=\"button\">\r\n              <FontAwesomeIcon icon={faCog} />\r\n              <span onClick={showOptions}>Options</span>\r\n            </button>\r\n          </div>\r\n          <SimulatorNavigation\r\n            leftNavData={jsonFile.nav[0]}\r\n            showOptions={showOptions}\r\n            isActiveOptions={isVisible}\r\n          />\r\n\r\n          <div className=\"sim-main-box\">\r\n            {isVisible && (\r\n              <OptionsBox\r\n                modeExpert={modeExpert}\r\n                hideOptions={hideOptions}\r\n                handleInitValues={handleInitValues}\r\n                handleModeExpert={handleModeExpert}\r\n              />\r\n            )}\r\n\r\n            <SimulatorSettings modeExpert={modeExpert} />\r\n          </div>\r\n        </section>\r\n\r\n        <ResultsSample jsonFile={jsonFile} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Simulator;\r\n","import { useState } from \"react\";\r\n\r\nexport const useVisibility = (initialState = false) => {\r\n  const [isVisible, setIsVisible] = useState(initialState);\r\n\r\n  function show(event) {\r\n    //   TODO Search why we have to prevent default\r\n    event.preventDefault();\r\n    setIsVisible(true);\r\n  }\r\n\r\n  function hide(event) {\r\n    //   TODO Search why we have to prevent default\r\n    event.preventDefault();\r\n    setIsVisible(false);\r\n  }\r\n\r\n  return [show, hide, isVisible];\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  AreaChart,\r\n  Area,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nconst SimulatorResultsAreaChart = ({ datas, xOffset, yOffset }) => {\r\n  const data = datas.data.data;\r\n\r\n  function toolTipContent({ payload, label }) {\r\n    var annualEmi = 0;\r\n    payload.forEach((data) => (annualEmi += data.value));\r\n    return (\r\n      <div\r\n        id=\"area-tooltip\"\r\n        className=\"chart-tooltip flex-item flex-column\"\r\n        style={{ backgroundColor: \"white\" }}\r\n      >\r\n        <h4 style={{ color: \"#163e59\" }}>\r\n          Année : {label} / {Math.round(annualEmi)} {datas.data.yTitle}\r\n        </h4>\r\n        {payload.reverse().map((area, i) => (\r\n          <div key={i} className=\"flex-item\">\r\n            <div\r\n              key={\"l\" + i}\r\n              className=\"legend-point\"\r\n              style={{ backgroundColor: area.color }}\r\n            ></div>\r\n            <p key={\"t\" + i} style={{ color: \"#163E59\" }}>\r\n              {area.name} : {area.value} {datas.data.yTitle}\r\n            </p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ResponsiveContainer height=\"100%\" width=\"100%\">\r\n      <AreaChart data={data}>\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <XAxis dataKey=\"name\" stroke=\"white\" />\r\n        <YAxis stroke=\"white\" />\r\n        <Tooltip content={toolTipContent} position={{ x: xOffset, y: yOffset }} />\r\n        {datas.areaDatas.map((area, i) => (\r\n          <Area\r\n            key={i}\r\n            fillOpacity=\"1\"\r\n            dataKey={area.dataKey}\r\n            stackId=\"1\"\r\n            stroke={area.color}\r\n            fill={area.color}\r\n          />\r\n        ))}\r\n      </AreaChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default SimulatorResultsAreaChart;\r\n","import React from \"react\";\r\nimport { PieChart, Pie, Cell, Label, Tooltip, ResponsiveContainer } from \"recharts\";\r\n\r\nconst SunburstChart = React.forwardRef(({ datas }, ref) => {\r\n  function toolTipContent(e) {\r\n    return e.payload[0] ? (\r\n      <p className=\"chart-tooltip\" style={{ backgroundColor: \"white\", color: \"#163E59\" }}>\r\n        {e.payload[0].name} : {Math.round(e.payload[0].value)} MtCO2\r\n      </p>\r\n    ) : (\r\n      \"\"\r\n    );\r\n  }\r\n\r\n  // e.payload[0].payload.payload.color\r\n\r\n  return (\r\n    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n      <PieChart>\r\n        <Pie data={datas.data01} dataKey=\"value\" outerRadius={\"60%\"} stroke=\"none\">\r\n          {datas.data01.map((entry, index) => (\r\n            <Cell key={`cell-${index}`} fill={entry.color} />\r\n          ))}\r\n        </Pie>\r\n        <Pie\r\n          data={datas.data02}\r\n          dataKey=\"value\"\r\n          innerRadius={\"70%\"}\r\n          outerRadius={\"100%\"}\r\n          stroke=\"none\"\r\n        >\r\n          {datas.data02.map((entry, index) => (\r\n            <Cell key={`cell-${index}`} fill={entry.color} />\r\n          ))}\r\n          <Label dataKey=\"value\" position=\"outside\" />\r\n        </Pie>\r\n        <Tooltip content={(e) => toolTipContent(e)} />\r\n      </PieChart>\r\n    </ResponsiveContainer>\r\n  );\r\n});\r\n\r\nexport default SunburstChart;\r\n","import React from \"react\";\r\n\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  CartesianGrid,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nconst resGenLinearChart = ({ datas }) => {\r\n  function toolTipContent(e) {\r\n    return (\r\n      <div\r\n        id=\"area-tooltip\"\r\n        className=\"chart-tooltip flex-item flex-column\"\r\n        style={{ backgroundColor: \"white\" }}\r\n      >\r\n        <h4 style={{ color: \"#163e59\" }}>Année : {e.label}</h4>\r\n        {e.payload.reverse().map((area, i) => (\r\n          <div key={i} className=\"flex-item\">\r\n            <div\r\n              key={\"l\" + i}\r\n              className=\"legend-point\"\r\n              style={{ backgroundColor: area.color }}\r\n            ></div>\r\n            <p key={\"t\" + i} style={{ color: \"#163E59\" }}>\r\n              {area.name} : {area.value} {datas.yTitle}\r\n            </p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ResponsiveContainer height=\"100%\" width=\"100%\">\r\n      <LineChart data={datas.data} margin={{ top: 5, right: 20, bottom: 5, left: 0 }}>\r\n        {datas.line.map((dat, i) => (\r\n          <Line\r\n            key={i}\r\n            dataKey={dat.dataKey}\r\n            stroke={dat.color}\r\n            dotWidth={10}\r\n            dotHeight={10}\r\n            strokeWidth={5}\r\n          />\r\n        ))}\r\n        <CartesianGrid stroke=\"#ccc\" strokeDasharray=\"5\" />\r\n        <XAxis dataKey=\"name\" stroke=\"white\" />\r\n        <YAxis stroke=\"white\" />\r\n        <Tooltip content={(e) => toolTipContent(e)} />\r\n      </LineChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default resGenLinearChart;\r\n","import React from \"react\";\r\n\r\nimport SimulatorResultsAreaChart from \"../simulateur/SimulatorResultsAreaChart\";\r\nimport Sunburst from \"../simulateur/SunburstChart\";\r\nimport LineChart from \"./resGenLinearChart\";\r\nimport CompoChart from \"./compoChart\";\r\n\r\nconst Graph = ({ type, datas }) => {\r\n  const types = {\r\n    Sunburst,\r\n    Line: LineChart,\r\n    CompoChart,\r\n    AreaChart: SimulatorResultsAreaChart,\r\n  };\r\n\r\n  const Component = types[type];\r\n\r\n  return <Component datas={datas} isXAxis isYAxis />;\r\n};\r\n\r\nconst ChartContainer = ({\r\n  title,\r\n  subtitle,\r\n  graphData,\r\n  graphType,\r\n  graphText,\r\n  legendData,\r\n  sourceData,\r\n}) => {\r\n  function handleInnerHTML(text) {\r\n    return { __html: text };\r\n  }\r\n  return (\r\n    <div className=\"flex-item flex-column res-emi-fr-box\">\r\n      <h3 dangerouslySetInnerHTML={handleInnerHTML(title)} />\r\n\r\n      <p dangerouslySetInnerHTML={handleInnerHTML(subtitle)} />\r\n\r\n      <div className=\"flex-column acenter\">\r\n        <div className=\"top-zone flex-item jbetween acenter\">\r\n          <div className=\"res-chart flex-column\">\r\n            <Graph type={graphType} datas={graphData} />\r\n          </div>\r\n\r\n          <div className=\"res-chart-infos flex-column\">\r\n            <p dangerouslySetInnerHTML={handleInnerHTML(graphText)} />\r\n\r\n            <p className=\"res-chart-source\" dangerouslySetInnerHTML={handleInnerHTML(sourceData)} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"res-chart-legend flex-item jcenter\">\r\n          {legendData.map((data, i) => (\r\n            <div key={i} className=\"flex-item\">\r\n              <div className=\"legend-point\" style={{ backgroundColor: data.color }} />\r\n\r\n              <div>\r\n                <p>{data.dataKey}</p>\r\n                <p>{data.subText}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChartContainer;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport ReactGA from \"react-ga\";\r\n\r\nimport { faLink, faDownload, faAngleUp } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nimport ResultsIndicator from \"../components/simulateur/ResultsIndicator\";\r\nimport ChartContainer from \"../components/resultats/ChartContainer\";\r\nimport ResultsSocial from \"../components/resultats/ResultsSocial\";\r\nimport CopyToClipboard from \"../components/CopyToClipboard\";\r\n\r\nimport \"../styles/results.css\";\r\n\r\nconst Results = (props) => {\r\n  console.log(props)\r\n  const [arrowVisibility, setArrowVisibility] = useState(\"hidden\");\r\n  const [results, setResults] = useState(null);\r\n\r\n  const indicatorObjectives = { climate: -40, energy: -20, air: [-70, -57] };\r\n\r\n  useEffect(() => {\r\n    let results = null;\r\n    if (localStorage.getItem(\"results\")) {\r\n      results = JSON.parse(localStorage.getItem(\"results\"));\r\n      setResults(results);\r\n    } else {\r\n      results = props.location.state.results;\r\n      localStorage.setItem(\"results\", JSON.stringify(results));\r\n      setResults(props.location.state.results);\r\n    }\r\n  }, []);\r\n\r\n  function handleIndicatorColor(data, obj) {\r\n    const objReached = (data / obj) * 100;\r\n    return objReached >= 100\r\n      ? \"#B0E440\"\r\n      : objReached >= 50 && objReached < 100\r\n      ? \"#FFF176\"\r\n      : \"#EB1818\";\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   if (!results) return;\r\n\r\n  //   ReactGA.event({\r\n  //     category: \"Results\",\r\n  //     action: \"temp:\" + results.impacts.temperature,\r\n  //   });\r\n  // }, [results]);\r\n\r\n  function handleClickTracking(type) {\r\n    ReactGA.event({\r\n      category: \"Click\",\r\n      action: type,\r\n    });\r\n  }\r\n\r\n  function handleInnerHTML(text) {\r\n    return { __html: text };\r\n  }\r\n\r\n  function areaLegend(datas, type) {\r\n    let dataValues = {};\r\n    let datasKey = \"\";\r\n    let unit = \"\";\r\n    if (type === \"area\") {\r\n      datasKey = \"areaDatas\";\r\n      dataValues = datas.data.data;\r\n      unit = datas.data.yTitle;\r\n    } else if (type === \"line\") {\r\n      dataValues = datas.data;\r\n      datasKey = \"line\";\r\n      unit = datas.yTitle;\r\n    }\r\n\r\n    function formatThousands(nb) {\r\n      nb += \"\";\r\n      if (nb.length > 3) {\r\n        const nbSplitted = nb.split(\".\");\r\n        nb = nbSplitted[0];\r\n\r\n        let finalNb = \"\";\r\n        for (let i = nb.length - 1; i >= 0; i--) {\r\n          if ((i - nb.length + 1) % 3 === 0 && i - nb.length + 1 !== 0) {\r\n            finalNb = `${nb[i]} ${finalNb}`;\r\n          } else {\r\n            finalNb = nb[i] + finalNb;\r\n          }\r\n        }\r\n        return nbSplitted.length > 1 ? `${finalNb}.${nbSplitted[1]}` : finalNb;\r\n      }\r\n      return nb;\r\n    }\r\n\r\n    datas[datasKey].map((data) => {\r\n      data.subText = `${formatThousands(\r\n        dataValues[dataValues.length - 1][data.dataKey],\r\n      )} ${unit} / Evolution : `;\r\n      const evolution = Math.round(\r\n        ((dataValues[dataValues.length - 1][data.dataKey] - dataValues[0][data.dataKey]) /\r\n          dataValues[0][data.dataKey]) *\r\n          100,\r\n      );\r\n      dataValues[0][data.dataKey] === 0\r\n        ? (data.subText += \" n/a\")\r\n        : evolution >= 0\r\n        ? (data.subText += `+${evolution}%`)\r\n        : (data.subText += `${evolution}%`);\r\n      return data;\r\n    });\r\n\r\n    const dataReversed = [...datas[datasKey]];\r\n    dataReversed.reverse();\r\n\r\n    return dataReversed;\r\n  }\r\n\r\n  function pieLegend(datas) {\r\n    datas.data01.map((data) => {\r\n      data.dataKey = data.name;\r\n      data.subText = `${Math.round(data.value)} MtCO2`;\r\n      return data;\r\n    });\r\n\r\n    return datas.data01;\r\n  }\r\n\r\n  window.addEventListener(\"scroll\", handleArrowVisibility);\r\n\r\n  function handleArrowVisibility() {\r\n    window.scrollY / window.innerHeight > 1\r\n      ? setArrowVisibility(\"visible\")\r\n      : setArrowVisibility(\"hidden\");\r\n  }\r\n\r\n  if (!results) return null;\r\n\r\n  return (\r\n    <div className=\"results-page flex-column acenter jcenter\">\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Mission Climat / Résultats</title>\r\n        <meta name=\"description\" content=\"Résultats complets de votre simulation Mission Climat\" />\r\n        <link rel=\"canonical\" href=\"http://mission-climat.io/licenses\" />\r\n      </Helmet>\r\n\r\n      <button type=\"button\" className=\"btn blinking-btn\" style={{ visibility: arrowVisibility }}>\r\n        <a href=\"#res-synthese\">\r\n          <FontAwesomeIcon icon={faAngleUp} />\r\n        </a>\r\n      </button>\r\n\r\n      <section className=\"main_container\">\r\n        <h1 className=\"container_title\">Résultats</h1>\r\n        <p>\r\n          Retrouvez sur cette page une synthèse de vos résultats et des graphiques vous permettant\r\n          de visualiser les conséquences de votre scénario.\r\n        </p>\r\n      </section>\r\n\r\n      <section id=\"res-synthese\" className=\"main_container flex-column\">\r\n        <h2 className=\"container_title\">Synthèse</h2>\r\n\r\n        <div className=\"flex-item jcenter\">\r\n          <ResultsIndicator\r\n            indicator={results.indicators.climate.main[0]}\r\n            color={handleIndicatorColor(\r\n              results.indicators.climate.main[0].value,\r\n              indicatorObjectives.climate,\r\n            )}\r\n          />\r\n\r\n          <ResultsIndicator\r\n            indicator={results.indicators.energy.main[0]}\r\n            color={handleIndicatorColor(\r\n              results.indicators.energy.main[0].value,\r\n              indicatorObjectives.energy,\r\n            )}\r\n          />\r\n\r\n          {results.indicators.air.secondary.map((indicator, i) => (\r\n            <ResultsIndicator\r\n              indicator={indicator}\r\n              color={handleIndicatorColor(indicator.value, indicatorObjectives.air[i])}\r\n            />\r\n          ))}\r\n\r\n          {/* <div id=\"res-synthese-buttons\" className=\"flex-item\">\r\n              <div title=\"Copier l'url avec mes paramètres\">\r\n                <CopyToClipboard text={results.url} fn={handleClickTracking.bind(null, \"copyURL\")}>\r\n                  <FontAwesomeIcon icon={faLink} />\r\n                </CopyToClipboard>\r\n              </div>\r\n\r\n              <div title=\"Télécharger le modèle de calcul des données\">\r\n                <a\r\n                  href=\"./2020-04-09_Scenario1.5.xlsx\"\r\n                  download\r\n                  onClick={() => handleClickTracking(\"modelDownloadResults\")}\r\n                >\r\n                  <FontAwesomeIcon icon={faDownload} />\r\n                </a>\r\n              </div>\r\n\r\n              <ResultsSocial\r\n                results={results}\r\n                fillColor=\"#34244E\"\r\n                handleClickTracking={handleClickTracking}\r\n              />\r\n            </div> */}\r\n        </div>\r\n      </section>\r\n\r\n      <div id=\"res-emi-fr\">\r\n        {Object.keys(results.completeResults).map((key, i) => (\r\n          <section className=\"main_container flex-column\">\r\n            <h2 className=\"container_title\">{results.completeResults[key].title}</h2>\r\n\r\n            <p dangerouslySetInnerHTML={handleInnerHTML(results.completeResults[key].intro)} />\r\n\r\n            {results.completeResults[key].graphs.map((graph, i) => (\r\n              <ChartContainer {...graph} />\r\n            ))}\r\n          </section>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Results;\r\n","import React, { useState } from \"react\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport api from \"../../api/APIHandler\";\r\n\r\nconst ModalCreateWorkshop = ({ closeModal, setWorkshopInfos, setModalWorkshopInfos }) => {\r\n  const [values, setValues] = useState({\r\n    workshop_name: \"\",\r\n    admin_name: \"\",\r\n    participants_nb: 0,\r\n    admin_email: \"\",\r\n  });\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true)\r\n    api\r\n      .post(\"/aggregator/workshop/\", { ...values })\r\n      .then((res) => {\r\n        setIsLoading(false)\r\n        closeModal();\r\n        setWorkshopInfos(res.data);\r\n        setModalWorkshopInfos(true);\r\n      })\r\n      .catch((err) => console.error(err));\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.id]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <div id=\"modal-create\">\r\n\r\n      {isLoading && (\r\n        <div id=\"sim_loader\" className=\"modal-parent\">\r\n          <div id=\"sim_loader_content\" className=\"modal-content\">\r\n            <Loader type=\"Oval\" color=\"#163E59\" height={100} width={100} />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <h2 className=\"container_title\">Créer mon atelier</h2>\r\n\r\n      <p>Entrez les informations nécessaires pour lancer votre atelier</p>\r\n\r\n      <form className=\"form flex-column\" onSubmit={(e) => handleSubmit(e)}>\r\n        <div className=\"input-box\">\r\n          <FormControl>\r\n            <InputLabel htmlFor=\"workshop_name\">Nom de l'atelier*</InputLabel>\r\n            <Input id=\"workshop_name\" onChange={(e) => handleChange(e)} required />\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel htmlFor=\"admin_name\">Nom du responsable / animateur</InputLabel>\r\n            <Input id=\"admin_name\" onChange={(e) => handleChange(e)} />\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel htmlFor=\"participants_nb\">Nombre de participants</InputLabel>\r\n            <Input id=\"participants_nb\" type=\"number\" onChange={(e) => handleChange(e)} />\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel htmlFor=\"admin_email\">E-mail*</InputLabel>\r\n            <Input id=\"admin_email\" type=\"email\" required onChange={(e) => handleChange(e)} />\r\n            <FormHelperText>Utile pour vous envoyer les codes d'administration de votre atelier. Il ne sera jamais utilisé à d'autres fins.</FormHelperText>\r\n          </FormControl>\r\n        </div>\r\n\r\n        <div className=\"button-box flex-item\">\r\n          <button type=\"button\" className=\"btn secondary-btn\" onClick={() => closeModal()}>\r\n            Annuler\r\n          </button>\r\n          <button type=\"submit\" className=\"btn primary-btn\">\r\n            Valider\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalCreateWorkshop;\r\n","import React from \"react\";\r\n\r\n//TO DO : url fonction de la version\r\n\r\nconst ModalWorkshopInfos = ({ workshopInfos, closeModal }) => {\r\n\r\n  return (\r\n    <div id=\"modal-confirm\" className=\"flex-column jcenter\">\r\n      <h2 className=\"container_title\">Atelier créé !</h2>\r\n\r\n      <p>\r\n        L'atelier \r\n        {' '}\r\n        <b>{workshopInfos.workshop_name}</b>\r\n        {' '}\r\n        a bien été créé. Les résultats seront visibles ici :\r\n        <br />\r\n        <span>\r\n          <a href={`https://mc-lysed.herokuapp.com/workshop/${workshopInfos.id}`}>\r\n            {`https://mc-lysed.herokuapp.com/workshop/${workshopInfos.id}`}\r\n          </a>\r\n        </span>\r\n      </p>\r\n\r\n      <p>\r\n        Le code atelier à transmettre aux participants, utile au moment de la validation du scénario (afin de lier leur travail à votre atelier) : \r\n        {' '}\r\n        <b>{workshopInfos.workshop_code}</b>\r\n      </p>\r\n\r\n      <p>\r\n        Le code administrateur, utile pour éditer ou supprimer l'atelier, à ne pas partager :\r\n        <br />\r\n        <b>{workshopInfos.admin_code}</b>\r\n      </p>\r\n\r\n      <p>Ces informations vous sont également transmises par e-mail.</p>\r\n\r\n      <button className=\"btn primary-btn\" type=\"button\" onClick={() => closeModal()}>\r\n        Ok\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalWorkshopInfos;\r\n","import React, { useState } from \"react\";\r\n\r\n// COMPONENTS\r\nimport Modal from \"../components/partials/Modal\";\r\nimport ModalCreateWorkshop from \"../components/Workshops/ModalCreateWorkshop\";\r\nimport ModalWorkshopInfos from \"../components/Workshops/ModalWorkshopInfos\";\r\n\r\n// STYLES\r\nimport \"../styles/workshops.css\";\r\n\r\nconst Workshops = () => {\r\n  const [modalCreateWorkshop, setModalCreateWorkshop] = useState(false);\r\n  const [modalWorkshopInfos, setModalWorkshopInfos] = useState(false);\r\n  const [workshopInfos, setWorkshopInfos] = useState({});\r\n\r\n  return (\r\n    <div id=\"workshops\" className=\"flex-item jcenter acenter\">\r\n      <Modal\r\n        isOpen={modalCreateWorkshop}\r\n        closeModal={() => setModalCreateWorkshop(false)}\r\n        okButton={false}\r\n      >\r\n        <ModalCreateWorkshop\r\n          closeModal={() => setModalCreateWorkshop(false)}\r\n          setWorkshopInfos={setWorkshopInfos}\r\n          setModalWorkshopInfos={setModalWorkshopInfos}\r\n        />\r\n      </Modal>\r\n\r\n      <Modal\r\n        isOpen={modalWorkshopInfos}\r\n        closeModal={() => setModalWorkshopInfos(false)}\r\n        okButton={false}\r\n      >\r\n        <ModalWorkshopInfos\r\n          workshopInfos={workshopInfos}\r\n          closeModal={() => setModalWorkshopInfos(false)}\r\n        />\r\n      </Modal>\r\n\r\n      <div className=\"main_container\">\r\n        <div className=\"left-pannel flex-column jcenter acenter\">\r\n          <h1 className=\"container_title\">Ateliers Mission Climat</h1>\r\n\r\n          <p>Mission Climat vous permet d'animer des ateliers !<br/><br/>\r\n          Un atelier Mission Climat propose à ses participants (seuls ou en groupes), de discuter et proposer des scénarios de transition permettant de remplir les objectifs du territoire.<br/><br/>\r\n          Notre module permet à l'animateur de cet ateliers de centraliser les propositions des participants et d'en ressortir les statistiques importantes (: )paramètres moyens, médians, écart-types, etc.) et ainsi d'identifier les mesures les plus ambitieuses, les plus partagées, etc. pour outiller l'intelligence collective du groupe.</p>\r\n\r\n          <button type=\"button\" className=\"btn primary-btn\" onClick={() => setModalCreateWorkshop(true)}>\r\n            Créer un atelier\r\n          </button>\r\n        </div>\r\n\r\n        <img src=\"./svg/createWorkshop.svg\" alt=\"people collaborating on graphs\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Workshops;\r\n","import React from \"react\";\r\nimport { faQuestionCircle } from \"@fortawesome/free-regular-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst IndicatorMain = ({ icon, value, unit, description }) => {\r\n  return (\r\n    <div className=\"indicator_main flex-column acenter\">\r\n      <FontAwesomeIcon icon={faQuestionCircle} />\r\n      \r\n      <p>\r\n        {value}\r\n        <span>{unit}</span>\r\n      </p>\r\n\r\n      <p>{description}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IndicatorMain;\r\n","import React from \"react\";\r\nimport {\r\n  BarChart,\r\n  Label,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  ReferenceLine,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nconst findI = (value, array) => {\r\n  const diffs = array.map((a) => Math.abs(a - value));\r\n  return array[diffs.indexOf(Math.min(...diffs))];\r\n};\r\n\r\nconst ParametersDistributionChart = ({ data }) => {\r\n  const min = data.min;\r\n  const max = data.max;\r\n  const median = data.median;\r\n  const average = data.average;\r\n  const stdev = data.stdev;\r\n  const unit = data.unit;\r\n  let step = null;\r\n  step = data.step;\r\n  const uniqueKey = slugify(data.name);\r\n\r\n  const values = [min];\r\n  let i = 0;\r\n\r\n  while (values[i] < max) {\r\n    i++;\r\n    values.push(min + i * step);\r\n  }\r\n\r\n  const sd1 = findI(median - stdev, values) + data.unit;\r\n  const sd2 = findI(median + stdev, values) + data.unit;\r\n  const medClosest = findI(median, values) + data.unit;\r\n  const meanClosest = findI(average, values) + data.unit;\r\n\r\n  function slugify(text) {\r\n    return text\r\n      .toString()\r\n      .toLowerCase()\r\n      .replace(/\\s+/g, \"-\") // Replace spaces with -\r\n      .replace(/[^\\w\\-]+/g, \"\") // Remove all non-word chars\r\n      .replace(/\\-\\-+/g, \"-\") // Replace multiple - with single -\r\n      .replace(/^-+/, \"\") // Trim - from start of text\r\n      .replace(/-+$/, \"\"); // Trim - from end of text\r\n  }\r\n\r\n  function handleData(data, unit) {\r\n    // 1. Build an array with all values possible\r\n    const values = [min];\r\n    let i = 0;\r\n\r\n    while (values[i] < max) {\r\n      i++;\r\n      values.push(min + i * step);\r\n    }\r\n\r\n    const barDatas = [];\r\n\r\n    // 2. Build the expected array\r\n    values.map((value, i, self) => {\r\n      const nbValues = data.filter((v) => v > value - step / 2 && v < value + step / 2).length;\r\n      // if (i==self.length-1) {nbValues += datas.data.filter(v => v === value + step /2).length}\r\n      barDatas.push({\r\n        value: value + unit,\r\n        nb: nbValues,\r\n      });\r\n    });\r\n    return barDatas;\r\n  }\r\n\r\n  function handleFill(uniqueKey) {\r\n    return `url(#${uniqueKey})`;\r\n  }\r\n\r\n  return (\r\n    <ResponsiveContainer height=\"80%\" width=\"100%\">\r\n      <BarChart data={handleData(data.wsValues, unit)}>\r\n        <defs>\r\n          <linearGradient id={uniqueKey} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n            <stop offset=\"5%\" stopColor={data.color} stopOpacity={0.5} />\r\n            <stop offset=\"95%\" stopColor={data.color} stopOpacity={0.5} />\r\n          </linearGradient>\r\n        </defs>\r\n        <XAxis dataKey=\"value\" stroke=\"var(--darkgrey)\" height={40} fontSize={12}>\r\n          <Label\r\n            value={data.description}\r\n            offset={0}\r\n            position=\"insideBottom\"\r\n            style={{ textAnchor: \"middle\", fill: \"var(--mainText)\", fontSize: \"12px\" }}\r\n          />\r\n        </XAxis>\r\n\r\n        <YAxis stroke=\"var(--darkgrey)\" interval={1} fontSize={12}>\r\n          <Label\r\n            value=\"Nb Résultats\"\r\n            offset={0}\r\n            position=\"center\"\r\n            style={{ textAnchor: \"middle\", fill: \"var(--mainText)\", fontSize: \"12px\" }}\r\n            angle={-90}\r\n          />\r\n        </YAxis>\r\n\r\n        <Tooltip />\r\n\r\n        <Bar type=\"basis\" fillOpacity=\"1\" dataKey=\"nb\" stroke=\"none\" fill={handleFill(uniqueKey)} />\r\n        <ReferenceLine x={sd1} stroke=\"var(--darkgrey)\" strokeWidth={3} strokeDasharray=\"5 5\" />\r\n        <ReferenceLine\r\n          x={medClosest}\r\n          stroke=\"var(--secondaryColor)\"\r\n          strokeWidth={5}\r\n          strokeDasharray=\"5 5\"\r\n        />\r\n        <ReferenceLine x={sd2} stroke=\"var(--darkgrey)\" strokeWidth={3} strokeDasharray=\"5 5\" />\r\n      </BarChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default ParametersDistributionChart;\r\n","import React from \"react\";\r\nimport ParametersDistributionChart from \"./ParametersDistributionChart\";\r\n\r\nconst ParametersDistributionBox = ({ data }) => {\r\n  return (\r\n    <div className=\"parameter_distribution_box\">\r\n      <h4 className=\"tab-btn active\">{data.name}</h4>\r\n      <p>{data.description}</p>\r\n\r\n      <ParametersDistributionChart data={data} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ParametersDistributionBox;\r\n","import React from \"react\";\r\nimport \"../../styles/table.css\";\r\n\r\nconst WSTable = ({ table, numberDisplayed }) => {\r\n  if (!table) {\r\n    return <></>;\r\n  }\r\n\r\n  if (numberDisplayed === \"all\") {\r\n    numberDisplayed = 10000;\r\n  }\r\n\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          {table.titles.map((cell, i) => (\r\n            <th key={i}>{cell}</th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {table.data.map(\r\n          (line, i) =>\r\n            i < numberDisplayed && (\r\n              <tr key={i}>\r\n                {line.map((cell, j) => (\r\n                  <td key={j}>{cell}</td>\r\n                ))}\r\n              </tr>\r\n            ),\r\n        )}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default WSTable;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport WSTable from \"./WSTable\";\r\nimport Modal from \"./Modal\";\r\n\r\nconst ParametersTables = ({ title, table, numberDisplayed }) => {\r\n  \r\n  const [isViewAll, setIsViewAll] = useState(false);\r\n  const [table2, setTable2] = useState(table);\r\n\r\n  return (\r\n    <div className=\"flex-column acenter\">\r\n      <Modal isOpen={isViewAll} closeModal={() => setIsViewAll(false)} okButton>\r\n        <h2 className=\"container_title\">Tous les paramètres</h2>\r\n        <WSTable table={table2} numberDisplayed=\"all\" />\r\n      </Modal>\r\n\r\n      {title}\r\n\r\n      <WSTable table={table} numberDisplayed={numberDisplayed} />\r\n\r\n      <button type=\"button\" className=\"btn secondary-btn\" onClick={() => setIsViewAll(true)}>\r\n        Voir tous\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ParametersTables;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faDownload, faTrash, faLink, faCalendarAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst ModalOptionsWorkshop = ({ openDelete, closeModal, url }) => {\r\n  \r\n\r\n  return (\r\n    <div className=\"workshop-options flex-column acenter\">\r\n      <h2 className=\"container_title\">Que voulez-vous faire ?</h2>\r\n\r\n      <div className=\"workshop-specs flex-item acenter\">\r\n        <FontAwesomeIcon icon={faLink} />\r\n        <a href={url} target=\"_blank\" rel=\"noreferrer\">\r\n          Voir le simulateur avec scénario médian\r\n        </a>\r\n      </div>\r\n\r\n      {/* <div className=\"workshop-specs flex-item acenter\">\r\n        <FontAwesomeIcon icon={faCalendarAlt} />\r\n        <p>\r\n          Filtrer du <input type=\"date\" name=\"startDate\" id=\"startDate\" /> au{\" \"}\r\n          <input type=\"date\" name=\"endDate\" id=\"endDate\" />\r\n        </p>\r\n      </div> */}\r\n\r\n      {/* <button className=\"btn primary-btn\" type=\"button\" onClick=\"\">\r\n        <FontAwesomeIcon icon={faDownload} />\r\n        Télécharger les données\r\n      </button> */}\r\n\r\n      <button\r\n        className=\"btn primary-btn danger-btn\"\r\n        type=\"button\"\r\n        onClick={() => {\r\n          closeModal();\r\n          openDelete();\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faTrash} />\r\n        Supprimer l'atelier\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalOptionsWorkshop;\r\n","import React, { useState } from \"react\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\n\r\nconst ModalDeleteWorkshop = ({ handleDeleteWS, closeModal }) => {\r\n  const [values, setValues] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.id]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleDeleteWS(values.admin_code);\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-delete-ws\">\r\n      <h2 className=\"container_title\">Suppression de l'atelier</h2>\r\n\r\n      <p>\r\n        Êtes-vous sûr(e) de vouloir supprimer cet atelier ? Toutes les informations seront\r\n        définitivement supprimées : ni vous ni les participants de l'atelier ne pourront y accéder à nouveau.\r\n      </p>\r\n\r\n      <form className=\"form\" onSubmit={(e) => handleSubmit(e)}>\r\n        <FormControl>\r\n          <InputLabel htmlFor=\"workshop_name\">Code administrateur*</InputLabel>\r\n          <Input id=\"admin_code\" onChange={(e) => handleChange(e)} required />\r\n          <FormHelperText>\r\n            Ce code vous a été transmis, si vous êtes bien le créateur de l'atelier, par e-mail.\r\n          </FormHelperText>\r\n        </FormControl>\r\n\r\n\r\n        <div className=\"button-box flex-item\">\r\n          <button type=\"button\" className=\"btn secondary-btn\" onClick={() => closeModal()}>\r\n            Annuler\r\n          </button>\r\n          <button type=\"submit\" className=\"btn primary-btn\">\r\n            Valider\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalDeleteWorkshop;\r\n","export function average(data) {\r\n    var sum = data.reduce(function (sum, value) {\r\n      return sum + value;\r\n    }, 0);\r\n  \r\n    var avg = sum / data.length;\r\n    return avg;\r\n  }","import React, { useState, useEffect } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport { standardDeviation } from \"../../utils/standardDeviation\";\r\nimport api from \"../../api/APIHandler\";\r\n\r\nimport { average } from \"../../utils/average\";\r\nimport WSTable from \"../partials/WSTable\";\r\n\r\nconst Participants = ({ medianParams, jsonFile, computedDatas, results, id }) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [WSResults, setWSResults] = useState(null);\r\n  const [detailsTable, setDetailsTable] = useState(null);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(`/aggregator/workshopsandresults/`)\r\n      .then((res) => {\r\n        \r\n        const ws = res.data.workshops.filter((w) => w.id === id)[0];\r\n        const resultsTemp = res.data.results.filter((r) => r.workshop_code_id === ws.workshop_code);\r\n\r\n        const indexDisplayed = computedDatas.parameters.map(param => param.index)\r\n\r\n        resultsTemp.map(result => {\r\n          let paramTemp=[];\r\n          result.data.parameters.forEach(param => {\r\n            if (indexDisplayed.includes(param.index)) {paramTemp.push(param)}\r\n          })\r\n          result.data.parameters = paramTemp\r\n        })\r\n        setWSResults(resultsTemp);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  //\r\n  useEffect(() => {\r\n\r\n    if (WSResults) {\r\n      WSResults.map((ws) => {\r\n        // get average of the deviation to median\r\n        const devToMedian = ws.data.parameters.map((param, i) => {\r\n          if (param.value === 0 && medianParams[i] === 0) {\r\n            return 0;\r\n          }\r\n          if (param.value === 0 || medianParams[i] === 0) {\r\n            return 100;\r\n          }\r\n          return Math.round(\r\n            (Math.abs(param.value - medianParams[i]) / medianParams[i]) *\r\n              100,\r\n            1,\r\n          );\r\n        });\r\n\r\n        ws.average = Math.round(average(devToMedian), 1);\r\n\r\n        // get nbModifs\r\n        ws.nbModifs = ws.data.parameters.filter(\r\n          (param, i) => param.value !== computedDatas.parameters[i].value).length;\r\n\r\n        // get nbResults\r\n        ws.nbResults = ws.data.parameters.length;\r\n      });\r\n      \r\n      const tableTemp = {\r\n        titles: [\"Groupe / Participant\", \"Date\" , \"Nb modifications\", \"Nb résultats\", \"% modifications\", \"% Proximité à la médiane\"],\r\n        data: WSResults.map((ws) => {\r\n          const dateWS = new Date(ws.data.dateCreated);\r\n          const LocalDateWS = dateWS.toLocaleDateString()\r\n          return [\r\n            ws.group_name,\r\n            LocalDateWS,\r\n            ws.nbModifs,\r\n            ws.nbResults,\r\n            `${Math.round((ws.nbModifs / ws.nbResults) * 100, 0)}%`,\r\n            ws.average,\r\n          ]\r\n        }),\r\n      };\r\n\r\n      setDetailsTable(tableTemp);\r\n    }\r\n  }, [WSResults]);\r\n\r\n  return (\r\n    <div className=\"main_container users-page\">\r\n      {isLoading && (\r\n        <div id=\"sim_loader\" className=\"modal-parent flex-item jcenter acenter\">\r\n          <Loader type=\"Oval\" color=\"var(--mainColor)\" height={100} width={100} />\r\n        </div>\r\n      )}\r\n\r\n      <h1 className=\"container_title\">Participants</h1>\r\n\r\n      <h3 className=\"container_secondary_title\">Détails</h3>\r\n\r\n      {detailsTable && <WSTable table={detailsTable} numberDisplayed=\"all\" />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Participants;\r\n","import { median } from \"utils/median\";\r\nimport { average } from \"utils/average\";\r\nimport { standardDeviation } from \"utils/standardDeviation\";\r\n\r\nexport function computeData(wsData, jsonData) {\r\n    // function used to get all datas needed to display\r\n    //     - mean, median, stdev, ambitious, used, isComplete\r\n\r\n    //TODO : handle list type parameter\r\n    //TODO : calculate the ambition\r\n\r\n    const onlyUnique = (value, index, self) => {\r\n      return self.indexOf(value) === index;\r\n    }\r\n\r\n    const categories = [];\r\n    wsData.results.map((res) => res.parameters.map((param) => categories.push(param.category)));\r\n    const uniqueCategories = categories.filter(onlyUnique);\r\n\r\n    const isComplete =\r\n      jsonData.categories\r\n        .map((category) => uniqueCategories.includes(category.data.name))\r\n        .filter((v) => !v).length > 0\r\n        ? false\r\n        : true;\r\n\r\n    let finalDatas = {\r\n      parameters: [],\r\n      uniqueCategories,\r\n      isComplete,\r\n    };\r\n\r\n    const wsParams = wsData.results\r\n      .map((result) => result.parameters)\r\n      .reduce((a, v) => [...a, ...v]);\r\n\r\n    jsonData.categories.map((category, i) => {\r\n      if (uniqueCategories.includes(category.data.name)) {\r\n        category.parameters.map((param, j) => {\r\n\r\n          if (param.data.displayed) {\r\n\r\n            finalDatas.parameters.push({\r\n              category: category.data.name,\r\n              color: category.data.color,\r\n              colorHover: category.data.colorHover,\r\n              ...param.type,\r\n              ...param.data,\r\n            });\r\n\r\n\r\n            let wsValues = wsParams.filter((v) => v.index === param.data.index).map((v) => v.value);\r\n\r\n            const index = finalDatas.parameters.length - 1\r\n\r\n            finalDatas.parameters[index].wsValues = wsValues;\r\n            finalDatas.parameters[index].median = Math.round(median(wsValues)*100)/100;\r\n            finalDatas.parameters[index].average = Math.round(average(wsValues)*100)/100;\r\n            finalDatas.parameters[index].stdev = Math.round(standardDeviation(wsValues)*100)/100;\r\n            finalDatas.parameters[index].stdevRel = Math.round((finalDatas.parameters[index].stdev / finalDatas.parameters[index].average) * 100 * 100) / 100;\r\n            finalDatas.parameters[index].nbModif = wsValues.filter((v) => v !== param.data.value).length;\r\n\r\n            finalDatas.parameters[index].nbResults = wsValues.length;\r\n\r\n          }\r\n\r\n          //ambition to add\r\n        });\r\n      }\r\n    });\r\n\r\n    const setTableDatas = (data, type, key) => {\r\n      let table = { titles: [\"Secteur\", \"Paramêtre\", type] };\r\n      let tableRev = { titles: table.titles };\r\n\r\n      let tableData = [];\r\n      data.parameters.map((param) => {\r\n        tableData.push([param.category, param.name, param[key]]);\r\n      });\r\n\r\n      table.data = [...tableData.sort((a, b) => b[2] - a[2])];\r\n      tableRev.data = [...tableData.sort((a, b) => a[2] - b[2])];\r\n\r\n      return [{ ...table }, { ...tableRev }];\r\n    };\r\n\r\n    const [nbModifTable, nbModifRevTable] = setTableDatas(\r\n      finalDatas,\r\n      \"Nb de modifications\",\r\n      \"nbModif\",\r\n    );\r\n    const [consensusTable, consensusRevTable] = setTableDatas(\r\n      finalDatas,\r\n      \"Ecart type relatif\",\r\n      \"stdevRel\",\r\n    );\r\n\r\n    finalDatas.nbModifTable = nbModifTable;\r\n    finalDatas.nbModifRevTable = nbModifRevTable;\r\n    finalDatas.consensusTable = consensusTable;\r\n    finalDatas.consensusRevTable = consensusRevTable;\r\n\r\n    return finalDatas;\r\n  };","export function median(values) {\r\n    if (values.length === 0) return 0;\r\n  \r\n    values.sort(function (a, b) {\r\n      return a - b;\r\n    });\r\n  \r\n    var half = Math.floor(values.length / 2);\r\n  \r\n    if (values.length % 2) return values[half];\r\n  \r\n    return (values[half - 1] + values[half]) / 2.0;\r\n  }","import { average } from \"utils/average\";\r\n\r\nexport function standardDeviation(values) {\r\n    var avg = average(values);\r\n  \r\n    var squareDiffs = values.map(function (value) {\r\n      var diff = value - avg;\r\n      var sqrDiff = diff * diff;\r\n      return sqrDiff;\r\n    });\r\n  \r\n    var avgSquareDiff = average(squareDiffs);\r\n  \r\n    var stdDev = Math.sqrt(avgSquareDiff);\r\n    return stdDev;\r\n  }","import React, { useState, useEffect } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faUser,\r\n  faLongArrowAltUp,\r\n  faLongArrowAltDown,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport api from \"../api/APIHandler\";\r\nimport IndicatorMain from \"../components/partials/IndicatorMain\";\r\nimport ParametersDistributionBox from \"../components/partials/ParametersDistributionBox\";\r\nimport ParametersTables from \"../components/partials/ParametersTables\";\r\nimport WSTable from \"../components/partials/WSTable\";\r\nimport Modal from \"../components/partials/Modal\";\r\nimport ModalOptionsWorkshop from \"../components/Workshops/ModalOptionsWorkshop\";\r\nimport ModalDeleteWorkshop from \"../components/Workshops/ModalDeleteWorkshop\";\r\nimport Participants from \"../components/Workshops/Participants\";\r\n\r\nimport { getValuesFormatted } from \"../utils/getValuesFormatted\";\r\nimport { getUrl } from \"../utils/getUrl\";\r\nimport { computeData } from \"../utils/computeData\";\r\nimport \"../styles/workshop_infos.css\";\r\nimport { median } from \"utils/median\";\r\n\r\n// TO DO : put in a config js\r\nconst aggregatorInfos = {\r\n  // TO DO : gérer le https\r\n  lysed: {\r\n    front: [\r\n      \"http://localhost:3000\",\r\n      \"http://lysed.mission-climat.io/\",\r\n      \"https://lysed.mission-climat.io/\",\r\n    ],\r\n    back: \"http://localhost:4000\",\r\n    spreadsheetId: \"1E0HeYFiCQ4wgMbYdMIWNbzMHdCnJoZP9Y-RODSWdtZY\",\r\n  },\r\n  lysed_prod_heroku: {\r\n    front: [\"https://mc-lysed.herokuapp.com/\", \"http://mc-lysed.herokuapp.com//\"],\r\n    back: \"https://mc-lysed.herokuapp.com\",\r\n    spreadsheetId: \"1E0HeYFiCQ4wgMbYdMIWNbzMHdCnJoZP9Y-RODSWdtZY\",\r\n  },\r\n  national: {\r\n    front: [\"http://mission-climat.io/\", \"https://mission-climat.io/\"],\r\n    back: \"https://mission1degre5server.herokuapp.com\",\r\n    spreadsheetId: \"1aXmD5u-MIiRPq0MYZ2DPFR7TWOVQezS8zJkgTLN-zHk\",\r\n  },\r\n};\r\n\r\nconst addNonDisplayedValues = (values, jsonFile) => {\r\n  let finalValues = [];\r\n  let counter = 0;\r\n  jsonFile.categories.map(cat => {\r\n    cat.parameters.map(param => {\r\n      if (param.data.displayed) {\r\n        finalValues.push(values[counter])\r\n        counter ++\r\n      }\r\n      else {\r\n        finalValues.push([param.data.value])\r\n      }\r\n    })\r\n  })\r\n  return finalValues\r\n}\r\n\r\nconst WorkshopInfos = (props) => {\r\n  // data got from the workshop api\r\n  const [workshopData, setWorkshopDataData] = useState(null);\r\n\r\n  // initial data from the MC version used for the workshop\r\n  // (with parameters & categories infos (colors, step, min, max....))\r\n  const [jsonFile, setJsonFile] = useState({});\r\n\r\n  // data computed from workshop & json with average, median, etc.\r\n  const [computedDatas, setComputedDatas] = useState(null);\r\n\r\n  // true if all the sectors have been worked during workshop\r\n  // (if not, there is no relevant complete result)\r\n  const [results, setResults] = useState(null);\r\n\r\n  const [indicators, setIndicators] = useState(null);\r\n\r\n  const [medianParams, setMedianParams] = useState(null);\r\n  const [meanParams, setMeanParams] = useState(null);\r\n  const [missionClimatVersion, setMissionClimatVersion] = useState(null);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [url, setUrl] = useState(\"\");\r\n  const [page, setPage] = useState(\"Synthèse\");\r\n  const [sector, setSector] = useState(\"Habitat\"); // TO DO : generic init\r\n  const [sectorTable, setSectorTable] = useState(null);\r\n\r\n  // MODALS\r\n  const [modalOptionsWS, setModalOptionsWS] = useState(false);\r\n  const [modalDeleteWS, setModalDeleteWS] = useState(false);\r\n\r\n\r\n  const [time, setTime] = useState(Date.now());\r\n\r\n  const id = props.match.params.id;\r\n\r\n  // GET WORKSHOP DATA\r\n  useEffect(() => {\r\n    api\r\n      .get(`/aggregator/workshop/${id}/`)\r\n      .then((res) => {\r\n        setWorkshopDataData(res.data);\r\n        // handle case if results\r\n        if (res.data.results.length !== 0) {\r\n          // getMissionClimatVersion\r\n          for (const aggregator in aggregatorInfos) {\r\n            aggregatorInfos[aggregator][\"front\"].map((version) => {\r\n              if (res.data.results[0].url.includes(version)) {\r\n                setMissionClimatVersion(aggregator);\r\n              }\r\n            });\r\n          }\r\n        } else {\r\n          // handle case no results yes\r\n          setIsLoading(false);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  // GET JSON DATA\r\n  useEffect(() => {\r\n    api\r\n      .get(\"/sheet/jsonfile\")\r\n      .then((res) => {\r\n        setJsonFile(res.data);\r\n        const computedDatasTemp = computeData(workshopData, res.data);\r\n        setComputedDatas(computedDatasTemp);\r\n        setMedianParams(computedDatasTemp.parameters.map((v) => [v.median]));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [missionClimatVersion]);\r\n\r\n  // GET RESULTS DATA\r\n  useEffect(() => {\r\n    if (medianParams && missionClimatVersion) {\r\n      \r\n      const medianParamsWithinAllData = jsonFile.options.vInit\r\n      computedDatas.parameters.forEach((param, i) => {\r\n        medianParamsWithinAllData[param.index]=medianParams[i];\r\n      })\r\n\r\n      const valuesFormatted = getValuesFormatted(medianParamsWithinAllData, jsonFile.options.unit);\r\n      \r\n      api\r\n        .patch(`/sheet/update/${aggregatorInfos[missionClimatVersion].spreadsheetId}`, {\r\n          values: valuesFormatted,\r\n        })\r\n        .then((res) => {\r\n          const resTemp = res.data.results;\r\n          setResults(resTemp);\r\n          const medianParamsComplete = addNonDisplayedValues(medianParams, jsonFile)\r\n          setUrl(getUrl(medianParamsComplete, jsonFile.parameters));\r\n          setIsLoading(false);\r\n\r\n          const indicatorsTemps = [];\r\n          for (const area in resTemp.indicators) {\r\n            for (const degree in resTemp.indicators[area]) {\r\n              resTemp.indicators[area][degree].map((v) => indicatorsTemps.push(v));\r\n            }\r\n          }\r\n          setIndicators(indicatorsTemps);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, [medianParams, missionClimatVersion]);\r\n\r\n  // GET SECTOR TABLE (PARAMETERS)\r\n  useEffect(() => {\r\n    if (computedDatas) {\r\n      const tableTemp = {\r\n        titles: [\r\n          \"Paramètre\",\r\n          \"Valeur médiane\",\r\n          \"Valeur moyenne\",\r\n          \"Ecart type\",\r\n          \"Ecart type relatif\",\r\n          \"Nb modifications\",\r\n          \"Nb résultats\",\r\n          \"% modifications\",\r\n        ],\r\n        data: [],\r\n      };\r\n      computedDatas.parameters.map((param) => {\r\n        if (param.category === sector) {\r\n          tableTemp.data.push([\r\n            param.name,\r\n            param.median + \" \" + param.unit,\r\n            param.average + \" \" + param.unit,\r\n            param.stdDev,\r\n            param.stdevRel,\r\n            param.nbModif,\r\n            param.nbResults,\r\n            `${((param.nbModif / param.nbResults) * 100).toFixed(2)} %`,\r\n          ]);\r\n        }\r\n      });\r\n      setSectorTable({ ...tableTemp });\r\n    }\r\n  }, [computedDatas, sector]);\r\n\r\n  const handleSectorsDetailTable = (table, sector) => {\r\n  \r\n    const titlesFinal = [];\r\n    table.titles.map((v,i)=>{\r\n      if (i>0) {titlesFinal.push(v)}\r\n    })\r\n  \r\n\r\n    let sectorData = [...table.data.filter((line) => line[0] === sector)];\r\n    if (sectorData.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    let dataFinal=[];\r\n    sectorData.map((line) => {\r\n      let data=[];\r\n      line.map((v,i)=>{\r\n        if (i>0) {data.push(v)}\r\n      })\r\n      dataFinal.push(data)\r\n    });\r\n\r\n    return { titles: titlesFinal, data: dataFinal };\r\n  };\r\n\r\n  const handleDeleteOption = () => {\r\n    setModalDeleteWS(true);\r\n  }\r\n\r\n  const handleDeleteWS = (admin_code) => {\r\n    api\r\n      .delete(`/aggregator/workshop/`, `${id}/?admin_code=${admin_code}`)\r\n      .then((res) => {\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div id=\"workshop_infos\" className=\"flex-column acenter\">\r\n      {isLoading && (\r\n        <div id=\"sim_loader\" className=\"modal-parent flex-item jcenter acenter\">\r\n          <Loader type=\"Oval\" color=\"var(--mainColor)\" height={100} width={100} />\r\n        </div>\r\n      )}\r\n\r\n      <Modal isOpen={modalOptionsWS} closeModal={() => setModalOptionsWS(false)} cancelButton>\r\n        <ModalOptionsWorkshop\r\n          openDelete={handleDeleteOption}\r\n          closeModal={() => setModalOptionsWS(false)}\r\n          url={url}\r\n          api={api}\r\n          id={id}\r\n        />\r\n      </Modal>\r\n\r\n      <Modal isOpen={modalDeleteWS} closeModal={() => setModalDeleteWS(false)}>\r\n        <ModalDeleteWorkshop\r\n          closeModal={() => setModalDeleteWS(false)}\r\n          handleDeleteWS={handleDeleteWS}\r\n        />\r\n      </Modal>\r\n\r\n      {/* /// HEADER /// */}\r\n      {workshopData && (\r\n        <div className=\"main_container workshop-summary\">\r\n          {/* 1 : NAME */}\r\n          <h1 className=\"workshop-name\">{workshopData.workshop_name}</h1>\r\n\r\n          {/* 2 : NAV */}\r\n          {workshopData.results.length > 0 && (\r\n            <div className=\"workshop-nav flex-item acenter jcenter\">\r\n              <button\r\n                className={page === \"Synthèse\" ? \"btn tab-btn active\" : \"btn tab-btn\"}\r\n                type=\"button\"\r\n                onClick={() => setPage(\"Synthèse\")}\r\n              >\r\n                Synthèse\r\n              </button>\r\n              <button\r\n                className={page === \"Secteurs\" ? \"btn tab-btn active\" : \"btn tab-btn\"}\r\n                type=\"button\"\r\n                onClick={() => setPage(\"Secteurs\")}\r\n              >\r\n                Secteurs et Paramètres\r\n              </button>\r\n              <button\r\n                className={page === \"Participants\" ? \"btn tab-btn active\" : \"btn tab-btn\"}\r\n                type=\"button\"\r\n                onClick={() => setPage(\"Participants\")}\r\n              >\r\n                Participants\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* 3 : SPECS + MENU */}\r\n          <div className=\"workshop-header-right flex-item acenter\">\r\n            <div className=\"workshop-specs flex-item acenter\">\r\n              <FontAwesomeIcon icon={faUser} />\r\n              <p>{workshopData.results.length}</p>\r\n            </div>\r\n\r\n            <button className=\"btn primary-btn\" type=\"button\" onClick={() => setModalOptionsWS(true)}>\r\n              Options\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* /// SYNTHESE /// */}\r\n      {page === \"Synthèse\" && (\r\n        <>\r\n          {/* >> RESULTATS */}\r\n          {indicators && (\r\n            <div className=\"main_container result-box\">\r\n              <h2 className=\"container_title\">Résultats</h2>\r\n\r\n              <h3 className=\"container_secondary_title\">Impacts généraux</h3>\r\n\r\n              {/* BADGES */}\r\n              <div className=\"indicator_box main-box flex-item\">\r\n                {indicators\r\n                  .filter((v) => v.impactGnl === \"1\")\r\n                  .map((indicator, i) => (\r\n                    <IndicatorMain\r\n                      key={i}\r\n                      icon={i}\r\n                      value={indicator.value}\r\n                      unit={indicator.unit}\r\n                      description={indicator.name}\r\n                    />\r\n                  ))}\r\n              </div>\r\n\r\n              {/* TABLE */}\r\n              <WSTable table={results.aggregator.impactGnlTable} numberDisplayed=\"all\" />\r\n\r\n              <h3 className=\"container_secondary_title\">Impacts sur le territoire</h3>\r\n\r\n              {/* BADGES */}\r\n              <div className=\"indicator_box secondary-box flex-item\">\r\n                {indicators\r\n                  .filter((v) => v.impactLcl === \"1\")\r\n                  .map((indicator,i) => (\r\n                    <IndicatorMain\r\n                      key={i}\r\n                      value={indicator.value}\r\n                      unit={indicator.unit}\r\n                      description={indicator.name}\r\n                    />\r\n                  ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* >> PARAMETRES */}\r\n          {indicators && (\r\n            <div className=\"main_container\">\r\n              <h2 className=\"container_title\">Paramètres clés</h2>\r\n\r\n              <h3 className=\"container_secondary_title\">Contributions</h3>\r\n\r\n              <div className=\"param-box flex-item acenter jbetween\">\r\n                <ParametersTables\r\n                  title={\r\n                    <h4 className=\"tab-btn active\">\r\n                      <FontAwesomeIcon icon={faLongArrowAltUp} />\r\n                      Les plus utilisés\r\n                    </h4>\r\n                  }\r\n                  table={computedDatas.nbModifTable}\r\n                  numberDisplayed={3}\r\n                />\r\n                <ParametersTables\r\n                  title={\r\n                    <h4 className=\"tab-btn active\">\r\n                      <FontAwesomeIcon icon={faLongArrowAltDown} />\r\n                      Les moins utilisés\r\n                    </h4>\r\n                  }\r\n                  table={computedDatas.nbModifRevTable}\r\n                  numberDisplayed={3}\r\n                />\r\n              </div>\r\n\r\n              <h3 className=\"container_secondary_title\">Consensus</h3>\r\n\r\n              <div className=\"param-box flex-item acenter jbetween\">\r\n                <ParametersTables\r\n                  title={\r\n                    <h4 className=\"tab-btn active\">\r\n                      <FontAwesomeIcon icon={faLongArrowAltUp} />\r\n                      Les plus consensuels\r\n                    </h4>\r\n                  }\r\n                  table={computedDatas.consensusRevTable}\r\n                  numberDisplayed={3}\r\n                />\r\n                <ParametersTables\r\n                  title={\r\n                    <h4 className=\"tab-btn active\">\r\n                      <FontAwesomeIcon icon={faLongArrowAltDown} />\r\n                      Les moins consensuels\r\n                    </h4>\r\n                  }\r\n                  table={computedDatas.consensusTable}\r\n                  numberDisplayed={3}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* /// SECTEURS /// */}\r\n      {page === \"Secteurs\" && (\r\n        <>\r\n          {computedDatas && (\r\n            <div className=\"main_container sector-page\">\r\n              {page === \"Secteurs\" && (\r\n                <div className=\"sectors-menu flex-item acenter jcenter\">\r\n                  {computedDatas.uniqueCategories.map((cat, i) => (\r\n                    <button\r\n                      className={sector === cat ? \"btn tab-btn active-bis\" : \"btn tab-btn\"}\r\n                      type=\"button\"\r\n                      id={i}\r\n                      onClick={() => setSector(cat)}\r\n                    >\r\n                      {cat}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              <h2 className=\"container_title\">Détails par secteur</h2>\r\n\r\n              <h3 className=\"container_secondary_title\">Secteurs - Résumé</h3>\r\n\r\n              {results && (\r\n                <WSTable\r\n                  table={handleSectorsDetailTable(\r\n                    { ...results.aggregator.sectorsDetailTable },\r\n                    sector,\r\n                  )}\r\n                  numberDisplayed=\"all\"\r\n                />\r\n              )}\r\n\r\n              <h3 className=\"container_secondary_title\">Paramètres - Résumé</h3>\r\n\r\n              {sectorTable && <WSTable table={sectorTable} numberDisplayed=\"all\" />}\r\n\r\n              <h3 className=\"container_secondary_title\">Paramètres - Distribution</h3>\r\n\r\n              <div id=\"parameters_distribution_container\" className=\"flex-item jbetween\">\r\n                {computedDatas.parameters\r\n                  .filter((param) => param.category === sector)\r\n                  .map((param, i) => (\r\n                    <ParametersDistributionBox key={i} data={param} />\r\n                  ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* /// PARTICIPANTS /// */}\r\n      {page === \"Participants\" && (\r\n        <Participants\r\n          medianParams={medianParams}\r\n          jsonFile={jsonFile}\r\n          computedDatas={computedDatas}\r\n          results={results}\r\n          id={id}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkshopInfos;\r\n","import React from \"react\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div>\r\n      <h1>Oops, not found !</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React, {useState, useEffect} from 'react'\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Button from '@material-ui/core/Button';\r\nimport jsonFile from \"../utils/historicEmissions.json\";\r\nimport \"../styles/globalsimulator.css\";\r\n\r\nimport {\r\n    AreaChart,\r\n    LineChart,\r\n    Area,\r\n    Line,\r\n    CartesianGrid,\r\n    XAxis,\r\n    YAxis,\r\n    Tooltip,\r\n    ReferenceLine,\r\n    ResponsiveContainer,\r\n  } from \"recharts\";\r\n  \r\n  \r\n\r\n\r\n//TO DO : \r\n// calculer la T°\r\n//  - extrapoler les données > 2100\r\n//   - avoir les bonnes données (budgets, émissions historiques)\r\n//   - récit\r\n//   - Données FR \r\n//  - ajouter la config de la séquestration de carbone\r\n//  - pouvoir simuler une descente à partir d'années futures (ce qui suppose d'extrapoler les émissions d'ici là)\r\n//  - et on pourrait avoir des boutons pour calculer la baisse annuelle nécessaire pour faire 1.5 ou 2 degrés à partir de l'année sur laquelle on souhaite la baisse. Et inversement.\r\n\r\n\r\nconst GlobalSimulator = () => {\r\n\r\n    const [year, setYear] = useState(2018); \r\n    const [evolution, setEvolution] = useState(-5); \r\n    const [dataH, setDataH] = useState(jsonFile.data)\r\n    const [dataS, setDataS] = useState(null)\r\n    const [emissionsCumulated, setEmissionsCumulated] = useState(null)\r\n    const [indicators, setIndicators] = useState(null)\r\n    \r\n    //CONFIG\r\n    const currentYear = 2020;\r\n    const budget15 = 2200;\r\n    const budget2 = 2800;\r\n\r\n    const sliderEvolution = {\r\n        \"min\": -20,\r\n        \"max\": 20,\r\n        \"step\" : 0.5,\r\n        \"unit\" : \"%\"\r\n    }\r\n\r\n    const sliderYear = {\r\n        \"min\": 1850,\r\n        \"max\": 2100,\r\n        \"step\" : 1,\r\n        \"unit\" : \"\"\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        const dataTemp = getEmissions(year,evolution)\r\n        setDataS(dataTemp)\r\n        let emissionsTemp = [];\r\n        let cumul = 0;\r\n        dataTemp.map(d => {\r\n            emissionsTemp.push({\"year\": d.year, \"emissions\": (d.emissions+cumul)/1000})\r\n            cumul += d.emissions\r\n        })\r\n        setEmissionsCumulated(emissionsTemp)\r\n    }, [year, evolution])\r\n\r\n    useEffect(() => {\r\n        if (dataS) {\r\n            let total = getTotalEmissions(dataS.map(v => v.emissions))\r\n            setIndicators({\r\n                \"total\": Math.round(total/1000),\r\n                \"reduction2030\": getReduction(2030),\r\n                \"reduction2050\": getReduction(2050)\r\n            })\r\n        }\r\n    }, [dataS])\r\n\r\n    //UTILS\r\n\r\n    const getEmissions = (year, evolution) => {\r\n        let data = [];\r\n        let firstEmissions = 0;\r\n        dataH.map(d => {\r\n            let emissions=0;\r\n            if (d.year <= year) {\r\n                emissions = d.emissions\r\n                firstEmissions = Math.round(d.emissions)\r\n            }\r\n            else if (d.year > year) {\r\n                emissions = Math.round(firstEmissions * Math.pow((1+evolution/100),d.year -year))\r\n            }\r\n            data.push({\"year\": d.year, \"emissions\": emissions})\r\n        })\r\n        return data\r\n    }\r\n\r\n    const getTotalEmissions = (values) => {\r\n        return values.reduce((a,v)=> a+v, 0)\r\n    }\r\n\r\n    const getEmissionsOfYear = (year) => {\r\n        return dataS.filter(d =>d.year ==year)[0].emissions\r\n    }\r\n\r\n    const setDataFromDataToMatchBudgetLOL = (budget, from) => {\r\n\r\n        let slider = {}\r\n        if (from === \"year\") { slider = sliderEvolution;  }\r\n        else if (from === \"evolution\") { slider = sliderYear; }\r\n\r\n        let dataTab = [];\r\n        for (let i=slider.min; i<=slider.max;i+=slider.step) {\r\n            dataTab.push(i)\r\n        }        \r\n        let emiDeviationMin = 10000000000;\r\n        let iMin = 0\r\n        let emi=[];\r\n        dataTab.map((data,i) => {\r\n            if (from === \"year\") { emi = getEmissions(year, data);}\r\n            else if (from === \"evolution\") { emi = getEmissions(data, evolution); }\r\n            \r\n            let emiDeviation = Math.abs(budget*1000 - getTotalEmissions(emi.map(v=>v.emissions)))\r\n            if ( emiDeviation < emiDeviationMin ) {\r\n                emiDeviationMin = emiDeviation\r\n                iMin = i\r\n            }\r\n        })\r\n        if (from === \"year\") { setEvolution(dataTab[iMin]);}\r\n        else if (from === \"evolution\") { setYear(dataTab[iMin]) }\r\n        \r\n    }\r\n\r\n    const getMarks = (slider) => {\r\n\r\n        return [\r\n            {\r\n            value: slider.min,\r\n            label: `${slider.min}${slider.unit}`,\r\n            },\r\n            {\r\n            value: slider.max,\r\n            label: `${slider.max}${slider.unit}`,\r\n            },\r\n        ]\r\n    }\r\n\r\n    const getReduction = (year) => {\r\n        return Math.round((getEmissionsOfYear(year)/getEmissionsOfYear(currentYear) - 1)*100) + \" %\"\r\n    }\r\n\r\n\r\n    return (\r\n        <div id=\"global_simulator\">\r\n            <h3>Simulateur retro/pro-spectif des émissions mondiales en fonction des évolutions annuelles</h3>\r\n            <p>Et si on s'y prenait maintenant ? Et si on s'y était pris hier ?</p>\r\n            \r\n            {indicators && <div>\r\n                <h5>Total émissions simulées : {indicators.total} MtCO2eq</h5>\r\n                <h5>Evolution de {currentYear} à 2030 : {indicators.reduction2030}</h5>\r\n                <h5>Evolution de {currentYear} à 2050 : {indicators.reduction2050}</h5>\r\n            </div>}\r\n            <div className=\"graph_box\">\r\n\r\n                <ResponsiveContainer>\r\n                    <LineChart margin={{ top: 5, right: 30, left: 20, bottom: 5 }} >\r\n                        <CartesianGrid />\r\n                        <XAxis dataKey=\"year\" type=\"year\" />\r\n                        <YAxis />\r\n                        <Tooltip />\r\n                        <Line data={dataS} dataKey=\"emissions\" stroke=\"#8884d8\" strokeWidth={3} dot={false} />\r\n                        <Line data={dataH} dataKey=\"emissions\" stroke=\"black\"  dot={false} />\r\n                        \r\n                    </LineChart>\r\n                </ResponsiveContainer>\r\n\r\n                <ResponsiveContainer>\r\n                    <AreaChart data={emissionsCumulated} margin={{top: 10, right: 30, left: 0, bottom: 0}}>\r\n                        <CartesianGrid strokeDasharray=\"3 3\"/>\r\n                        <XAxis dataKey=\"year\"/>\r\n                        <YAxis domain={[0, 3000]} />\r\n                        <Tooltip/>\r\n                        <Area type='monotone' dataKey='emissions' stroke='#8884d8' fill='#8884d8' />\r\n                        <ReferenceLine y={budget15} label=\"Budget 1,5°C\" stroke=\"green\" strokeDasharray=\"3 3\" />\r\n                        <ReferenceLine y={budget2} label=\"Budget 2°C\" stroke=\"red\" strokeDasharray=\"3 3\" />\r\n                    </AreaChart>\r\n                </ResponsiveContainer>\r\n\r\n            </div>\r\n\r\n            <div className=\"slider_box\">\r\n\r\n                <div>\r\n\r\n                    <h4>Année du début de l'évolution</h4>\r\n\r\n                    <Slider\r\n                        onChange={(e, val)=>setYear(val)}\r\n                        value={year}\r\n                        step={sliderYear.step}\r\n                        min={sliderYear.min}\r\n                        max={sliderYear.max}\r\n                        marks={getMarks(sliderYear)}\r\n                        valueLabelDisplay=\"on\"\r\n                    />\r\n\r\n                    <Button variant=\"outlined\" color=\"primary\" onClick={()=>setDataFromDataToMatchBudgetLOL(budget2, \"evolution\")}>\r\n                        Quelle année pour 2°C ?\r\n                    </Button>\r\n\r\n                    <Button variant=\"outlined\" color=\"primary\" onClick={()=>setDataFromDataToMatchBudgetLOL(budget15, \"evolution\")}>\r\n                        Quelle année pour 1.5°C ?\r\n                    </Button>\r\n\r\n                </div>\r\n                \r\n                <div>\r\n\r\n                    <h4>Evolution</h4>\r\n\r\n                    <Slider\r\n                        onChange={(e, val)=>setEvolution(val)}\r\n                        value={evolution}\r\n                        valueLabelDisplay=\"auto\"\r\n                        step={sliderEvolution.step}\r\n                        min={sliderEvolution.min}\r\n                        max={sliderEvolution.max}\r\n                        marks={getMarks(sliderEvolution)}\r\n                        scale={(x) => x + \"%\"}\r\n                        valueLabelDisplay=\"on\"\r\n                    />\r\n\r\n                    <Button variant=\"outlined\" color=\"primary\" onClick={()=>setDataFromDataToMatchBudgetLOL(budget2, \"year\")}>\r\n                        Quelle évolution pour 2°C ?\r\n                    </Button>\r\n\r\n                    <Button variant=\"outlined\" color=\"primary\" onClick={()=>setDataFromDataToMatchBudgetLOL(budget15, \"year\")}>\r\n                        Quelle évolution pour 1.5°C ?\r\n                    </Button>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n            \r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GlobalSimulator\r\n","import React from \"react\";\r\n\r\nconst ModalAbout = () => {\r\n  return (\r\n    <div id=\"intro-modal\">\r\n      <h2 className=\"container_title\">Mission Climat Territoires</h2>\r\n\r\n      <p>Bienvenue sur Mission Climat Territoires ! </p>\r\n      <p>\r\n        Cet outil permet de s'approprier les enjeux énergie / climat :\r\n        <ul>\r\n          <li>\r\n            conceptuellement : à travers de la <strong>sensibilisation</strong> et de la{\" \"}\r\n            <strong>formation</strong>\r\n          </li>\r\n          <li>\r\n            collectivement : grâce à la <strong>concertation</strong> et la{\" \"}\r\n            <strong>co-décision</strong>\r\n          </li>\r\n        </ul>\r\n      </p>\r\n\r\n      <p>\r\n        Il s'adresse aux <b>citoyens</b>, aux <b>élus</b>, à{\" \"}\r\n        <b>tout acteur prenant une part active</b> à la transition des territoires, et à{\" \"}\r\n        <b>ceux qui s'adressent à eux</b>. Il se prête particulièrement bien à des{\" \"}\r\n        <b>animations en atelier</b>.\r\n      </p>\r\n\r\n      <p>\r\n        Il peut se <b>décliner</b> simplement à l'<b>échelle de tout territoire</b> : commune, département, région (dans le cadre d'un PCAET, d'un SRADDET...) dans son modèle\r\n        de calcul et graphiquement.\r\n      </p>\r\n\r\n      <p>\r\n        Comme toute les productions Mission Climat, Mission Climat Territoires est disponible en open source. Pour toute question, manifestation d'intérêt, écrivez-nous :\r\n        {\" \"}\r\n        <a href=\"mailto:contact@mission-climat.io\">contact@mission-climat.io</a>\r\n      </p>\r\n\r\n      <p>\r\n        L'équipe de Mission Climat :\r\n        <ul>\r\n          <li>\r\n            Pilotage : Pascal Besson et Guillaume Martin\r\n          </li>\r\n          <li>\r\n            Modèle de calcul : BL Evolution\r\n          </li>\r\n          <li>\r\n            Conception UX-UI : Oriana Berthomieu, Nina Gautreau\r\n          </li>\r\n          <li>\r\n            Développement web : Pascal Besson, Nina Gautreau et Franck-Olivier Marmier\r\n          </li>\r\n        </ul>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalAbout;\r\n","import React from \"react\";\r\n\r\nimport { faQuestionCircle } from \"@fortawesome/free-regular-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst ModalHelp = () => {\r\n  return (\r\n    <div id=\"intro-modal\">\r\n      <h2 className=\"container_title\">Aide</h2>\r\n\r\n      <p>\r\n        Avec <b>Mission Climat Territoires</b>, imaginez le futur de votre territoire grâce à l’<b>évolution des mesures prises</b> dans les différents <b>secteurs d’actions</b> (habitat, tertiaire, transports, industrie, agriculture ou énergie).\r\n      </p>\r\n\r\n      <p>\r\n        En <b>déplaçant les curseurs</b>, vous visualiserez les effets sur le territoire à horizon 2030 pour tester votre niveau d’ambition par rapport aux <b>objectifs</b>. Il s’agit d’un <b>véritable simulateur climat</b>, permettant de <b>visualiser les efforts</b> à réaliser pour <b>atténuer le réchauffement climatique</b>.\r\n      </p>\r\n\r\n      <ol>\r\n        <li>\r\n          Dans un premier temps, <b>prenez connaissance des différents paramètres modifiables</b>{\" \"}\r\n          des secteurs d’actions. Pour une meilleure compréhension, cliquez sur le symbole <FontAwesomeIcon icon={faQuestionCircle} /> si vous avez\r\n          besoin de précisions.{\" \"}\r\n        </li>\r\n        <li>\r\n          Puis, réalisez votre scénario en{\" \"}\r\n          <b>déplaçant les curseurs des différents paramètres d’actions</b> pour que{\" \"}\r\n          <b>les indicateurs d’impacts apparaissent en vert.</b> Cela signifiera que les objectifs\r\n          ont été atteints.{\" \"}\r\n        </li>\r\n        <li>\r\n          Enfin, cliquez sur <b>« Résultats »</b> afin de prendre connaissance des impacts de votre scenario de manière plus détaillée.{\" \"}\r\n        </li>\r\n      </ol>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalHelp;\r\n","import React, { useState } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport Modal from \"./Modal\";\r\nimport ModalAbout from \"./ModalAbout\";\r\nimport ModalHelp from \"./ModalHelp\";\r\n\r\nimport \"../../styles/Nav.css\";\r\n\r\nconst Header = () => {\r\n  const [openAbout, setOpenAbout] = useState(false);\r\n  const [openHelp, setOpenHelp] = useState(false);\r\n\r\n  return (\r\n    <nav className=\"main-nav\">\r\n      <Modal isOpen={openAbout} closeModal={() => setOpenAbout(false)} okButton>\r\n        <ModalAbout />\r\n      </Modal>\r\n\r\n      <Modal isOpen={openHelp} closeModal={() => setOpenHelp(false)} okButton>\r\n        <ModalHelp />\r\n      </Modal>\r\n\r\n      <Link className=\"flex-item acenter\" to=\"/\">\r\n        <img src=\"/images/logo/missionclimat_blue.svg\" alt=\"Logo\" />\r\n        <h4>\r\n          mission climat <span>#Lysed</span>\r\n        </h4>\r\n      </Link>\r\n\r\n      <p>beta</p>\r\n\r\n      <ul className=\"flex-item acenter\">\r\n        <li>\r\n          <Link to=\"/workshops\">\r\n           <button className=\"btn secondary-btn\" type=\"button\">Ateliers</button></Link>\r\n        </li>\r\n        <li>\r\n          <button className=\"btn secondary-btn\" type=\"button\" onClick={() => setOpenAbout(true)}>\r\n            À propos\r\n          </button>\r\n        </li>\r\n        <li>\r\n          <button className=\"btn secondary-btn\" type=\"button\" onClick={() => setOpenHelp(true)}>\r\n            Aide\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default withRouter(Header);\r\n","/// BASIC\r\nimport React, { useState } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport api from \"api/APIHandler\";\r\n\r\n// GOOGLE ANALYTICS\r\nimport ReactGA from \"react-ga\";\r\n\r\n// PAGES\r\nimport Simulator from \"./views/Simulator\";\r\nimport Results from \"./views/Results\";\r\nimport Workshops from \"./views/Workshops\";\r\nimport WorkshopInfos from \"./views/WorkshopInfos\";\r\nimport NotFound from \"./views/NotFound\";\r\nimport GlobalSimulator from \"./components/GlobalSimulator\";\r\n\r\n/// COMPONENTS\r\nimport Header from \"components/partials/Header\";\r\nimport Modal from \"components/partials/Modal\";\r\nimport ModalAbout from \"components/partials/ModalAbout\";\r\n\r\n// STYLES\r\nimport \"./styles/app.css\";\r\nimport \"./styles/reset.css\";\r\n\r\n// TODO => Set in own useEffect ?\r\nif (window.location.hostname !== \"localhost\") {\r\n  ReactGA.initialize(\"G-2ZWYF277Q1\");\r\n  ReactGA.pageview(window.location.pathname + window.location.search);\r\n}\r\n\r\nReactGA.event({\r\n  category: \"Screens\",\r\n  action: `${window.screen.width}:${window.screen.height}`,\r\n});\r\n\r\nfunction App() {\r\n  const width = window.innerWidth;\r\n\r\n  function deleteSheet(e) {\r\n    //e.preventDefault();\r\n    console.log(localStorage.getItem(\"idSheet-VSGP\"));\r\n    if (localStorage.getItem(\"idSheet-VSGP\")) {\r\n      var idSheet = localStorage.getItem(\"idSheet-VSGP\");\r\n      localStorage.removeItem(\"idSheet-VSGP\");\r\n      api\r\n        .delete(\"/sheet/delete\", idSheet)\r\n        .then((res) => {\r\n          console.log(\"SHEET DELETED!\", res);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n\r\n  // useBeforeunload((e) => deleteSheet(e))\r\n  window.addEventListener(\"beforeunload\", (e) => deleteSheet(e));\r\n\r\n  const Mobile = () => {\r\n    return (\r\n      <div id=\"mobile-message\">\r\n        <div>\r\n          <p>\r\n            La version mobile n'est pas encore disponible. Nous vous recommandons de toutes façons\r\n            l'utilisation d'une tablette ou d'un ordinateur pour profiter pleinement des\r\n            fonctionnalités du site. A bientôt !\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const Desktop = () => {\r\n    const [open, setOpen] = useState(false); // pass to true for production\r\n\r\n    return (\r\n      <>\r\n        <div id=\"header\" className=\"flex-item jcenter\">\r\n          <Header />\r\n        </div>\r\n\r\n        <main id=\"content-main\" className=\"flex-item jcenter\">\r\n          <Modal isOpen={open} closeModal={() => setOpen(false)}>\r\n            <ModalAbout />\r\n          </Modal>\r\n\r\n          <Switch>\r\n            {/* BASIC */}\r\n            <Route exact path=\"/\" component={Simulator} />\r\n            {/* SIMULATOR */}\r\n            <Route path=\"/simulator\" component={Simulator} />\r\n            <Route path=\"/confidentialstuff\" component={GlobalSimulator} />\r\n            <Route path=\"/results\" component={Results} />\r\n            <Route path=\"/workshops\" component={Workshops} />\r\n            <Route path=\"/workshop/:id\" component={WorkshopInfos} />\r\n            {/* NOT FOUND */}\r\n            <Route path=\"*\" component={NotFound} />\r\n          </Switch>\r\n        </main>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return width > 0 ? <Desktop /> : <Mobile />;\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport GlobalContext from \"Contexts/GlobalContext\";\r\n\r\nimport Theme from \"components/Theme\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Theme>\r\n      <GlobalContext>\r\n        <App />\r\n      </GlobalContext>\r\n    </Theme>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\"),\r\n);\r\n"],"sourceRoot":""}